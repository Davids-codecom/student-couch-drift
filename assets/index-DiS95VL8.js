const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ListingsMap-niv04fii.js","assets/ListingsMap-Dgihpmma.css","assets/Iridescence-Dx18FabJ.js","assets/Iridescence-oHjkLuLk.css"])))=>i.map(i=>d[i]);
var _y=e=>{throw TypeError(e)};var zf=(e,t,n)=>t.has(e)||_y("Cannot "+n);var k=(e,t,n)=>(zf(e,t,"read from private field"),n?n.call(e):t.get(e)),me=(e,t,n)=>t.has(e)?_y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ee=(e,t,n,r)=>(zf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(zf(e,t,"access private method"),n);var Ic=(e,t,n,r)=>({set _(s){ee(e,t,s,n)},get _(){return k(e,t,r)}});function Qj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Fx={exports:{}},Fd={},Ux={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),Xj=Symbol.for("react.portal"),Zj=Symbol.for("react.fragment"),eP=Symbol.for("react.strict_mode"),tP=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),sP=Symbol.for("react.forward_ref"),oP=Symbol.for("react.suspense"),aP=Symbol.for("react.memo"),iP=Symbol.for("react.lazy"),Ey=Symbol.iterator;function lP(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wx=Object.assign,zx={};function xi(e,t,n){this.props=e,this.context=t,this.refs=zx,this.updater=n||Bx}xi.prototype.isReactComponent={};xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hx(){}Hx.prototype=xi.prototype;function Xm(e,t,n){this.props=e,this.context=t,this.refs=zx,this.updater=n||Bx}var Zm=Xm.prototype=new Hx;Zm.constructor=Xm;Wx(Zm,xi.prototype);Zm.isPureReactComponent=!0;var Cy=Array.isArray,Vx=Object.prototype.hasOwnProperty,eg={current:null},Yx={key:!0,ref:!0,__self:!0,__source:!0};function Kx(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Vx.call(t,r)&&!Yx.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:sc,type:e,key:o,ref:a,props:s,_owner:eg.current}}function cP(e,t){return{$$typeof:sc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tg(e){return typeof e=="object"&&e!==null&&e.$$typeof===sc}function uP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ky=/\/+/g;function Hf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uP(""+e.key):t.toString(36)}function fu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sc:case Xj:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Hf(a,0):r,Cy(s)?(n="",e!=null&&(n=e.replace(ky,"$&/")+"/"),fu(s,t,n,"",function(u){return u})):s!=null&&(tg(s)&&(s=cP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ky,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Cy(e))for(var i=0;i<e.length;i++){o=e[i];var c=r+Hf(o,i);a+=fu(o,t,n,c,s)}else if(c=lP(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=r+Hf(o,i++),a+=fu(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Oc(e,t,n){if(e==null)return e;var r=[],s=0;return fu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function dP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},hu={transition:null},fP={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:hu,ReactCurrentOwner:eg};function Gx(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Oc,forEach:function(e,t,n){Oc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oc(e,function(){t++}),t},toArray:function(e){return Oc(e,function(t){return t})||[]},only:function(e){if(!tg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=xi;Pe.Fragment=Zj;Pe.Profiler=tP;Pe.PureComponent=Xm;Pe.StrictMode=eP;Pe.Suspense=oP;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP;Pe.act=Gx;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wx({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=eg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Vx.call(t,c)&&!Yx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:sc,type:e.type,key:s,ref:o,props:r,_owner:a}};Pe.createContext=function(e){return e={$$typeof:rP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nP,_context:e},e.Consumer=e};Pe.createElement=Kx;Pe.createFactory=function(e){var t=Kx.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:sP,render:e}};Pe.isValidElement=tg;Pe.lazy=function(e){return{$$typeof:iP,_payload:{_status:-1,_result:e},_init:dP}};Pe.memo=function(e,t){return{$$typeof:aP,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};Pe.unstable_act=Gx;Pe.useCallback=function(e,t){return Vt.current.useCallback(e,t)};Pe.useContext=function(e){return Vt.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return Vt.current.useEffect(e,t)};Pe.useId=function(){return Vt.current.useId()};Pe.useImperativeHandle=function(e,t,n){return Vt.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return Vt.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return Vt.current.useReducer(e,t,n)};Pe.useRef=function(e){return Vt.current.useRef(e)};Pe.useState=function(e){return Vt.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return Vt.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return Vt.current.useTransition()};Pe.version="18.3.1";Ux.exports=Pe;var f=Ux.exports;const K=Jm(f),ng=Qj({__proto__:null,default:K},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP=f,pP=Symbol.for("react.element"),mP=Symbol.for("react.fragment"),gP=Object.prototype.hasOwnProperty,vP=hP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yP={key:!0,ref:!0,__self:!0,__source:!0};function qx(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)gP.call(t,r)&&!yP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pP,type:e,key:o,ref:a,props:s,_owner:vP.current}}Fd.Fragment=mP;Fd.jsx=qx;Fd.jsxs=qx;Fx.exports=Fd;var l=Fx.exports,Qx={exports:{}},Cn={},Jx={exports:{}},Xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var W=E.length;E.push(R);e:for(;0<W;){var J=W-1>>>1,Y=E[J];if(0<s(Y,R))E[J]=R,E[W]=Y,W=J;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var R=E[0],W=E.pop();if(W!==R){E[0]=W;e:for(var J=0,Y=E.length,ce=Y>>>1;J<ce;){var B=2*(J+1)-1,D=E[B],U=B+1,H=E[U];if(0>s(D,W))U<Y&&0>s(H,D)?(E[J]=H,E[U]=W,J=U):(E[J]=D,E[B]=W,J=B);else if(U<Y&&0>s(H,W))E[J]=H,E[U]=W,J=U;else break e}}return R}function s(E,R){var W=E.sortIndex-R.sortIndex;return W!==0?W:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],d=1,h=null,p=3,m=!1,w=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=E)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function S(E){if(v=!1,b(E),!w)if(n(c)!==null)w=!0,A(_);else{var R=n(u);R!==null&&M(S,R.startTime-E)}}function _(E,R){w=!1,v&&(v=!1,x(T),T=-1),m=!0;var W=p;try{for(b(R),h=n(c);h!==null&&(!(h.expirationTime>R)||E&&!V());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Y=J(h.expirationTime<=R);R=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),b(R)}else r(c);h=n(c)}if(h!==null)var ce=!0;else{var B=n(u);B!==null&&M(S,B.startTime-R),ce=!1}return ce}finally{h=null,p=W,m=!1}}var C=!1,N=null,T=-1,L=5,$=-1;function V(){return!(e.unstable_now()-$<L)}function F(){if(N!==null){var E=e.unstable_now();$=E;var R=!0;try{R=N(!0,E)}finally{R?I():(C=!1,N=null)}}else C=!1}var I;if(typeof g=="function")I=function(){g(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=F,I=function(){z.postMessage(null)}}else I=function(){y(F,0)};function A(E){N=E,C||(C=!0,I())}function M(E,R){T=y(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,A(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var W=p;p=R;try{return E()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var W=p;p=E;try{return R()}finally{p=W}},e.unstable_scheduleCallback=function(E,R,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,E={id:d++,callback:R,priorityLevel:E,startTime:W,expirationTime:Y,sortIndex:-1},W>J?(E.sortIndex=W,t(u,E),n(c)===null&&E===n(u)&&(v?(x(T),T=-1):v=!0,M(S,W-J))):(E.sortIndex=Y,t(c,E),w||m||(w=!0,A(_))),E},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(E){var R=p;return function(){var W=p;p=R;try{return E.apply(this,arguments)}finally{p=W}}}})(Xx);Jx.exports=Xx;var wP=Jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=f,_n=wP;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zx=new Set,El={};function ra(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(El[e]=t,e=0;e<t.length;e++)Zx.add(t[e])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,bP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},jy={};function SP(e){return op.call(jy,e)?!0:op.call(Ny,e)?!1:bP.test(e)?jy[e]=!0:(Ny[e]=!0,!1)}function _P(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EP(e,t,n,r){if(t===null||typeof t>"u"||_P(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yt(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rg=/[\-:]([a-z])/g;function sg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rg,sg);Nt[t]=new Yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rg,sg);Nt[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rg,sg);Nt[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function og(e,t,n,r){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EP(t,n,s,r)&&(n=null),r||s===null?SP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ls=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),eb=Symbol.for("react.provider"),tb=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),lg=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),nb=Symbol.for("react.offscreen"),Py=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=Py&&e[Py]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Vf;function el(e){if(Vf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vf=t&&t[1]||""}return`
`+Vf+e}var Yf=!1;function Kf(e,t){if(!e||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,i=o.length-1;1<=a&&0<=i&&s[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==o[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?el(e):""}function CP(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=Kf(e.type,!1),e;case 11:return e=Kf(e.type.render,!1),e;case 1:return e=Kf(e.type,!0),e;default:return""}}function cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ka:return"Fragment";case Ca:return"Portal";case ap:return"Profiler";case ag:return"StrictMode";case ip:return"Suspense";case lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tb:return(e.displayName||"Context")+".Consumer";case eb:return(e._context.displayName||"Context")+".Provider";case ig:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lg:return t=e.displayName||null,t!==null?t:cp(e.type)||"Memo";case Ss:t=e._payload,e=e._init;try{return cp(e(t))}catch{}}return null}function kP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(t);case 8:return t===ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NP(e){var t=rb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mc(e){e._valueTracker||(e._valueTracker=NP(e))}function sb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function up(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ty(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ob(e,t){t=t.checked,t!=null&&og(e,"checked",t,!1)}function dp(e,t){ob(e,t);var n=Xs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&fp(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ry(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fp(e,t,n){(t!=="number"||Mu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tl=Array.isArray;function $a(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(tl(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function ab(e,t){var n=Xs(t.value),r=Xs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Oy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ib(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ib(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dc,lb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jP=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){jP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function cb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function ub(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var PP=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(e,t){if(t){if(PP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function cg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,Fa=null,Ua=null;function Ay(e){if(e=ic(e)){if(typeof yp!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Hd(t),yp(e.stateNode,e.type,t))}}function db(e){Fa?Ua?Ua.push(e):Ua=[e]:Fa=e}function fb(){if(Fa){var e=Fa,t=Ua;if(Ua=Fa=null,Ay(e),t)for(e=0;e<t.length;e++)Ay(t[e])}}function hb(e,t){return e(t)}function pb(){}var Gf=!1;function mb(e,t,n){if(Gf)return e(t,n);Gf=!0;try{return hb(e,t,n)}finally{Gf=!1,(Fa!==null||Ua!==null)&&(pb(),fb())}}function kl(e,t){var n=e.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var wp=!1;if(ts)try{var $i={};Object.defineProperty($i,"passive",{get:function(){wp=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{wp=!1}function TP(e,t,n,r,s,o,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var cl=!1,Du=null,Lu=!1,xp=null,RP={onError:function(e){cl=!0,Du=e}};function IP(e,t,n,r,s,o,a,i,c){cl=!1,Du=null,TP.apply(RP,arguments)}function OP(e,t,n,r,s,o,a,i,c){if(IP.apply(this,arguments),cl){if(cl){var u=Du;cl=!1,Du=null}else throw Error(q(198));Lu||(Lu=!0,xp=u)}}function sa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(sa(e)!==e)throw Error(q(188))}function AP(e){var t=e.alternate;if(!t){if(t=sa(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return My(s),e;if(o===r)return My(s),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function vb(e){return e=AP(e),e!==null?yb(e):null}function yb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yb(e);if(t!==null)return t;e=e.sibling}return null}var wb=_n.unstable_scheduleCallback,Dy=_n.unstable_cancelCallback,MP=_n.unstable_shouldYield,DP=_n.unstable_requestPaint,it=_n.unstable_now,LP=_n.unstable_getCurrentPriorityLevel,ug=_n.unstable_ImmediatePriority,xb=_n.unstable_UserBlockingPriority,$u=_n.unstable_NormalPriority,$P=_n.unstable_LowPriority,bb=_n.unstable_IdlePriority,Ud=null,jr=null;function FP(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Ud,e,void 0,(e.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:WP,UP=Math.log,BP=Math.LN2;function WP(e){return e>>>=0,e===0?32:31-(UP(e)/BP|0)|0}var Lc=64,$c=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=nl(i):(o&=a,o!==0&&(r=nl(o)))}else a=n&~s,a!==0?r=nl(a):o!==0&&(r=nl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rr(t),s=1<<n,r|=e[n],t&=~s;return r}function zP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rr(o),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=zP(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function bp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sb(){var e=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),e}function qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rr(t),e[t]=n}function VP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function dg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var We=0;function _b(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eb,fg,Cb,kb,Nb,Sp=!1,Fc=[],Ws=null,zs=null,Hs=null,Nl=new Map,jl=new Map,Es=[],YP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Fi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ic(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function KP(e,t,n,r,s){switch(t){case"focusin":return Ws=Fi(Ws,e,t,n,r,s),!0;case"dragenter":return zs=Fi(zs,e,t,n,r,s),!0;case"mouseover":return Hs=Fi(Hs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Nl.set(o,Fi(Nl.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,jl.set(o,Fi(jl.get(o)||null,e,t,n,r,s)),!0}return!1}function jb(e){var t=No(e.target);if(t!==null){var n=sa(t);if(n!==null){if(t=n.tag,t===13){if(t=gb(n),t!==null){e.blockedOn=t,Nb(e.priority,function(){Cb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return t=ic(n),t!==null&&fg(t),e.blockedOn=n,!1;t.shift()}return!0}function $y(e,t,n){pu(e)&&n.delete(t)}function GP(){Sp=!1,Ws!==null&&pu(Ws)&&(Ws=null),zs!==null&&pu(zs)&&(zs=null),Hs!==null&&pu(Hs)&&(Hs=null),Nl.forEach($y),jl.forEach($y)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,Sp||(Sp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,GP)))}function Pl(e){function t(s){return Ui(s,e)}if(0<Fc.length){Ui(Fc[0],e);for(var n=1;n<Fc.length;n++){var r=Fc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ws!==null&&Ui(Ws,e),zs!==null&&Ui(zs,e),Hs!==null&&Ui(Hs,e),Nl.forEach(t),jl.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&Es.shift()}var Ba=ls.ReactCurrentBatchConfig,Uu=!0;function qP(e,t,n,r){var s=We,o=Ba.transition;Ba.transition=null;try{We=1,hg(e,t,n,r)}finally{We=s,Ba.transition=o}}function QP(e,t,n,r){var s=We,o=Ba.transition;Ba.transition=null;try{We=4,hg(e,t,n,r)}finally{We=s,Ba.transition=o}}function hg(e,t,n,r){if(Uu){var s=_p(e,t,n,r);if(s===null)oh(e,t,r,Bu,n),Ly(e,r);else if(KP(s,e,t,n,r))r.stopPropagation();else if(Ly(e,r),t&4&&-1<YP.indexOf(e)){for(;s!==null;){var o=ic(s);if(o!==null&&Eb(o),o=_p(e,t,n,r),o===null&&oh(e,t,r,Bu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else oh(e,t,r,null,n)}}var Bu=null;function _p(e,t,n,r){if(Bu=null,e=cg(r),e=No(e),e!==null)if(t=sa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bu=e,null}function Pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LP()){case ug:return 1;case xb:return 4;case $u:case $P:return 16;case bb:return 536870912;default:return 16}default:return 16}}var Ls=null,pg=null,mu=null;function Tb(){if(mu)return mu;var e,t=pg,n=t.length,r,s="value"in Ls?Ls.value:Ls.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return mu=s.slice(e,1<r?1-r:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function Fy(){return!1}function kn(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uc:Fy,this.isPropagationStopped=Fy,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mg=kn(bi),ac=rt({},bi,{view:0,detail:0}),JP=kn(ac),Qf,Jf,Bi,Bd=rt({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(Qf=e.screenX-Bi.screenX,Jf=e.screenY-Bi.screenY):Jf=Qf=0,Bi=e),Qf)},movementY:function(e){return"movementY"in e?e.movementY:Jf}}),Uy=kn(Bd),XP=rt({},Bd,{dataTransfer:0}),ZP=kn(XP),eT=rt({},ac,{relatedTarget:0}),Xf=kn(eT),tT=rt({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=kn(tT),rT=rt({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sT=kn(rT),oT=rt({},bi,{data:0}),By=kn(oT),aT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lT[e])?!!t[e]:!1}function gg(){return cT}var uT=rt({},ac,{key:function(e){if(e.key){var t=aT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dT=kn(uT),fT=rt({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=kn(fT),hT=rt({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),pT=kn(hT),mT=rt({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=kn(mT),vT=rt({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yT=kn(vT),wT=[9,13,27,32],vg=ts&&"CompositionEvent"in window,ul=null;ts&&"documentMode"in document&&(ul=document.documentMode);var xT=ts&&"TextEvent"in window&&!ul,Rb=ts&&(!vg||ul&&8<ul&&11>=ul),zy=" ",Hy=!1;function Ib(e,t){switch(e){case"keyup":return wT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ob(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function bT(e,t){switch(e){case"compositionend":return Ob(t);case"keypress":return t.which!==32?null:(Hy=!0,zy);case"textInput":return e=t.data,e===zy&&Hy?null:e;default:return null}}function ST(e,t){if(Na)return e==="compositionend"||!vg&&Ib(e,t)?(e=Tb(),mu=pg=Ls=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rb&&t.locale!=="ko"?null:t.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_T[e.type]:t==="textarea"}function Ab(e,t,n,r){db(r),t=Wu(t,"onChange"),0<t.length&&(n=new mg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,Tl=null;function ET(e){Vb(e,0)}function Wd(e){var t=Ta(e);if(sb(t))return e}function CT(e,t){if(e==="change")return t}var Mb=!1;if(ts){var Zf;if(ts){var eh="oninput"in document;if(!eh){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),eh=typeof Yy.oninput=="function"}Zf=eh}else Zf=!1;Mb=Zf&&(!document.documentMode||9<document.documentMode)}function Ky(){dl&&(dl.detachEvent("onpropertychange",Db),Tl=dl=null)}function Db(e){if(e.propertyName==="value"&&Wd(Tl)){var t=[];Ab(t,Tl,e,cg(e)),mb(ET,t)}}function kT(e,t,n){e==="focusin"?(Ky(),dl=t,Tl=n,dl.attachEvent("onpropertychange",Db)):e==="focusout"&&Ky()}function NT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wd(Tl)}function jT(e,t){if(e==="click")return Wd(t)}function PT(e,t){if(e==="input"||e==="change")return Wd(t)}function TT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:TT;function Rl(e,t){if(or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!op.call(t,s)||!or(e[s],t[s]))return!1}return!0}function Gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qy(e,t){var n=Gy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function Lb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $b(){for(var e=window,t=Mu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mu(e.document)}return t}function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RT(e){var t=$b(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lb(n.ownerDocument.documentElement,n)){if(r!==null&&yg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=qy(n,o);var a=qy(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IT=ts&&"documentMode"in document&&11>=document.documentMode,ja=null,Ep=null,fl=null,Cp=!1;function Qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||ja==null||ja!==Mu(r)||(r=ja,"selectionStart"in r&&yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Rl(fl,r)||(fl=r,r=Wu(Ep,"onSelect"),0<r.length&&(t=new mg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ja)))}function Bc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},th={},Fb={};ts&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function zd(e){if(th[e])return th[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fb)return th[e]=t[n];return e}var Ub=zd("animationend"),Bb=zd("animationiteration"),Wb=zd("animationstart"),zb=zd("transitionend"),Hb=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){Hb.set(e,t),ra(t,[e])}for(var nh=0;nh<Jy.length;nh++){var rh=Jy[nh],OT=rh.toLowerCase(),AT=rh[0].toUpperCase()+rh.slice(1);ro(OT,"on"+AT)}ro(Ub,"onAnimationEnd");ro(Bb,"onAnimationIteration");ro(Wb,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(zb,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Xy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,OP(r,t,void 0,e),e.currentTarget=null}function Vb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&s.isPropagationStopped())break e;Xy(s,i,u),o=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&s.isPropagationStopped())break e;Xy(s,i,u),o=c}}}if(Lu)throw e=xp,Lu=!1,xp=null,e}function Qe(e,t){var n=t[Tp];n===void 0&&(n=t[Tp]=new Set);var r=e+"__bubble";n.has(r)||(Yb(t,e,2,!1),n.add(r))}function sh(e,t,n){var r=0;t&&(r|=4),Yb(n,e,r,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[Wc]){e[Wc]=!0,Zx.forEach(function(n){n!=="selectionchange"&&(MT.has(n)||sh(n,!1,e),sh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,sh("selectionchange",!1,t))}}function Yb(e,t,n,r){switch(Pb(t)){case 1:var s=qP;break;case 4:s=QP;break;default:s=hg}n=s.bind(null,t,n,e),s=void 0,!wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function oh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=No(i),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}i=i.parentNode}}r=r.return}mb(function(){var u=o,d=cg(n),h=[];e:{var p=Hb.get(e);if(p!==void 0){var m=mg,w=e;switch(e){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":m=dT;break;case"focusin":w="focus",m=Xf;break;case"focusout":w="blur",m=Xf;break;case"beforeblur":case"afterblur":m=Xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pT;break;case Ub:case Bb:case Wb:m=nT;break;case zb:m=gT;break;case"scroll":m=JP;break;case"wheel":m=yT;break;case"copy":case"cut":case"paste":m=sT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wy}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var g=u,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=kl(g,x),S!=null&&v.push(Ol(g,S,b)))),y)break;g=g.return}0<v.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==vp&&(w=n.relatedTarget||n.fromElement)&&(No(w)||w[ns]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?No(w):null,w!==null&&(y=sa(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=Uy,S="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Wy,S="onPointerLeave",x="onPointerEnter",g="pointer"),y=m==null?p:Ta(m),b=w==null?p:Ta(w),p=new v(S,g+"leave",m,n,d),p.target=y,p.relatedTarget=b,S=null,No(d)===u&&(v=new v(x,g+"enter",w,n,d),v.target=b,v.relatedTarget=y,S=v),y=S,m&&w)t:{for(v=m,x=w,g=0,b=v;b;b=fa(b))g++;for(b=0,S=x;S;S=fa(S))b++;for(;0<g-b;)v=fa(v),g--;for(;0<b-g;)x=fa(x),b--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=fa(v),x=fa(x)}v=null}else v=null;m!==null&&Zy(h,p,m,v,!1),w!==null&&y!==null&&Zy(h,y,w,v,!0)}}e:{if(p=u?Ta(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=CT;else if(Vy(p))if(Mb)_=PT;else{_=NT;var C=kT}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=jT);if(_&&(_=_(e,u))){Ab(h,_,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&fp(p,"number",p.value)}switch(C=u?Ta(u):window,e){case"focusin":(Vy(C)||C.contentEditable==="true")&&(ja=C,Ep=u,fl=null);break;case"focusout":fl=Ep=ja=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Qy(h,n,d);break;case"selectionchange":if(IT)break;case"keydown":case"keyup":Qy(h,n,d)}var N;if(vg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Na?Ib(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Rb&&n.locale!=="ko"&&(Na||T!=="onCompositionStart"?T==="onCompositionEnd"&&Na&&(N=Tb()):(Ls=d,pg="value"in Ls?Ls.value:Ls.textContent,Na=!0)),C=Wu(u,T),0<C.length&&(T=new By(T,e,null,n,d),h.push({event:T,listeners:C}),N?T.data=N:(N=Ob(n),N!==null&&(T.data=N)))),(N=xT?bT(e,n):ST(e,n))&&(u=Wu(u,"onBeforeInput"),0<u.length&&(d=new By("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}Vb(h,t)})}function Ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=kl(e,n),o!=null&&r.unshift(Ol(e,o,s)),o=kl(e,t),o!=null&&r.push(Ol(e,o,s))),e=e.return}return r}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=kl(n,o),c!=null&&a.unshift(Ol(n,c,i))):s||(c=kl(n,o),c!=null&&a.push(Ol(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var DT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(LT,"")}function zc(e,t,n){if(t=e0(t),e0(e)!==t&&n)throw Error(q(425))}function zu(){}var kp=null,Np=null;function jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(UT)}:Pp;function UT(e){setTimeout(function(){throw e})}function ah(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Pl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pl(t)}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Si,Al="__reactProps$"+Si,ns="__reactContainer$"+Si,Tp="__reactEvents$"+Si,BT="__reactListeners$"+Si,WT="__reactHandles$"+Si;function No(e){var t=e[Cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[Cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=n0(e);e!==null;){if(n=e[Cr])return n;e=n0(e)}return t}e=n,n=e.parentNode}return null}function ic(e){return e=e[Cr]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Hd(e){return e[Al]||null}var Rp=[],Ra=-1;function so(e){return{current:e}}function Je(e){0>Ra||(e.current=Rp[Ra],Rp[Ra]=null,Ra--)}function Ke(e,t){Ra++,Rp[Ra]=e.current,e.current=t}var Zs={},Mt=so(Zs),ln=so(!1),zo=Zs;function ii(e,t){var n=e.type.contextTypes;if(!n)return Zs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cn(e){return e=e.childContextTypes,e!=null}function Hu(){Je(ln),Je(Mt)}function r0(e,t,n){if(Mt.current!==Zs)throw Error(q(168));Ke(Mt,t),Ke(ln,n)}function Kb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,kP(e)||"Unknown",s));return rt({},n,r)}function Vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,zo=Mt.current,Ke(Mt,e),Ke(ln,ln.current),!0}function s0(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Kb(e,t,zo),r.__reactInternalMemoizedMergedChildContext=e,Je(ln),Je(Mt),Ke(Mt,e)):Je(ln),Ke(ln,n)}var Vr=null,Vd=!1,ih=!1;function Gb(e){Vr===null?Vr=[e]:Vr.push(e)}function zT(e){Vd=!0,Gb(e)}function oo(){if(!ih&&Vr!==null){ih=!0;var e=0,t=We;try{var n=Vr;for(We=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vr=null,Vd=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(e+1)),wb(ug,oo),s}finally{We=t,ih=!1}}return null}var Ia=[],Oa=0,Yu=null,Ku=0,An=[],Mn=0,Ho=null,Gr=1,qr="";function xo(e,t){Ia[Oa++]=Ku,Ia[Oa++]=Yu,Yu=e,Ku=t}function qb(e,t,n){An[Mn++]=Gr,An[Mn++]=qr,An[Mn++]=Ho,Ho=e;var r=Gr;e=qr;var s=32-rr(r)-1;r&=~(1<<s),n+=1;var o=32-rr(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gr=1<<32-rr(t)+s|n<<s|r,qr=o+e}else Gr=1<<o|n<<s|r,qr=e}function wg(e){e.return!==null&&(xo(e,1),qb(e,1,0))}function xg(e){for(;e===Yu;)Yu=Ia[--Oa],Ia[Oa]=null,Ku=Ia[--Oa],Ia[Oa]=null;for(;e===Ho;)Ho=An[--Mn],An[Mn]=null,qr=An[--Mn],An[Mn]=null,Gr=An[--Mn],An[Mn]=null}var bn=null,xn=null,Xe=!1,tr=null;function Qb(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function o0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,xn=Vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ho!==null?{id:Gr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,xn=null,!0):!1;default:return!1}}function Ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Op(e){if(Xe){var t=xn;if(t){var n=t;if(!o0(e,t)){if(Ip(e))throw Error(q(418));t=Vs(n.nextSibling);var r=bn;t&&o0(e,t)?Qb(r,n):(e.flags=e.flags&-4097|2,Xe=!1,bn=e)}}else{if(Ip(e))throw Error(q(418));e.flags=e.flags&-4097|2,Xe=!1,bn=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function Hc(e){if(e!==bn)return!1;if(!Xe)return a0(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jp(e.type,e.memoizedProps)),t&&(t=xn)){if(Ip(e))throw Jb(),Error(q(418));for(;t;)Qb(e,t),t=Vs(t.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xn=Vs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=bn?Vs(e.stateNode.nextSibling):null;return!0}function Jb(){for(var e=xn;e;)e=Vs(e.nextSibling)}function li(){xn=bn=null,Xe=!1}function bg(e){tr===null?tr=[e]:tr.push(e)}var HT=ls.ReactCurrentBatchConfig;function Wi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=s.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Vc(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i0(e){var t=e._init;return t(e._payload)}function Xb(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=qs(x,g),x.index=0,x.sibling=null,x}function o(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,g,b,S){return g===null||g.tag!==6?(g=ph(b,x.mode,S),g.return=x,g):(g=s(g,b),g.return=x,g)}function c(x,g,b,S){var _=b.type;return _===ka?d(x,g,b.props.children,S,b.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ss&&i0(_)===g.type)?(S=s(g,b.props),S.ref=Wi(x,g,b),S.return=x,S):(S=_u(b.type,b.key,b.props,null,x.mode,S),S.ref=Wi(x,g,b),S.return=x,S)}function u(x,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=mh(b,x.mode,S),g.return=x,g):(g=s(g,b.children||[]),g.return=x,g)}function d(x,g,b,S,_){return g===null||g.tag!==7?(g=Bo(b,x.mode,S,_),g.return=x,g):(g=s(g,b),g.return=x,g)}function h(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ph(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ac:return b=_u(g.type,g.key,g.props,null,x.mode,b),b.ref=Wi(x,null,g),b.return=x,b;case Ca:return g=mh(g,x.mode,b),g.return=x,g;case Ss:var S=g._init;return h(x,S(g._payload),b)}if(tl(g)||Li(g))return g=Bo(g,x.mode,b,null),g.return=x,g;Vc(x,g)}return null}function p(x,g,b,S){var _=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:i(x,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ac:return b.key===_?c(x,g,b,S):null;case Ca:return b.key===_?u(x,g,b,S):null;case Ss:return _=b._init,p(x,g,_(b._payload),S)}if(tl(b)||Li(b))return _!==null?null:d(x,g,b,S,null);Vc(x,b)}return null}function m(x,g,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,i(g,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ac:return x=x.get(S.key===null?b:S.key)||null,c(g,x,S,_);case Ca:return x=x.get(S.key===null?b:S.key)||null,u(g,x,S,_);case Ss:var C=S._init;return m(x,g,b,C(S._payload),_)}if(tl(S)||Li(S))return x=x.get(b)||null,d(g,x,S,_,null);Vc(g,S)}return null}function w(x,g,b,S){for(var _=null,C=null,N=g,T=g=0,L=null;N!==null&&T<b.length;T++){N.index>T?(L=N,N=null):L=N.sibling;var $=p(x,N,b[T],S);if($===null){N===null&&(N=L);break}e&&N&&$.alternate===null&&t(x,N),g=o($,g,T),C===null?_=$:C.sibling=$,C=$,N=L}if(T===b.length)return n(x,N),Xe&&xo(x,T),_;if(N===null){for(;T<b.length;T++)N=h(x,b[T],S),N!==null&&(g=o(N,g,T),C===null?_=N:C.sibling=N,C=N);return Xe&&xo(x,T),_}for(N=r(x,N);T<b.length;T++)L=m(N,x,T,b[T],S),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?T:L.key),g=o(L,g,T),C===null?_=L:C.sibling=L,C=L);return e&&N.forEach(function(V){return t(x,V)}),Xe&&xo(x,T),_}function v(x,g,b,S){var _=Li(b);if(typeof _!="function")throw Error(q(150));if(b=_.call(b),b==null)throw Error(q(151));for(var C=_=null,N=g,T=g=0,L=null,$=b.next();N!==null&&!$.done;T++,$=b.next()){N.index>T?(L=N,N=null):L=N.sibling;var V=p(x,N,$.value,S);if(V===null){N===null&&(N=L);break}e&&N&&V.alternate===null&&t(x,N),g=o(V,g,T),C===null?_=V:C.sibling=V,C=V,N=L}if($.done)return n(x,N),Xe&&xo(x,T),_;if(N===null){for(;!$.done;T++,$=b.next())$=h(x,$.value,S),$!==null&&(g=o($,g,T),C===null?_=$:C.sibling=$,C=$);return Xe&&xo(x,T),_}for(N=r(x,N);!$.done;T++,$=b.next())$=m(N,x,T,$.value,S),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?T:$.key),g=o($,g,T),C===null?_=$:C.sibling=$,C=$);return e&&N.forEach(function(F){return t(x,F)}),Xe&&xo(x,T),_}function y(x,g,b,S){if(typeof b=="object"&&b!==null&&b.type===ka&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ac:e:{for(var _=b.key,C=g;C!==null;){if(C.key===_){if(_=b.type,_===ka){if(C.tag===7){n(x,C.sibling),g=s(C,b.props.children),g.return=x,x=g;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ss&&i0(_)===C.type){n(x,C.sibling),g=s(C,b.props),g.ref=Wi(x,C,b),g.return=x,x=g;break e}n(x,C);break}else t(x,C);C=C.sibling}b.type===ka?(g=Bo(b.props.children,x.mode,S,b.key),g.return=x,x=g):(S=_u(b.type,b.key,b.props,null,x.mode,S),S.ref=Wi(x,g,b),S.return=x,x=S)}return a(x);case Ca:e:{for(C=b.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(x,g.sibling),g=s(g,b.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=mh(b,x.mode,S),g.return=x,x=g}return a(x);case Ss:return C=b._init,y(x,g,C(b._payload),S)}if(tl(b))return w(x,g,b,S);if(Li(b))return v(x,g,b,S);Vc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,b),g.return=x,x=g):(n(x,g),g=ph(b,x.mode,S),g.return=x,x=g),a(x)):n(x,g)}return y}var ci=Xb(!0),Zb=Xb(!1),Gu=so(null),qu=null,Aa=null,Sg=null;function _g(){Sg=Aa=qu=null}function Eg(e){var t=Gu.current;Je(Gu),e._currentValue=t}function Ap(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wa(e,t){qu=e,Sg=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(Sg!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(qu===null)throw Error(q(308));Aa=e,qu.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var jo=null;function Cg(e){jo===null?jo=[e]:jo.push(e)}function eS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Cg(t)):(n.next=s.next,s.next=n),t.interleaved=n,rs(e,r)}function rs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _s=!1;function kg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rs(e,n)}return s=r.interleaved,s===null?(t.next=t,Cg(r)):(t.next=s.next,s.next=t),r.interleaved=t,rs(e,n)}function vu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dg(e,n)}}function l0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qu(e,t,n,r){var s=e.updateQueue;_s=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==a&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,i=o;do{var p=i.lane,m=i.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,v=i;switch(p=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=rt({},h,p);break e;case 2:_s=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[i]:p.push(i))}else m={eventTime:m,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=p;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;p=i,i=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Yo|=a,e.lanes=a,e.memoizedState=h}}function c0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var lc={},Pr=so(lc),Ml=so(lc),Dl=so(lc);function Po(e){if(e===lc)throw Error(q(174));return e}function Ng(e,t){switch(Ke(Dl,t),Ke(Ml,e),Ke(Pr,lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pp(t,e)}Je(Pr),Ke(Pr,t)}function ui(){Je(Pr),Je(Ml),Je(Dl)}function nS(e){Po(Dl.current);var t=Po(Pr.current),n=pp(t,e.type);t!==n&&(Ke(Ml,e),Ke(Pr,n))}function jg(e){Ml.current===e&&(Je(Pr),Je(Ml))}var tt=so(0);function Ju(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lh=[];function Pg(){for(var e=0;e<lh.length;e++)lh[e]._workInProgressVersionPrimary=null;lh.length=0}var yu=ls.ReactCurrentDispatcher,ch=ls.ReactCurrentBatchConfig,Vo=0,nt=null,vt=null,bt=null,Xu=!1,hl=!1,Ll=0,VT=0;function Tt(){throw Error(q(321))}function Tg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Rg(e,t,n,r,s,o){if(Vo=o,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?qT:QT,e=n(r,s),hl){o=0;do{if(hl=!1,Ll=0,25<=o)throw Error(q(301));o+=1,bt=vt=null,t.updateQueue=null,yu.current=JT,e=n(r,s)}while(hl)}if(yu.current=Zu,t=vt!==null&&vt.next!==null,Vo=0,bt=vt=nt=null,Xu=!1,t)throw Error(q(300));return e}function Ig(){var e=Ll!==0;return Ll=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?nt.memoizedState=bt=e:bt=bt.next=e,bt}function Wn(){if(vt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=bt===null?nt.memoizedState:bt.next;if(t!==null)bt=t,vt=e;else{if(e===null)throw Error(q(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},bt===null?nt.memoizedState=bt=e:bt=bt.next=e}return bt}function $l(e,t){return typeof t=="function"?t(e):t}function uh(e){var t=Wn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=vt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=a=null,c=null,u=o;do{var d=u.lane;if((Vo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=h,a=r):c=c.next=h,nt.lanes|=d,Yo|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=i,or(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,nt.lanes|=o,Yo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dh(e){var t=Wn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);or(o,t.memoizedState)||(on=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function rS(){}function sS(e,t){var n=nt,r=Wn(),s=t(),o=!or(r.memoizedState,s);if(o&&(r.memoizedState=s,on=!0),r=r.queue,Og(iS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Fl(9,aS.bind(null,n,r,s,t),void 0,null),St===null)throw Error(q(349));Vo&30||oS(n,t,s)}return s}function oS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aS(e,t,n,r){t.value=n,t.getSnapshot=r,lS(t)&&cS(e)}function iS(e,t,n){return n(function(){lS(t)&&cS(e)})}function lS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch{return!0}}function cS(e){var t=rs(e,1);t!==null&&sr(t,e,1,-1)}function u0(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:e},t.queue=e,e=e.dispatch=GT.bind(null,nt,e),[t.memoizedState,e]}function Fl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uS(){return Wn().memoizedState}function wu(e,t,n,r){var s=xr();nt.flags|=e,s.memoizedState=Fl(1|t,n,void 0,r===void 0?null:r)}function Yd(e,t,n,r){var s=Wn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var a=vt.memoizedState;if(o=a.destroy,r!==null&&Tg(r,a.deps)){s.memoizedState=Fl(t,n,o,r);return}}nt.flags|=e,s.memoizedState=Fl(1|t,n,o,r)}function d0(e,t){return wu(8390656,8,e,t)}function Og(e,t){return Yd(2048,8,e,t)}function dS(e,t){return Yd(4,2,e,t)}function fS(e,t){return Yd(4,4,e,t)}function hS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pS(e,t,n){return n=n!=null?n.concat([e]):null,Yd(4,4,hS.bind(null,t,e),n)}function Ag(){}function mS(e,t){var n=Wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gS(e,t){var n=Wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vS(e,t,n){return Vo&21?(or(n,t)||(n=Sb(),nt.lanes|=n,Yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function YT(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var r=ch.transition;ch.transition={};try{e(!1),t()}finally{We=n,ch.transition=r}}function yS(){return Wn().memoizedState}function KT(e,t,n){var r=Gs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wS(e))xS(t,n);else if(n=eS(e,t,n,r),n!==null){var s=Ht();sr(n,e,r,s),bS(n,t,r)}}function GT(e,t,n){var r=Gs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wS(e))xS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(s.hasEagerState=!0,s.eagerState=i,or(i,a)){var c=t.interleaved;c===null?(s.next=s,Cg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=eS(e,t,s,r),n!==null&&(s=Ht(),sr(n,e,r,s),bS(n,t,r))}}function wS(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function xS(e,t){hl=Xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dg(e,n)}}var Zu={readContext:Bn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},qT={readContext:Bn,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:d0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wu(4194308,4,hS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return wu(4,2,e,t)},useMemo:function(e,t){var n=xr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KT.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:u0,useDebugValue:Ag,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=u0(!1),t=e[0];return e=YT.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,s=xr();if(Xe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),St===null)throw Error(q(349));Vo&30||oS(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,d0(iS.bind(null,r,o,e),[e]),r.flags|=2048,Fl(9,aS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xr(),t=St.identifierPrefix;if(Xe){var n=qr,r=Gr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QT={readContext:Bn,useCallback:mS,useContext:Bn,useEffect:Og,useImperativeHandle:pS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:gS,useReducer:uh,useRef:uS,useState:function(){return uh($l)},useDebugValue:Ag,useDeferredValue:function(e){var t=Wn();return vS(t,vt.memoizedState,e)},useTransition:function(){var e=uh($l)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:rS,useSyncExternalStore:sS,useId:yS,unstable_isNewReconciler:!1},JT={readContext:Bn,useCallback:mS,useContext:Bn,useEffect:Og,useImperativeHandle:pS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:gS,useReducer:dh,useRef:uS,useState:function(){return dh($l)},useDebugValue:Ag,useDeferredValue:function(e){var t=Wn();return vt===null?t.memoizedState=e:vS(t,vt.memoizedState,e)},useTransition:function(){var e=dh($l)[0],t=Wn().memoizedState;return[e,t]},useMutableSource:rS,useSyncExternalStore:sS,useId:yS,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kd={isMounted:function(e){return(e=e._reactInternals)?sa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ht(),s=Gs(e),o=Zr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ys(e,o,s),t!==null&&(sr(t,e,s,r),vu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ht(),s=Gs(e),o=Zr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ys(e,o,s),t!==null&&(sr(t,e,s,r),vu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),r=Gs(e),s=Zr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ys(e,s,r),t!==null&&(sr(t,e,r,n),vu(t,e,r))}};function f0(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Rl(n,r)||!Rl(s,o):!0}function SS(e,t,n){var r=!1,s=Zs,o=t.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(s=cn(t)?zo:Mt.current,r=t.contextTypes,o=(r=r!=null)?ii(e,s):Zs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function h0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function Dp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},kg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Bn(o):(o=cn(t)?zo:Mt.current,s.context=ii(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Mp(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kd.enqueueReplaceState(s,s.state,null),Qu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t){try{var n="",r=t;do n+=CP(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function fh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XT=typeof WeakMap=="function"?WeakMap:Map;function _S(e,t,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){td||(td=!0,Kp=r),Lp(e,t)},n}function ES(e,t,n){n=Zr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Lp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Lp(e,t),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function p0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fR.bind(null,e,t,n),t.then(e,e))}function m0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function g0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zr(-1,1),t.tag=2,Ys(n,t,1))),n.lanes|=1),e)}var ZT=ls.ReactCurrentOwner,on=!1;function Bt(e,t,n,r){t.child=e===null?Zb(t,null,n,r):ci(t,e.child,n,r)}function v0(e,t,n,r,s){n=n.render;var o=t.ref;return Wa(t,s),r=Rg(e,t,n,r,o,s),n=Ig(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ss(e,t,s)):(Xe&&n&&wg(t),t.flags|=1,Bt(e,t,r,s),t.child)}function y0(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Wg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,CS(e,t,o,r,s)):(e=_u(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(a,r)&&e.ref===t.ref)return ss(e,t,s)}return t.flags|=1,e=qs(o,r),e.ref=t.ref,e.return=t,t.child=e}function CS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Rl(o,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,ss(e,t,s)}return $p(e,t,n,r,s)}function kS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Da,yn),yn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Da,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(Da,yn),yn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ke(Da,yn),yn|=r;return Bt(e,t,s,n),t.child}function NS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $p(e,t,n,r,s){var o=cn(n)?zo:Mt.current;return o=ii(t,o),Wa(t,s),n=Rg(e,t,n,r,o,s),r=Ig(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ss(e,t,s)):(Xe&&r&&wg(t),t.flags|=1,Bt(e,t,n,s),t.child)}function w0(e,t,n,r,s){if(cn(n)){var o=!0;Vu(t)}else o=!1;if(Wa(t,s),t.stateNode===null)xu(e,t),SS(t,n,r),Dp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=cn(n)?zo:Mt.current,u=ii(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&h0(t,a,r,u),_s=!1;var p=t.memoizedState;a.state=p,Qu(t,r,a,s),c=t.memoizedState,i!==r||p!==c||ln.current||_s?(typeof d=="function"&&(Mp(t,n,d,r),c=t.memoizedState),(i=_s||f0(t,n,i,r,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,tS(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Qn(t.type,i),a.props=u,h=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=cn(n)?zo:Mt.current,c=ii(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==h||p!==c)&&h0(t,a,r,c),_s=!1,p=t.memoizedState,a.state=p,Qu(t,r,a,s);var w=t.memoizedState;i!==h||p!==w||ln.current||_s?(typeof m=="function"&&(Mp(t,n,m,r),w=t.memoizedState),(u=_s||f0(t,n,u,r,p,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Fp(e,t,n,r,o,s)}function Fp(e,t,n,r,s,o){NS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&s0(t,n,!1),ss(e,t,o);r=t.stateNode,ZT.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ci(t,e.child,null,o),t.child=ci(t,null,i,o)):Bt(e,t,i,o),t.memoizedState=r.state,s&&s0(t,n,!0),t.child}function jS(e){var t=e.stateNode;t.pendingContext?r0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r0(e,t.context,!1),Ng(e,t.containerInfo)}function x0(e,t,n,r,s){return li(),bg(s),t.flags|=256,Bt(e,t,n,r),t.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function Bp(e){return{baseLanes:e,cachePool:null,transitions:null}}function PS(e,t,n){var r=t.pendingProps,s=tt.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(tt,s&1),e===null)return Op(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Qd(a,r,0,null),e=Bo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bp(n),t.memoizedState=Up,e):Mg(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return eR(e,t,a,r,i,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=qs(i,o):(o=Bo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Bp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Up,r}return o=e.child,e=o.sibling,r=qs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mg(e,t){return t=Qd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,n,r){return r!==null&&bg(r),ci(t,e.child,null,n),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eR(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=fh(Error(q(422))),Yc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Qd({mode:"visible",children:r.children},s,0,null),o=Bo(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ci(t,e.child,null,a),t.child.memoizedState=Bp(a),t.memoizedState=Up,o);if(!(t.mode&1))return Yc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(q(419)),r=fh(o,r,void 0),Yc(e,t,a,r)}if(i=(a&e.childLanes)!==0,on||i){if(r=St,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,rs(e,s),sr(r,e,s,-1))}return Bg(),r=fh(Error(q(421))),Yc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,xn=Vs(s.nextSibling),bn=t,Xe=!0,tr=null,e!==null&&(An[Mn++]=Gr,An[Mn++]=qr,An[Mn++]=Ho,Gr=e.id,qr=e.overflow,Ho=t),t=Mg(t,r.children),t.flags|=4096,t)}function b0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ap(e.return,t,n)}function hh(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function TS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Bt(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b0(e,n,t);else if(e.tag===19)b0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(tt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ju(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hh(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ju(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hh(t,!0,n,null,o);break;case"together":hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ss(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tR(e,t,n){switch(t.tag){case 3:jS(t),li();break;case 5:nS(t);break;case 1:cn(t.type)&&Vu(t);break;case 4:Ng(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ke(Gu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(tt,tt.current&1),t.flags|=128,null):n&t.child.childLanes?PS(e,t,n):(Ke(tt,tt.current&1),e=ss(e,t,n),e!==null?e.sibling:null);Ke(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return TS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(tt,tt.current),r)break;return null;case 22:case 23:return t.lanes=0,kS(e,t,n)}return ss(e,t,n)}var RS,Wp,IS,OS;RS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};IS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Po(Pr.current);var o=null;switch(n){case"input":s=up(e,s),r=up(e,r),o=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":s=hp(e,s),r=hp(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zu)}mp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};OS=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nR(e,t,n){var r=t.pendingProps;switch(xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return cn(t.type)&&Hu(),Rt(t),null;case 3:return r=t.stateNode,ui(),Je(ln),Je(Mt),Pg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(Qp(tr),tr=null))),Wp(e,t),Rt(t),null;case 5:jg(t);var s=Po(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)IS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Rt(t),null}if(e=Po(Pr.current),Hc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cr]=t,r[Al]=o,e=(t.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)Qe(rl[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Ty(r,o),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",r);break;case"textarea":Iy(r,o),Qe("invalid",r)}mp(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&zc(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&zc(r.textContent,i,e),s=["children",""+i]):El.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Mc(r),Ry(r,o,!0);break;case"textarea":Mc(r),Oy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ib(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Cr]=t,e[Al]=r,RS(e,t,!1,!1),t.stateNode=e;e:{switch(a=gp(n,r),n){case"dialog":Qe("cancel",e),Qe("close",e),s=r;break;case"iframe":case"object":case"embed":Qe("load",e),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)Qe(rl[s],e);s=r;break;case"source":Qe("error",e),s=r;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=r;break;case"details":Qe("toggle",e),s=r;break;case"input":Ty(e,r),s=up(e,r),Qe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),Qe("invalid",e);break;case"textarea":Iy(e,r),s=hp(e,r),Qe("invalid",e);break;default:s=r}mp(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?ub(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lb(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cl(e,c):typeof c=="number"&&Cl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(El.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Qe("scroll",e):c!=null&&og(e,o,c,a))}switch(n){case"input":Mc(e),Ry(e,r,!1);break;case"textarea":Mc(e),Oy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$a(e,!!r.multiple,o,!1):r.defaultValue!=null&&$a(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)OS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Po(Dl.current),Po(Pr.current),Hc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cr]=t,(o=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:zc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=t,t.stateNode=r}return Rt(t),null;case 13:if(Je(tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&xn!==null&&t.mode&1&&!(t.flags&128))Jb(),li(),t.flags|=98560,o=!1;else if(o=Hc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Cr]=t}else li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),o=!1}else tr!==null&&(Qp(tr),tr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?wt===0&&(wt=3):Bg())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return ui(),Wp(e,t),e===null&&Il(t.stateNode.containerInfo),Rt(t),null;case 10:return Eg(t.type._context),Rt(t),null;case 17:return cn(t.type)&&Hu(),Rt(t),null;case 19:if(Je(tt),o=t.memoizedState,o===null)return Rt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)zi(o,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ju(e),a!==null){for(t.flags|=128,zi(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(tt,tt.current&1|2),t.child}e=e.sibling}o.tail!==null&&it()>fi&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ju(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Xe)return Rt(t),null}else 2*it()-o.renderingStartTime>fi&&n!==1073741824&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,n=tt.current,Ke(tt,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return Ug(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function rR(e,t){switch(xg(t),t.tag){case 1:return cn(t.type)&&Hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),Je(ln),Je(Mt),Pg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jg(t),null;case 13:if(Je(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(tt),null;case 4:return ui(),null;case 10:return Eg(t.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var Kc=!1,Ot=!1,sR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ma(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function zp(e,t,n){try{n()}catch(r){ot(e,t,r)}}var S0=!1;function oR(e,t){if(kp=Uu,e=$b(),yg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(i=a+s),h!==o||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(i=a),p===o&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:e,selectionRange:n},Uu=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,y=w.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qn(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){ot(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return w=S0,S0=!1,w}function pl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&zp(t,n,o)}s=s.next}while(s!==r)}}function Gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AS(e){var t=e.alternate;t!==null&&(e.alternate=null,AS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cr],delete t[Al],delete t[Tp],delete t[BT],delete t[WT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MS(e){return e.tag===5||e.tag===3||e.tag===4}function _0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zu));else if(r!==4&&(e=e.child,e!==null))for(Vp(e,t,n),e=e.sibling;e!==null;)Vp(e,t,n),e=e.sibling}function Yp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yp(e,t,n),e=e.sibling;e!==null;)Yp(e,t,n),e=e.sibling}var Ct=null,Zn=!1;function ps(e,t,n){for(n=n.child;n!==null;)DS(e,t,n),n=n.sibling}function DS(e,t,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:Ot||Ma(n,t);case 6:var r=Ct,s=Zn;Ct=null,ps(e,t,n),Ct=r,Zn=s,Ct!==null&&(Zn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Zn?(e=Ct,n=n.stateNode,e.nodeType===8?ah(e.parentNode,n):e.nodeType===1&&ah(e,n),Pl(e)):ah(Ct,n.stateNode));break;case 4:r=Ct,s=Zn,Ct=n.stateNode.containerInfo,Zn=!0,ps(e,t,n),Ct=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&zp(n,t,a),s=s.next}while(s!==r)}ps(e,t,n);break;case 1:if(!Ot&&(Ma(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ot(n,t,i)}ps(e,t,n);break;case 21:ps(e,t,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ps(e,t,n),Ot=r):ps(e,t,n);break;default:ps(e,t,n)}}function E0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sR),t.forEach(function(r){var s=pR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ct=i.stateNode,Zn=!1;break e;case 3:Ct=i.stateNode.containerInfo,Zn=!0;break e;case 4:Ct=i.stateNode.containerInfo,Zn=!0;break e}i=i.return}if(Ct===null)throw Error(q(160));DS(o,a,s),Ct=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LS(t,e),t=t.sibling}function LS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),yr(e),r&4){try{pl(3,e,e.return),Gd(3,e)}catch(v){ot(e,e.return,v)}try{pl(5,e,e.return)}catch(v){ot(e,e.return,v)}}break;case 1:Yn(t,e),yr(e),r&512&&n!==null&&Ma(n,n.return);break;case 5:if(Yn(t,e),yr(e),r&512&&n!==null&&Ma(n,n.return),e.flags&32){var s=e.stateNode;try{Cl(s,"")}catch(v){ot(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&ob(s,o),gp(i,a);var u=gp(i,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?ub(s,h):d==="dangerouslySetInnerHTML"?lb(s,h):d==="children"?Cl(s,h):og(s,d,h,u)}switch(i){case"input":dp(s,o);break;case"textarea":ab(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$a(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?$a(s,!!o.multiple,o.defaultValue,!0):$a(s,!!o.multiple,o.multiple?[]:"",!1))}s[Al]=o}catch(v){ot(e,e.return,v)}}break;case 6:if(Yn(t,e),yr(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){ot(e,e.return,v)}}break;case 3:if(Yn(t,e),yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(v){ot(e,e.return,v)}break;case 4:Yn(t,e),yr(e);break;case 13:Yn(t,e),yr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||($g=it())),r&4&&E0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ot=(u=Ot)||d,Yn(t,e),Ot=u):Yn(t,e),yr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(h=ae=d;ae!==null;){switch(p=ae,m=p.child,p.tag){case 0:case 11:case 14:case 15:pl(4,p,p.return);break;case 1:Ma(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ot(r,n,v)}}break;case 5:Ma(p,p.return);break;case 22:if(p.memoizedState!==null){k0(h);continue}}m!==null?(m.return=p,ae=m):k0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=cb("display",a))}catch(v){ot(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ot(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(t,e),yr(e),r&4&&E0(e);break;case 21:break;default:Yn(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(MS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cl(s,""),r.flags&=-33);var o=_0(e);Yp(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=_0(e);Vp(e,i,a);break;default:throw Error(q(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aR(e,t,n){ae=e,$S(e)}function $S(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Kc;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||Ot;i=Kc;var u=Ot;if(Kc=a,(Ot=c)&&!u)for(ae=s;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?N0(s):c!==null?(c.return=a,ae=c):N0(s);for(;o!==null;)ae=o,$S(o),o=o.sibling;ae=s,Kc=i,Ot=u}C0(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ae=o):C0(e)}}function C0(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||Gd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&c0(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}c0(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ot||t.flags&512&&Hp(t)}catch(p){ot(t,t.return,p)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function k0(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function N0(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gd(4,t)}catch(c){ot(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ot(t,s,c)}}var o=t.return;try{Hp(t)}catch(c){ot(t,o,c)}break;case 5:var a=t.return;try{Hp(t)}catch(c){ot(t,a,c)}}}catch(c){ot(t,t.return,c)}if(t===e){ae=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ae=i;break}ae=t.return}}var iR=Math.ceil,ed=ls.ReactCurrentDispatcher,Dg=ls.ReactCurrentOwner,$n=ls.ReactCurrentBatchConfig,De=0,St=null,dt=null,kt=0,yn=0,Da=so(0),wt=0,Ul=null,Yo=0,qd=0,Lg=0,ml=null,rn=null,$g=0,fi=1/0,zr=null,td=!1,Kp=null,Ks=null,Gc=!1,$s=null,nd=0,gl=0,Gp=null,bu=-1,Su=0;function Ht(){return De&6?it():bu!==-1?bu:bu=it()}function Gs(e){return e.mode&1?De&2&&kt!==0?kt&-kt:HT.transition!==null?(Su===0&&(Su=Sb()),Su):(e=We,e!==0||(e=window.event,e=e===void 0?16:Pb(e.type)),e):1}function sr(e,t,n,r){if(50<gl)throw gl=0,Gp=null,Error(q(185));oc(e,n,r),(!(De&2)||e!==St)&&(e===St&&(!(De&2)&&(qd|=n),wt===4&&Cs(e,kt)),un(e,r),n===1&&De===0&&!(t.mode&1)&&(fi=it()+500,Vd&&oo()))}function un(e,t){var n=e.callbackNode;HP(e,t);var r=Fu(e,e===St?kt:0);if(r===0)n!==null&&Dy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dy(n),t===1)e.tag===0?zT(j0.bind(null,e)):Gb(j0.bind(null,e)),FT(function(){!(De&6)&&oo()}),n=null;else{switch(_b(r)){case 1:n=ug;break;case 4:n=xb;break;case 16:n=$u;break;case 536870912:n=bb;break;default:n=$u}n=YS(n,FS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function FS(e,t){if(bu=-1,Su=0,De&6)throw Error(q(327));var n=e.callbackNode;if(za()&&e.callbackNode!==n)return null;var r=Fu(e,e===St?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rd(e,r);else{t=r;var s=De;De|=2;var o=BS();(St!==e||kt!==t)&&(zr=null,fi=it()+500,Uo(e,t));do try{uR();break}catch(i){US(e,i)}while(!0);_g(),ed.current=o,De=s,dt!==null?t=0:(St=null,kt=0,t=wt)}if(t!==0){if(t===2&&(s=bp(e),s!==0&&(r=s,t=qp(e,s))),t===1)throw n=Ul,Uo(e,0),Cs(e,r),un(e,it()),n;if(t===6)Cs(e,r);else{if(s=e.current.alternate,!(r&30)&&!lR(s)&&(t=rd(e,r),t===2&&(o=bp(e),o!==0&&(r=o,t=qp(e,o))),t===1))throw n=Ul,Uo(e,0),Cs(e,r),un(e,it()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:bo(e,rn,zr);break;case 3:if(Cs(e,r),(r&130023424)===r&&(t=$g+500-it(),10<t)){if(Fu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pp(bo.bind(null,e,rn,zr),t);break}bo(e,rn,zr);break;case 4:if(Cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-rr(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iR(r/1960))-r,10<r){e.timeoutHandle=Pp(bo.bind(null,e,rn,zr),r);break}bo(e,rn,zr);break;case 5:bo(e,rn,zr);break;default:throw Error(q(329))}}}return un(e,it()),e.callbackNode===n?FS.bind(null,e):null}function qp(e,t){var n=ml;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),e=rd(e,t),e!==2&&(t=rn,rn=n,t!==null&&Qp(t)),e}function Qp(e){rn===null?rn=e:rn.push.apply(rn,e)}function lR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!or(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~Lg,t&=~qd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rr(t),r=1<<n;e[n]=-1,t&=~r}}function j0(e){if(De&6)throw Error(q(327));za();var t=Fu(e,0);if(!(t&1))return un(e,it()),null;var n=rd(e,t);if(e.tag!==0&&n===2){var r=bp(e);r!==0&&(t=r,n=qp(e,r))}if(n===1)throw n=Ul,Uo(e,0),Cs(e,t),un(e,it()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bo(e,rn,zr),un(e,it()),null}function Fg(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(fi=it()+500,Vd&&oo())}}function Ko(e){$s!==null&&$s.tag===0&&!(De&6)&&za();var t=De;De|=1;var n=$n.transition,r=We;try{if($n.transition=null,We=1,e)return e()}finally{We=r,$n.transition=n,De=t,!(De&6)&&oo()}}function Ug(){yn=Da.current,Je(Da)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$T(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hu();break;case 3:ui(),Je(ln),Je(Mt),Pg();break;case 5:jg(r);break;case 4:ui();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:Eg(r.type._context);break;case 22:case 23:Ug()}n=n.return}if(St=e,dt=e=qs(e.current,null),kt=yn=t,wt=0,Ul=null,Lg=qd=Yo=0,rn=ml=null,jo!==null){for(t=0;t<jo.length;t++)if(n=jo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}jo=null}return e}function US(e,t){do{var n=dt;try{if(_g(),yu.current=Zu,Xu){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xu=!1}if(Vo=0,bt=vt=nt=null,hl=!1,Ll=0,Dg.current=null,n===null||n.return===null){wt=1,Ul=t,dt=null;break}e:{var o=e,a=n.return,i=n,c=t;if(t=kt,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=i,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=m0(a);if(m!==null){m.flags&=-257,g0(m,a,i,o,t),m.mode&1&&p0(o,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){p0(o,u,t),Bg();break e}c=Error(q(426))}}else if(Xe&&i.mode&1){var y=m0(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),g0(y,a,i,o,t),bg(di(c,i));break e}}o=c=di(c,i),wt!==4&&(wt=2),ml===null?ml=[o]:ml.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=_S(o,c,t);l0(o,x);break e;case 1:i=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=ES(o,i,t);l0(o,S);break e}}o=o.return}while(o!==null)}zS(n)}catch(_){t=_,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function BS(){var e=ed.current;return ed.current=Zu,e===null?Zu:e}function Bg(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||!(Yo&268435455)&&!(qd&268435455)||Cs(St,kt)}function rd(e,t){var n=De;De|=2;var r=BS();(St!==e||kt!==t)&&(zr=null,Uo(e,t));do try{cR();break}catch(s){US(e,s)}while(!0);if(_g(),De=n,ed.current=r,dt!==null)throw Error(q(261));return St=null,kt=0,wt}function cR(){for(;dt!==null;)WS(dt)}function uR(){for(;dt!==null&&!MP();)WS(dt)}function WS(e){var t=VS(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?zS(e):dt=t,Dg.current=null}function zS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rR(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,dt=null;return}}else if(n=nR(n,t,yn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);wt===0&&(wt=5)}function bo(e,t,n){var r=We,s=$n.transition;try{$n.transition=null,We=1,dR(e,t,n,r)}finally{$n.transition=s,We=r}return null}function dR(e,t,n,r){do za();while($s!==null);if(De&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(VP(e,o),e===St&&(dt=St=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gc||(Gc=!0,YS($u,function(){return za(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var a=We;We=1;var i=De;De|=4,Dg.current=null,oR(e,n),LS(n,e),RT(Np),Uu=!!kp,Np=kp=null,e.current=n,aR(n),DP(),De=i,We=a,$n.transition=o}else e.current=n;if(Gc&&(Gc=!1,$s=e,nd=s),o=e.pendingLanes,o===0&&(Ks=null),FP(n.stateNode),un(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(td)throw td=!1,e=Kp,Kp=null,e;return nd&1&&e.tag!==0&&za(),o=e.pendingLanes,o&1?e===Gp?gl++:(gl=0,Gp=e):gl=0,oo(),null}function za(){if($s!==null){var e=_b(nd),t=$n.transition,n=We;try{if($n.transition=null,We=16>e?16:e,$s===null)var r=!1;else{if(e=$s,$s=null,nd=0,De&6)throw Error(q(331));var s=De;for(De|=4,ae=e.current;ae!==null;){var o=ae,a=o.child;if(ae.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:pl(8,d,o)}var h=d.child;if(h!==null)h.return=d,ae=h;else for(;ae!==null;){d=ae;var p=d.sibling,m=d.return;if(AS(d),d===u){ae=null;break}if(p!==null){p.return=m,ae=p;break}ae=m}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ae=a;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var g=e.current;for(ae=g;ae!==null;){a=ae;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ae=b;else e:for(a=g;ae!==null;){if(i=ae,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Gd(9,i)}}catch(_){ot(i,i.return,_)}if(i===a){ae=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,ae=S;break e}ae=i.return}}if(De=s,oo(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Ud,e)}catch{}r=!0}return r}finally{We=n,$n.transition=t}}return!1}function P0(e,t,n){t=di(n,t),t=_S(e,t,1),e=Ys(e,t,1),t=Ht(),e!==null&&(oc(e,1,t),un(e,t))}function ot(e,t,n){if(e.tag===3)P0(e,e,n);else for(;t!==null;){if(t.tag===3){P0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){e=di(n,e),e=ES(t,e,1),t=Ys(t,e,1),e=Ht(),t!==null&&(oc(t,1,e),un(t,e));break}}t=t.return}}function fR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(kt&n)===n&&(wt===4||wt===3&&(kt&130023424)===kt&&500>it()-$g?Uo(e,0):Lg|=n),un(e,t)}function HS(e,t){t===0&&(e.mode&1?(t=$c,$c<<=1,!($c&130023424)&&($c=4194304)):t=1);var n=Ht();e=rs(e,t),e!==null&&(oc(e,t,n),un(e,n))}function hR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HS(e,n)}function pR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),HS(e,n)}var VS;VS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,tR(e,t,n);on=!!(e.flags&131072)}else on=!1,Xe&&t.flags&1048576&&qb(t,Ku,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xu(e,t),e=t.pendingProps;var s=ii(t,Mt.current);Wa(t,n),s=Rg(null,t,r,e,s,n);var o=Ig();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(o=!0,Vu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kg(t),s.updater=Kd,t.stateNode=s,s._reactInternals=t,Dp(t,r,e,n),t=Fp(null,t,r,!0,o,n)):(t.tag=0,Xe&&o&&wg(t),Bt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gR(r),e=Qn(r,e),s){case 0:t=$p(null,t,r,e,n);break e;case 1:t=w0(null,t,r,e,n);break e;case 11:t=v0(null,t,r,e,n);break e;case 14:t=y0(null,t,r,Qn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qn(r,s),$p(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qn(r,s),w0(e,t,r,s,n);case 3:e:{if(jS(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,s=o.element,tS(e,t),Qu(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=di(Error(q(423)),t),t=x0(e,t,r,n,s);break e}else if(r!==s){s=di(Error(q(424)),t),t=x0(e,t,r,n,s);break e}else for(xn=Vs(t.stateNode.containerInfo.firstChild),bn=t,Xe=!0,tr=null,n=Zb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){t=ss(e,t,n);break e}Bt(e,t,r,n)}t=t.child}return t;case 5:return nS(t),e===null&&Op(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,jp(r,s)?a=null:o!==null&&jp(r,o)&&(t.flags|=32),NS(e,t),Bt(e,t,a,n),t.child;case 6:return e===null&&Op(t),null;case 13:return PS(e,t,n);case 4:return Ng(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ci(t,null,r,n):Bt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qn(r,s),v0(e,t,r,s,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ke(Gu,r._currentValue),r._currentValue=a,o!==null)if(or(o.value,a)){if(o.children===s.children&&!ln.current){t=ss(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Zr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ap(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(q(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Ap(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wa(t,n),s=Bn(s),r=r(s),t.flags|=1,Bt(e,t,r,n),t.child;case 14:return r=t.type,s=Qn(r,t.pendingProps),s=Qn(r.type,s),y0(e,t,r,s,n);case 15:return CS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qn(r,s),xu(e,t),t.tag=1,cn(r)?(e=!0,Vu(t)):e=!1,Wa(t,n),SS(t,r,s),Dp(t,r,s,n),Fp(null,t,r,!0,e,n);case 19:return TS(e,t,n);case 22:return kS(e,t,n)}throw Error(q(156,t.tag))};function YS(e,t){return wb(e,t)}function mR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new mR(e,t,n,r)}function Wg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gR(e){if(typeof e=="function")return Wg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ig)return 11;if(e===lg)return 14}return 2}function qs(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _u(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Wg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ka:return Bo(n.children,s,o,t);case ag:a=8,s|=8;break;case ap:return e=Dn(12,n,t,s|2),e.elementType=ap,e.lanes=o,e;case ip:return e=Dn(13,n,t,s),e.elementType=ip,e.lanes=o,e;case lp:return e=Dn(19,n,t,s),e.elementType=lp,e.lanes=o,e;case nb:return Qd(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eb:a=10;break e;case tb:a=9;break e;case ig:a=11;break e;case lg:a=14;break e;case Ss:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Dn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Bo(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function Qd(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=nb,e.lanes=n,e.stateNode={isHidden:!1},e}function ph(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function mh(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zg(e,t,n,r,s,o,a,i,c){return e=new vR(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kg(o),e}function yR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KS(e){if(!e)return Zs;e=e._reactInternals;e:{if(sa(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(cn(n))return Kb(e,n,t)}return t}function GS(e,t,n,r,s,o,a,i,c){return e=zg(n,r,!0,e,s,o,a,i,c),e.context=KS(null),n=e.current,r=Ht(),s=Gs(n),o=Zr(r,s),o.callback=t??null,Ys(n,o,s),e.current.lanes=s,oc(e,s,r),un(e,r),e}function Jd(e,t,n,r){var s=t.current,o=Ht(),a=Gs(s);return n=KS(n),t.context===null?t.context=n:t.pendingContext=n,t=Zr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ys(s,t,a),e!==null&&(sr(e,s,a,o),vu(e,s,a)),a}function sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hg(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function wR(){return null}var qS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vg(e){this._internalRoot=e}Xd.prototype.render=Vg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Jd(e,t,null,null)};Xd.prototype.unmount=Vg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ko(function(){Jd(null,e,null,null)}),t[ns]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=kb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&jb(e)}};function Yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R0(){}function xR(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=sd(a);o.call(u)}}var a=GS(t,r,e,0,null,!1,!1,"",R0);return e._reactRootContainer=a,e[ns]=a.current,Il(e.nodeType===8?e.parentNode:e),Ko(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=sd(c);i.call(u)}}var c=zg(e,0,!1,null,null,!1,!1,"",R0);return e._reactRootContainer=c,e[ns]=c.current,Il(e.nodeType===8?e.parentNode:e),Ko(function(){Jd(t,c,n,r)}),c}function ef(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var i=s;s=function(){var c=sd(a);i.call(c)}}Jd(t,a,e,s)}else a=xR(n,t,e,s,r);return sd(a)}Eb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nl(t.pendingLanes);n!==0&&(dg(t,n|1),un(t,it()),!(De&6)&&(fi=it()+500,oo()))}break;case 13:Ko(function(){var r=rs(e,1);if(r!==null){var s=Ht();sr(r,e,1,s)}}),Hg(e,1)}};fg=function(e){if(e.tag===13){var t=rs(e,134217728);if(t!==null){var n=Ht();sr(t,e,134217728,n)}Hg(e,134217728)}};Cb=function(e){if(e.tag===13){var t=Gs(e),n=rs(e,t);if(n!==null){var r=Ht();sr(n,e,t,r)}Hg(e,t)}};kb=function(){return We};Nb=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};yp=function(e,t,n){switch(t){case"input":if(dp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Hd(r);if(!s)throw Error(q(90));sb(r),dp(r,s)}}}break;case"textarea":ab(e,n);break;case"select":t=n.value,t!=null&&$a(e,!!n.multiple,t,!1)}};hb=Fg;pb=Ko;var bR={usingClientEntryPoint:!1,Events:[ic,Ta,Hd,db,fb,Fg]},Hi={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SR={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vb(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||wR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Ud=qc.inject(SR),jr=qc}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yg(t))throw Error(q(200));return yR(e,t,null,n)};Cn.createRoot=function(e,t){if(!Yg(e))throw Error(q(299));var n=!1,r="",s=qS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zg(e,1,!1,null,null,n,!1,r,s),e[ns]=t.current,Il(e.nodeType===8?e.parentNode:e),new Vg(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=vb(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Ko(e)};Cn.hydrate=function(e,t,n){if(!Zd(t))throw Error(q(200));return ef(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!Yg(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=qS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=GS(t,null,e,1,n??null,s,!1,o,a),e[ns]=t.current,Il(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xd(t)};Cn.render=function(e,t,n){if(!Zd(t))throw Error(q(200));return ef(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Zd(e))throw Error(q(40));return e._reactRootContainer?(Ko(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};Cn.unstable_batchedUpdates=Fg;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zd(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return ef(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(e){console.error(e)}}QS(),Qx.exports=Cn;var oa=Qx.exports;const JS=Jm(oa);var XS,I0=oa;XS=I0.createRoot,I0.hydrateRoot;const _R=1,ER=1e6;let gh=0;function CR(){return gh=(gh+1)%Number.MAX_SAFE_INTEGER,gh.toString()}const vh=new Map,O0=e=>{if(vh.has(e))return;const t=setTimeout(()=>{vh.delete(e),vl({type:"REMOVE_TOAST",toastId:e})},ER);vh.set(e,t)},kR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_R)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?O0(n):e.toasts.forEach(r=>{O0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Eu=[];let Cu={toasts:[]};function vl(e){Cu=kR(Cu,e),Eu.forEach(t=>{t(Cu)})}function NR({...e}){const t=CR(),n=s=>vl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>vl({type:"DISMISS_TOAST",toastId:t});return vl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function ur(){const[e,t]=f.useState(Cu);return f.useEffect(()=>(Eu.push(t),()=>{const n=Eu.indexOf(t);n>-1&&Eu.splice(n,1)}),[e]),{...e,toast:NR,dismiss:n=>vl({type:"DISMISS_TOAST",toastId:n})}}function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function A0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tf(...e){return t=>{let n=!1;const r=e.map(s=>{const o=A0(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():A0(e[s],null)}}}}function Ce(...e){return f.useCallback(tf(...e),e)}function jR(e,t){const n=f.createContext(t),r=o=>{const{children:a,...i}=o,c=f.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(o){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Kt(e,t=[]){let n=[];function r(o,a){const i=f.createContext(a),c=n.length;n=[...n,a];const u=h=>{var x;const{scope:p,children:m,...w}=h,v=((x=p==null?void 0:p[e])==null?void 0:x[c])||i,y=f.useMemo(()=>w,Object.values(w));return l.jsx(v.Provider,{value:y,children:m})};u.displayName=o+"Provider";function d(h,p){var v;const m=((v=p==null?void 0:p[e])==null?void 0:v[c])||i,w=f.useContext(m);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>f.createContext(a));return function(i){const c=(i==null?void 0:i[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return s.scopeName=e,[r,PR(s,...t)]}function PR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((i,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...i,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function eo(e){const t=RR(e),n=f.forwardRef((r,s)=>{const{children:o,...a}=r,i=f.Children.toArray(o),c=i.find(OR);if(c){const u=c.props.children,d=i.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var TR=eo("Slot");function RR(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const a=MR(s),i=AR(o,s.props);return s.type!==f.Fragment&&(i.ref=r?tf(r,a):a),f.cloneElement(s,i)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZS=Symbol("radix.slottable");function IR(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ZS,t}function OR(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZS}function AR(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...i)=>{const c=o(...i);return s(...i),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function MR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function nf(e){const t=e+"CollectionProvider",[n,r]=Kt(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:x}=v,g=K.useRef(null),b=K.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:b,collectionRef:g,children:x})};a.displayName=t;const i=e+"CollectionSlot",c=eo(i),u=K.forwardRef((v,y)=>{const{scope:x,children:g}=v,b=o(i,x),S=Ce(y,b.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=i;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=eo(d),m=K.forwardRef((v,y)=>{const{scope:x,children:g,...b}=v,S=K.useRef(null),_=Ce(y,S),C=o(d,x);return K.useEffect(()=>(C.itemMap.set(S,{ref:S,...b}),()=>void C.itemMap.delete(S))),l.jsx(p,{[h]:"",ref:_,children:g})});m.displayName=d;function w(v){const y=o(e+"CollectionConsumer",v);return K.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((C,N)=>b.indexOf(C.ref.current)-b.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},w,r]}var DR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=DR.reduce((e,t)=>{const n=eo(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:a,...i}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kg(e,t){e&&oa.flushSync(()=>e.dispatchEvent(t))}function at(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function LR(e,t=globalThis==null?void 0:globalThis.document){const n=at(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $R="DismissableLayer",Jp="dismissableLayer.update",FR="dismissableLayer.pointerDownOutside",UR="dismissableLayer.focusOutside",M0,e_=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:i,...c}=e,u=f.useContext(e_),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),w=Ce(t,N=>h(N)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),g=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,_=WR(N=>{const T=N.target,L=[...u.branches].some($=>$.contains(T));!S||L||(s==null||s(N),a==null||a(N),N.defaultPrevented||i==null||i())},p),C=zR(N=>{const T=N.target;[...u.branches].some($=>$.contains(T))||(o==null||o(N),a==null||a(N),N.defaultPrevented||i==null||i())},p);return LR(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},p),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),D0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=M0)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),D0())},[d,u]),f.useEffect(()=>{const N=()=>m({});return document.addEventListener(Jp,N),()=>document.removeEventListener(Jp,N)},[]),l.jsx(fe.div,{...c,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,_.onPointerDownCapture)})});aa.displayName=$R;var BR="DismissableLayerBranch",t_=f.forwardRef((e,t)=>{const n=f.useContext(e_),r=f.useRef(null),s=Ce(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(fe.div,{...e,ref:s})});t_.displayName=BR;function WR(e,t=globalThis==null?void 0:globalThis.document){const n=at(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){n_(FR,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zR(e,t=globalThis==null?void 0:globalThis.document){const n=at(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&n_(UR,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D0(){const e=new CustomEvent(Jp);document.dispatchEvent(e)}function n_(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Kg(s,o):s.dispatchEvent(o)}var HR=aa,VR=t_,lt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},YR="Portal",_i=f.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[s,o]=f.useState(!1);lt(()=>o(!0),[]);const a=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?JS.createPortal(l.jsx(fe.div,{...r,ref:t}),a):null});_i.displayName=YR;function KR(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var _t=e=>{const{present:t,children:n}=e,r=GR(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=Ce(r.ref,qR(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};_t.displayName="Presence";function GR(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),a=e?"mounted":"unmounted",[i,c]=KR(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Qc(r.current);o.current=i==="mounted"?u:"none"},[i]),lt(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=Qc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const v=Qc(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=m=>{m.target===t&&(o.current=Qc(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Qc(e){return(e==null?void 0:e.animationName)||"none"}function qR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var QR=ng[" useInsertionEffect ".trim().toString()]||lt;function os({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=JR({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==i&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=f.useCallback(d=>{var h;if(i){const p=XR(d)?d(e):d;p!==e&&((h=a.current)==null||h.call(a,p))}else o(d)},[i,e,o,a]);return[c,u]}function JR({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return QR(()=>{o.current=t},[t]),f.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function XR(e){return typeof e=="function"}var r_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZR="VisuallyHidden",rf=f.forwardRef((e,t)=>l.jsx(fe.span,{...e,ref:t,style:{...r_,...e.style}}));rf.displayName=ZR;var eI=rf,Gg="ToastProvider",[qg,tI,nI]=nf("Toast"),[s_,vz]=Kt("Toast",[nI]),[rI,sf]=s_(Gg),o_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[i,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),p=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gg}\`. Expected non-empty \`string\`.`),l.jsx(qg.Provider,{scope:t,children:l.jsx(rI,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:i,onViewportChange:c,onToastAdd:f.useCallback(()=>d(m=>m+1),[]),onToastRemove:f.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};o_.displayName=Gg;var a_="ToastViewport",sI=["F8"],Xp="toast.viewportPause",Zp="toast.viewportResume",i_=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=sI,label:s="Notifications ({hotkey})",...o}=e,a=sf(a_,n),i=tI(n),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=Ce(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;f.useEffect(()=>{const y=x=>{var b;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),f.useEffect(()=>{const y=c.current,x=h.current;if(w&&y&&x){const g=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(Xp);x.dispatchEvent(C),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(Zp);x.dispatchEvent(C),a.isClosePausedRef.current=!1}},S=C=>{!y.contains(C.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",g),y.addEventListener("focusout",S),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,a.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:y})=>{const g=i().map(b=>{const S=b.ref.current,_=[S,...vI(S)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?g.reverse():g).flat()},[i]);return f.useEffect(()=>{const y=h.current;if(y){const x=g=>{var _,C,N;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const T=document.activeElement,L=g.shiftKey;if(g.target===y&&L){(_=u.current)==null||_.focus();return}const F=v({tabbingDirection:L?"backwards":"forwards"}),I=F.findIndex(j=>j===T);yh(F.slice(I+1))?g.preventDefault():L?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[i,v]),l.jsxs(VR,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(em,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});yh(y)}}),l.jsx(qg.Slot,{scope:n,children:l.jsx(fe.ol,{tabIndex:-1,...o,ref:p})}),w&&l.jsx(em,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});yh(y)}})]})});i_.displayName=a_;var l_="ToastFocusProxy",em=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=sf(l_,n);return l.jsx(rf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const i=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(i))&&r()}})});em.displayName=l_;var cc="Toast",oI="toast.swipeStart",aI="toast.swipeMove",iI="toast.swipeCancel",lI="toast.swipeEnd",c_=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[i,c]=os({prop:r,defaultProp:s??!0,onChange:o,caller:cc});return l.jsx(_t,{present:n||i,children:l.jsx(dI,{open:i,...a,ref:t,onClose:()=>c(!1),onPause:at(e.onPause),onResume:at(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});c_.displayName=cc;var[cI,uI]=s_(cc,{onClose(){}}),dI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:i,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...w}=e,v=sf(cc,n),[y,x]=f.useState(null),g=Ce(t,j=>x(j)),b=f.useRef(null),S=f.useRef(null),_=s||v.duration,C=f.useRef(0),N=f.useRef(_),T=f.useRef(0),{onToastAdd:L,onToastRemove:$}=v,V=at(()=>{var z;(y==null?void 0:y.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),a()}),F=f.useCallback(j=>{!j||j===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(V,j))},[V]);f.useEffect(()=>{const j=v.viewport;if(j){const z=()=>{F(N.current),u==null||u()},A=()=>{const M=new Date().getTime()-C.current;N.current=N.current-M,window.clearTimeout(T.current),c==null||c()};return j.addEventListener(Xp,A),j.addEventListener(Zp,z),()=>{j.removeEventListener(Xp,A),j.removeEventListener(Zp,z)}}},[v.viewport,_,c,u,F]),f.useEffect(()=>{o&&!v.isClosePausedRef.current&&F(_)},[o,_,v.isClosePausedRef,F]),f.useEffect(()=>(L(),()=>$()),[L,$]);const I=f.useMemo(()=>y?g_(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[I&&l.jsx(fI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),l.jsx(cI,{scope:n,onClose:V,children:oa.createPortal(l.jsx(qg.ItemSlot,{scope:n,children:l.jsx(HR,{asChild:!0,onEscapeKeyDown:Q(i,()=>{v.isFocusedToastEscapeKeyDownRef.current||V(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,j=>{j.key==="Escape"&&(i==null||i(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Q(e.onPointerDown,j=>{j.button===0&&(b.current={x:j.clientX,y:j.clientY})}),onPointerMove:Q(e.onPointerMove,j=>{if(!b.current)return;const z=j.clientX-b.current.x,A=j.clientY-b.current.y,M=!!S.current,E=["left","right"].includes(v.swipeDirection),R=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=E?R(0,z):0,J=E?0:R(0,A),Y=j.pointerType==="touch"?10:2,ce={x:W,y:J},B={originalEvent:j,delta:ce};M?(S.current=ce,Jc(aI,h,B,{discrete:!1})):L0(ce,v.swipeDirection,Y)?(S.current=ce,Jc(oI,d,B,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(z)>Y||Math.abs(A)>Y)&&(b.current=null)}),onPointerUp:Q(e.onPointerUp,j=>{const z=S.current,A=j.target;if(A.hasPointerCapture(j.pointerId)&&A.releasePointerCapture(j.pointerId),S.current=null,b.current=null,z){const M=j.currentTarget,E={originalEvent:j,delta:z};L0(z,v.swipeDirection,v.swipeThreshold)?Jc(lI,m,E,{discrete:!0}):Jc(iI,p,E,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),fI=e=>{const{__scopeToast:t,children:n,...r}=e,s=sf(cc,t),[o,a]=f.useState(!1),[i,c]=f.useState(!1);return mI(()=>a(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:l.jsx(_i,{asChild:!0,children:l.jsx(rf,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},hI="ToastTitle",u_=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(fe.div,{...r,ref:t})});u_.displayName=hI;var pI="ToastDescription",d_=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(fe.div,{...r,ref:t})});d_.displayName=pI;var f_="ToastAction",h_=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(m_,{altText:n,asChild:!0,children:l.jsx(Qg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${f_}\`. Expected non-empty \`string\`.`),null)});h_.displayName=f_;var p_="ToastClose",Qg=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=uI(p_,n);return l.jsx(m_,{asChild:!0,children:l.jsx(fe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,s.onClose)})})});Qg.displayName=p_;var m_=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function g_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),gI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...g_(r))}}),t}function Jc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Kg(s,o):s.dispatchEvent(o)}var L0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function mI(e=()=>{}){const t=at(e);lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function gI(e){return e.nodeType===e.ELEMENT_NODE}function vI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yI=o_,v_=i_,y_=c_,w_=u_,x_=d_,b_=h_,S_=Qg;function __(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=__(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function E_(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=__(e))&&(r&&(r+=" "),r+=t);return r}const $0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,F0=E_,of=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return F0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=$0(d)||$0(h);return s[u][p]}),i=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[v,y]=w;return Array.isArray(y)?y.includes({...o,...i}[v]):{...o,...i}[v]===y})?[...u,h,p]:u},[]);return F0(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...i},c)=>f.createElement("svg",{ref:c,...xI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:C_("lucide",s),...i},[...a.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement(bI,{ref:o,iconNode:t,className:C_(`lucide-${wI(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Gt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Gt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Gt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Gt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Gt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Gt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Gt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Gt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tv="-",jI=e=>{const t=TI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const i=a.split(tv);return i[0]===""&&i.length!==1&&i.shift(),P_(i,t)||PI(a)},getConflictingClassGroupIds:(a,i)=>{const c=n[a]||[];return i&&r[a]?[...c,...r[a]]:c}}},P_=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?P_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(tv);return(a=t.validators.find(({validator:i})=>i(o)))==null?void 0:a.classGroupId},U0=/^\[(.+)\]$/,PI=e=>{if(U0.test(e)){const t=U0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},TI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return II(Object.entries(e.classGroups),n).forEach(([o,a])=>{tm(a,r,o,t)}),r},tm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:B0(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(RI(s)){tm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{tm(a,B0(t,o),n,r)})})},B0=(e,t)=>{let n=e;return t.split(tv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RI=e=>e.isThemeGetter,II=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,i])=>[t+a,i])):o);return[n,s]}):e,OI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},T_="!",AI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=i=>{const c=[];let u=0,d=0,h;for(let y=0;y<i.length;y++){let x=i[y];if(u===0){if(x===s&&(r||i.slice(y,y+o)===t)){c.push(i.slice(d,y)),d=y+o;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?i:i.substring(d),m=p.startsWith(T_),w=m?p.substring(1):p,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:v}};return n?i=>n({className:i,parseClassName:a}):a},MI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},DI=e=>({cache:OI(e.cacheSize),parseClassName:AI(e),...jI(e)}),LI=/\s+/,$I=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(LI);let i="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let w=!!m,v=r(w?p.substring(0,m):p);if(!v){if(!w){i=u+(i.length>0?" "+i:i);continue}if(v=r(p),!v){i=u+(i.length>0?" "+i:i);continue}w=!1}const y=MI(d).join(":"),x=h?y+T_:y,g=x+v;if(o.includes(g))continue;o.push(g);const b=s(v,w);for(let S=0;S<b.length;++S){const _=b[S];o.push(x+_)}i=u+(i.length>0?" "+i:i)}return i};function FI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=R_(t))&&(r&&(r+=" "),r+=n);return r}const R_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=R_(e[r]))&&(n&&(n+=" "),n+=t);return n};function UI(e,...t){let n,r,s,o=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=DI(u),r=n.cache.get,s=n.cache.set,o=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=$I(c,n);return s(c,d),d}return function(){return o(FI.apply(null,arguments))}}const qe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},I_=/^\[(?:([a-z-]+):)?(.+)\]$/i,BI=/^\d+\/\d+$/,WI=new Set(["px","full","screen"]),zI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Ha(e)||WI.has(e)||BI.test(e),ms=e=>Ei(e,"length",tO),Ha=e=>!!e&&!Number.isNaN(Number(e)),wh=e=>Ei(e,"number",Ha),Vi=e=>!!e&&Number.isInteger(Number(e)),GI=e=>e.endsWith("%")&&Ha(e.slice(0,-1)),Ne=e=>I_.test(e),gs=e=>zI.test(e),qI=new Set(["length","size","percentage"]),QI=e=>Ei(e,qI,O_),JI=e=>Ei(e,"position",O_),XI=new Set(["image","url"]),ZI=e=>Ei(e,XI,rO),eO=e=>Ei(e,"",nO),Yi=()=>!0,Ei=(e,t,n)=>{const r=I_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},tO=e=>HI.test(e)&&!VI.test(e),O_=()=>!1,nO=e=>YI.test(e),rO=e=>KI.test(e),sO=()=>{const e=qe("colors"),t=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),o=qe("borderRadius"),a=qe("borderSpacing"),i=qe("borderWidth"),c=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),h=qe("invert"),p=qe("gap"),m=qe("gradientColorStops"),w=qe("gradientColorStopPositions"),v=qe("inset"),y=qe("margin"),x=qe("opacity"),g=qe("padding"),b=qe("saturate"),S=qe("scale"),_=qe("sepia"),C=qe("skew"),N=qe("space"),T=qe("translate"),L=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ne,t],F=()=>[Ne,t],I=()=>["",Ur,ms],j=()=>["auto",Ha,Ne],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ne],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ha,Ne];return{cacheSize:500,separator:":",theme:{colors:[Yi],spacing:[Ur,ms],blur:["none","",gs,Ne],brightness:J(),borderColor:[e],borderRadius:["none","","full",gs,Ne],borderSpacing:F(),borderWidth:I(),contrast:J(),grayscale:R(),hueRotate:J(),invert:R(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[GI,ms],inset:V(),margin:V(),opacity:J(),padding:F(),saturate:J(),scale:J(),sepia:R(),skew:J(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ne]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vi,Ne]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Vi,Ne]}],"grid-cols":[{"grid-cols":[Yi]}],"col-start-end":[{col:["auto",{span:["full",Vi,Ne]},Ne]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Yi]}],"row-start-end":[{row:["auto",{span:[Vi,Ne]},Ne]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wh]}],"font-family":[{font:[Yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Ha,wh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,ms]}],"underline-offset":[{"underline-offset":["auto",Ur,Ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),JI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ur,Ne]}],"outline-w":[{outline:[Ur,ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ur,ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,eO]}],"shadow-color":[{shadow:[Yi]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gs,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Vi,Ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,ms,wh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oO=UI(sO);function ge(...e){return oO(E_(e))}const aO=yI,A_=f.forwardRef(({className:e,...t},n)=>l.jsx(v_,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));A_.displayName=v_.displayName;const iO=of("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M_=f.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(y_,{ref:r,className:ge(iO({variant:t}),e),...n}));M_.displayName=y_.displayName;const lO=f.forwardRef(({className:e,...t},n)=>l.jsx(b_,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));lO.displayName=b_.displayName;const D_=f.forwardRef(({className:e,...t},n)=>l.jsx(S_,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(j_,{className:"h-4 w-4"})}));D_.displayName=S_.displayName;const L_=f.forwardRef(({className:e,...t},n)=>l.jsx(w_,{ref:n,className:ge("text-sm font-semibold",e),...t}));L_.displayName=w_.displayName;const $_=f.forwardRef(({className:e,...t},n)=>l.jsx(x_,{ref:n,className:ge("text-sm opacity-90",e),...t}));$_.displayName=x_.displayName;function cO(){const{toasts:e}=ur();return l.jsxs(aO,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return l.jsxs(M_,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(L_,{children:n}),r&&l.jsx($_,{children:r})]}),s,l.jsx(D_,{})]},t)}),l.jsx(A_,{})]})}var W0=["light","dark"],uO="(prefers-color-scheme: dark)",dO=f.createContext(void 0),fO={setTheme:e=>{},themes:[]},hO=()=>{var e;return(e=f.useContext(dO))!=null?e:fO};f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:a,attrs:i,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?W0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,v=!1,y=!0)=>{let x=a?a[w]:w,g=v?w+"|| ''":`'${x}'`,b="";return s&&y&&!v&&W0.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?v||x?b+=`c.add(${g})`:b+="null":x&&(b+=`d[s](n,${g})`),b},m=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${uO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var pO=e=>{switch(e){case"success":return vO;case"info":return wO;case"warning":return yO;case"error":return xO;default:return null}},mO=Array(12).fill(0),gO=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},mO.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SO=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},nm=1,_O=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:nm++,o=this.toasts.find(i=>i.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:n}),{...i,...e,id:s,dismissible:a,title:n}):i):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,a=r.then(async c=>{if(o=["resolve",c],K.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(CO(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),i=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||nm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nn=new _O,EO=(e,t)=>{let n=(t==null?void 0:t.id)||nm++;return nn.addToast({title:e,...t,id:n}),n},CO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kO=EO,NO=()=>nn.toasts,jO=()=>nn.getActiveToasts();Object.assign(kO,{success:nn.success,info:nn.info,warning:nn.warning,error:nn.error,custom:nn.custom,message:nn.message,promise:nn.promise,dismiss:nn.dismiss,loading:nn.loading},{getHistory:NO,getToasts:jO});function PO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}PO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xc(e){return e.label!==void 0}var TO=3,RO="32px",IO="16px",z0=4e3,OO=356,AO=14,MO=20,DO=200;function Kn(...e){return e.filter(Boolean).join(" ")}function LO(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var $O=e=>{var t,n,r,s,o,a,i,c,u,d,h;let{invert:p,toast:m,unstyled:w,interacting:v,setHeights:y,visibleToasts:x,heights:g,index:b,toasts:S,expanded:_,removeToast:C,defaultRichColors:N,closeButton:T,style:L,cancelButtonStyle:$,actionButtonStyle:V,className:F="",descriptionClassName:I="",duration:j,position:z,gap:A,loadingIcon:M,expandByDefault:E,classNames:R,icons:W,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:Y}=e,[ce,B]=K.useState(null),[D,U]=K.useState(null),[H,ie]=K.useState(!1),[ye,he]=K.useState(!1),[xe,ue]=K.useState(!1),[O,G]=K.useState(!1),[ne,we]=K.useState(!1),[Ze,Dt]=K.useState(0),[pn,Dr]=K.useState(0),mn=K.useRef(m.duration||j||z0),jt=K.useRef(null),Qt=K.useRef(null),cs=b===0,hr=b+1<=x,Ve=m.type,Jt=m.dismissible!==!1,Lr=m.className||"",$r=m.descriptionClassName||"",xt=K.useMemo(()=>g.findIndex(re=>re.toastId===m.id)||0,[g,m.id]),Mi=K.useMemo(()=>{var re;return(re=m.closeButton)!=null?re:T},[m.closeButton,T]),us=K.useMemo(()=>m.duration||j||z0,[m.duration,j]),jn=K.useRef(0),pr=K.useRef(0),da=K.useRef(0),Hn=K.useRef(null),[ds,po]=z.split("-"),mo=K.useMemo(()=>g.reduce((re,oe,_e)=>_e>=xt?re:re+oe.height,0),[g,xt]),go=SO(),pe=m.invert||p,Ie=Ve==="loading";pr.current=K.useMemo(()=>xt*A+mo,[xt,mo]),K.useEffect(()=>{mn.current=us},[us]),K.useEffect(()=>{ie(!0)},[]),K.useEffect(()=>{let re=Qt.current;if(re){let oe=re.getBoundingClientRect().height;return Dr(oe),y(_e=>[{toastId:m.id,height:oe,position:m.position},..._e]),()=>y(_e=>_e.filter(et=>et.toastId!==m.id))}},[y,m.id]),K.useLayoutEffect(()=>{if(!H)return;let re=Qt.current,oe=re.style.height;re.style.height="auto";let _e=re.getBoundingClientRect().height;re.style.height=oe,Dr(_e),y(et=>et.find(ht=>ht.toastId===m.id)?et.map(ht=>ht.toastId===m.id?{...ht,height:_e}:ht):[{toastId:m.id,height:_e,position:m.position},...et])},[H,m.title,m.description,y,m.id]);let Oe=K.useCallback(()=>{he(!0),Dt(pr.current),y(re=>re.filter(oe=>oe.toastId!==m.id)),setTimeout(()=>{C(m)},DO)},[m,C,y,pr]);K.useEffect(()=>{if(m.promise&&Ve==="loading"||m.duration===1/0||m.type==="loading")return;let re;return _||v||Y&&go?(()=>{if(da.current<jn.current){let oe=new Date().getTime()-jn.current;mn.current=mn.current-oe}da.current=new Date().getTime()})():mn.current!==1/0&&(jn.current=new Date().getTime(),re=setTimeout(()=>{var oe;(oe=m.onAutoClose)==null||oe.call(m,m),Oe()},mn.current)),()=>clearTimeout(re)},[_,v,m,Ve,Y,go,Oe]),K.useEffect(()=>{m.delete&&Oe()},[Oe,m.delete]);function te(){var re,oe,_e;return W!=null&&W.loading?K.createElement("div",{className:Kn(R==null?void 0:R.loader,(re=m==null?void 0:m.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Ve==="loading"},W.loading):M?K.createElement("div",{className:Kn(R==null?void 0:R.loader,(oe=m==null?void 0:m.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Ve==="loading"},M):K.createElement(gO,{className:Kn(R==null?void 0:R.loader,(_e=m==null?void 0:m.classNames)==null?void 0:_e.loader),visible:Ve==="loading"})}return K.createElement("li",{tabIndex:0,ref:Qt,className:Kn(F,Lr,R==null?void 0:R.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ve],(n=m==null?void 0:m.classNames)==null?void 0:n[Ve]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":ne,"data-removed":ye,"data-visible":hr,"data-y-position":ds,"data-x-position":po,"data-index":b,"data-front":cs,"data-swiping":xe,"data-dismissible":Jt,"data-type":Ve,"data-invert":pe,"data-swipe-out":O,"data-swipe-direction":D,"data-expanded":!!(_||E&&H),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ye?Ze:pr.current}px`,"--initial-height":E?"auto":`${pn}px`,...L,...m.style},onDragEnd:()=>{ue(!1),B(null),Hn.current=null},onPointerDown:re=>{Ie||!Jt||(jt.current=new Date,Dt(pr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(ue(!0),Hn.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,oe,_e,et;if(O||!Jt)return;Hn.current=null;let ht=Number(((re=Qt.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pt=Number(((oe=Qt.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mr=new Date().getTime()-((_e=jt.current)==null?void 0:_e.getTime()),Lt=ce==="x"?ht:Pt,Et=Math.abs(Lt)/mr;if(Math.abs(Lt)>=MO||Et>.11){Dt(pr.current),(et=m.onDismiss)==null||et.call(m,m),U(ce==="x"?ht>0?"right":"left":Pt>0?"down":"up"),Oe(),G(!0),we(!1);return}ue(!1),B(null)},onPointerMove:re=>{var oe,_e,et,ht;if(!Hn.current||!Jt||((oe=window.getSelection())==null?void 0:oe.toString().length)>0)return;let Pt=re.clientY-Hn.current.y,mr=re.clientX-Hn.current.x,Lt=(_e=e.swipeDirections)!=null?_e:LO(z);!ce&&(Math.abs(mr)>1||Math.abs(Pt)>1)&&B(Math.abs(mr)>Math.abs(Pt)?"x":"y");let Et={x:0,y:0};ce==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Pt<0||Lt.includes("bottom")&&Pt>0)&&(Et.y=Pt):ce==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&mr<0||Lt.includes("right")&&mr>0)&&(Et.x=mr),(Math.abs(Et.x)>0||Math.abs(Et.y)>0)&&we(!0),(et=Qt.current)==null||et.style.setProperty("--swipe-amount-x",`${Et.x}px`),(ht=Qt.current)==null||ht.style.setProperty("--swipe-amount-y",`${Et.y}px`)}},Mi&&!m.jsx?K.createElement("button",{"aria-label":J,"data-disabled":Ie,"data-close-button":!0,onClick:Ie||!Jt?()=>{}:()=>{var re;Oe(),(re=m.onDismiss)==null||re.call(m,m)},className:Kn(R==null?void 0:R.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=W==null?void 0:W.close)!=null?o:bO):null,m.jsx||f.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:K.createElement(K.Fragment,null,Ve||m.icon||m.promise?K.createElement("div",{"data-icon":"",className:Kn(R==null?void 0:R.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||te():null,m.type!=="loading"?m.icon||(W==null?void 0:W[Ve])||pO(Ve):null):null,K.createElement("div",{"data-content":"",className:Kn(R==null?void 0:R.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:Kn(R==null?void 0:R.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?K.createElement("div",{"data-description":"",className:Kn(I,$r,R==null?void 0:R.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),f.isValidElement(m.cancel)?m.cancel:m.cancel&&Xc(m.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||$,onClick:re=>{var oe,_e;Xc(m.cancel)&&Jt&&((_e=(oe=m.cancel).onClick)==null||_e.call(oe,re),Oe())},className:Kn(R==null?void 0:R.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,f.isValidElement(m.action)?m.action:m.action&&Xc(m.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:re=>{var oe,_e;Xc(m.action)&&((_e=(oe=m.action).onClick)==null||_e.call(oe,re),!re.defaultPrevented&&Oe())},className:Kn(R==null?void 0:R.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function H0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function FO(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,a=o?"--mobile-offset":"--offset",i=o?IO:RO;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=i:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(i)}),n}var UO=f.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:i,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:w=TO,toastOptions:v,dir:y=H0(),gap:x=AO,loadingIcon:g,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[C,N]=K.useState([]),T=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(Y=>Y.position).map(Y=>Y.position)))),[C,r]),[L,$]=K.useState([]),[V,F]=K.useState(!1),[I,j]=K.useState(!1),[z,A]=K.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=K.useRef(null),E=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=K.useRef(null),W=K.useRef(!1),J=K.useCallback(Y=>{N(ce=>{var B;return(B=ce.find(D=>D.id===Y.id))!=null&&B.delete||nn.dismiss(Y.id),ce.filter(({id:D})=>D!==Y.id)})},[]);return K.useEffect(()=>nn.subscribe(Y=>{if(Y.dismiss){N(ce=>ce.map(B=>B.id===Y.id?{...B,delete:!0}:B));return}setTimeout(()=>{JS.flushSync(()=>{N(ce=>{let B=ce.findIndex(D=>D.id===Y.id);return B!==-1?[...ce.slice(0,B),{...ce[B],...Y},...ce.slice(B+1)]:[Y,...ce]})})})}),[]),K.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ce})=>{A(ce?"dark":"light")})}catch{Y.addListener(({matches:B})=>{try{A(B?"dark":"light")}catch(D){console.error(D)}})}},[d]),K.useEffect(()=>{C.length<=1&&F(!1)},[C]),K.useEffect(()=>{let Y=ce=>{var B,D;s.every(U=>ce[U]||ce.code===U)&&(F(!0),(B=M.current)==null||B.focus()),ce.code==="Escape"&&(document.activeElement===M.current||(D=M.current)!=null&&D.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),K.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,W.current=!1)}},[M.current]),K.createElement("section",{ref:t,"aria-label":`${S} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Y,ce)=>{var B;let[D,U]=Y.split("-");return C.length?K.createElement("ol",{key:Y,dir:y==="auto"?H0():y,tabIndex:-1,ref:M,className:i,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":D,"data-lifted":V&&C.length>1&&!o,"data-x-position":U,style:{"--front-toast-height":`${((B=L[0])==null?void 0:B.height)||0}px`,"--width":`${OO}px`,"--gap":`${x}px`,...m,...FO(c,u)},onBlur:H=>{W.current&&!H.currentTarget.contains(H.relatedTarget)&&(W.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||W.current||(W.current=!0,R.current=H.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{I||F(!1)},onDragEnd:()=>F(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},C.filter(H=>!H.position&&ce===0||H.position===Y).map((H,ie)=>{var ye,he;return K.createElement($O,{key:H.id,icons:b,index:ie,toast:H,defaultRichColors:h,duration:(ye=v==null?void 0:v.duration)!=null?ye:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(he=v==null?void 0:v.closeButton)!=null?he:a,interacting:I,position:Y,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:J,toasts:C.filter(xe=>xe.position==H.position),heights:L.filter(xe=>xe.position==H.position),setHeights:$,expandByDefault:o,gap:x,loadingIcon:g,expanded:V,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const BO=({...e})=>{const{theme:t="system"}=hO();return l.jsx(UO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var WO=ng[" useId ".trim().toString()]||(()=>{}),zO=0;function Tr(e){const[t,n]=f.useState(WO());return lt(()=>{n(r=>r??String(zO++))},[e]),t?`radix-${t}`:""}const HO=["top","right","bottom","left"],to=Math.min,wn=Math.max,ad=Math.round,Zc=Math.floor,Rr=e=>({x:e,y:e}),VO={left:"right",right:"left",bottom:"top",top:"bottom"},YO={start:"end",end:"start"};function rm(e,t,n){return wn(e,to(t,n))}function as(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function Ci(e){return e.split("-")[1]}function nv(e){return e==="x"?"y":"x"}function rv(e){return e==="y"?"height":"width"}const KO=new Set(["top","bottom"]);function Nr(e){return KO.has(is(e))?"y":"x"}function sv(e){return nv(Nr(e))}function GO(e,t,n){n===void 0&&(n=!1);const r=Ci(e),s=sv(e),o=rv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=id(a)),[a,id(a)]}function qO(e){const t=id(e);return[sm(e),t,sm(t)]}function sm(e){return e.replace(/start|end/g,t=>YO[t])}const V0=["left","right"],Y0=["right","left"],QO=["top","bottom"],JO=["bottom","top"];function XO(e,t,n){switch(e){case"top":case"bottom":return n?t?Y0:V0:t?V0:Y0;case"left":case"right":return t?QO:JO;default:return[]}}function ZO(e,t,n,r){const s=Ci(e);let o=XO(is(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(sm)))),o}function id(e){return e.replace(/left|right|bottom|top/g,t=>VO[t])}function eA(e){return{top:0,right:0,bottom:0,left:0,...e}}function F_(e){return typeof e!="number"?eA(e):{top:e,right:e,bottom:e,left:e}}function ld(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function K0(e,t,n){let{reference:r,floating:s}=e;const o=Nr(t),a=sv(t),i=rv(a),c=is(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[i]/2-s[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ci(t)){case"start":m[a]-=p*(n&&u?-1:1);break;case"end":m[a]+=p*(n&&u?-1:1);break}return m}const tA=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=K0(u,r,c),p=r,m={},w=0;for(let v=0;v<i.length;v++){const{name:y,fn:x}=i[v],{x:g,y:b,data:S,reset:_}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=g??d,h=b??h,m={...m,[y]:{...m[y],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=K0(u,p,c)),v=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function Bl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=as(t,e),w=F_(m),y=i[p?h==="floating"?"reference":"floating":h],x=ld(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=ld(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:b,strategy:c}):g);return{top:(x.top-_.top+w.top)/S.y,bottom:(_.bottom-x.bottom+w.bottom)/S.y,left:(x.left-_.left+w.left)/S.x,right:(_.right-x.right+w.right)/S.x}}const nA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=as(e,t)||{};if(u==null)return{};const h=F_(d),p={x:n,y:r},m=sv(s),w=rv(m),v=await a.getDimensions(u),y=m==="y",x=y?"top":"left",g=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[m]-p[m]-o.floating[w],_=p[m]-o.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=C?C[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(C)))&&(N=i.floating[b]||o.floating[w]);const T=S/2-_/2,L=N/2-v[w]/2-1,$=to(h[x],L),V=to(h[g],L),F=$,I=N-v[w]-V,j=N/2-v[w]/2+T,z=rm(F,j,I),A=!c.arrow&&Ci(s)!=null&&j!==z&&o.reference[w]/2-(j<F?$:V)-v[w]/2<0,M=A?j<F?j-F:j-I:0;return{[m]:p[m]+M,data:{[m]:z,centerOffset:j-z-M,...A&&{alignmentOffset:M}},reset:A}}}),rA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...y}=as(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=is(s),g=Nr(i),b=is(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=p||(b||!v?[id(i)]:qO(i)),C=w!=="none";!p&&C&&_.push(...ZO(i,v,w,S));const N=[i,..._],T=await Bl(t,y),L=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&L.push(T[x]),h){const j=GO(s,a,S);L.push(T[j[0]],T[j[1]])}if($=[...$,{placement:s,overflows:L}],!L.every(j=>j<=0)){var V,F;const j=(((V=o.flip)==null?void 0:V.index)||0)+1,z=N[j];if(z&&(!(h==="alignment"?g!==Nr(z):!1)||$.every(E=>E.overflows[0]>0&&Nr(E.placement)===g)))return{data:{index:j,overflows:$},reset:{placement:z}};let A=(F=$.filter(M=>M.overflows[0]<=0).sort((M,E)=>M.overflows[1]-E.overflows[1])[0])==null?void 0:F.placement;if(!A)switch(m){case"bestFit":{var I;const M=(I=$.filter(E=>{if(C){const R=Nr(E.placement);return R===g||R==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(R=>R>0).reduce((R,W)=>R+W,0)]).sort((E,R)=>E[1]-R[1])[0])==null?void 0:I[0];M&&(A=M);break}case"initialPlacement":A=i;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function G0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function q0(e){return HO.some(t=>e[t]>=0)}const sA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=as(e,t);switch(r){case"referenceHidden":{const o=await Bl(t,{...s,elementContext:"reference"}),a=G0(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:q0(a)}}}case"escaped":{const o=await Bl(t,{...s,altBoundary:!0}),a=G0(o,n.floating);return{data:{escapedOffsets:a,escaped:q0(a)}}}default:return{}}}}},U_=new Set(["left","top"]);async function oA(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=is(n),i=Ci(n),c=Nr(n)==="y",u=U_.has(a)?-1:1,d=o&&c?-1:1,h=as(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return i&&typeof w=="number"&&(m=i==="end"?w*-1:w),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const aA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:i}=t,c=await oA(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},iA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:y=>{let{x,y:g}=y;return{x,y:g}}},...c}=as(e,t),u={x:n,y:r},d=await Bl(t,c),h=Nr(is(s)),p=nv(h);let m=u[p],w=u[h];if(o){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",g=m+d[y],b=m-d[x];m=rm(g,m,b)}if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=w+d[y],b=w-d[x];w=rm(g,w,b)}const v=i.fn({...t,[p]:m,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:o,[h]:a}}}}}},lA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=as(e,t),d={x:n,y:r},h=Nr(s),p=nv(h);let m=d[p],w=d[h];const v=as(i,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=p==="y"?"height":"width",S=o.reference[p]-o.floating[b]+y.mainAxis,_=o.reference[p]+o.reference[b]-y.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var x,g;const b=p==="y"?"width":"height",S=U_.has(is(s)),_=o.reference[h]-o.floating[b]+(S&&((x=a.offset)==null?void 0:x[h])||0)+(S?0:y.crossAxis),C=o.reference[h]+o.reference[b]+(S?0:((g=a.offset)==null?void 0:g[h])||0)-(S?y.crossAxis:0);w<_?w=_:w>C&&(w=C)}return{[p]:m,[h]:w}}}},cA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:i}=t,{apply:c=()=>{},...u}=as(e,t),d=await Bl(t,u),h=is(s),p=Ci(s),m=Nr(s)==="y",{width:w,height:v}=o.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=p===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(x=h,y=p==="end"?"top":"bottom");const g=v-d.top-d.bottom,b=w-d.left-d.right,S=to(v-d[y],g),_=to(w-d[x],b),C=!t.middlewareData.shift;let N=S,T=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),C&&!p){const $=wn(d.left,0),V=wn(d.right,0),F=wn(d.top,0),I=wn(d.bottom,0);m?T=w-2*($!==0||V!==0?$+V:wn(d.left,d.right)):N=v-2*(F!==0||I!==0?F+I:wn(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:N});const L=await a.getDimensions(i.floating);return w!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function ki(e){return B_(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(B_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B_(e){return lf()?e instanceof Node||e instanceof Sn(e).Node:!1}function ar(e){return lf()?e instanceof Element||e instanceof Sn(e).Element:!1}function Ir(e){return lf()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function Q0(e){return!lf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}const uA=new Set(["inline","contents"]);function uc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uA.has(s)}const dA=new Set(["table","td","th"]);function fA(e){return dA.has(ki(e))}const hA=[":popover-open",":modal"];function cf(e){return hA.some(t=>{try{return e.matches(t)}catch{return!1}})}const pA=["transform","translate","scale","rotate","perspective"],mA=["transform","translate","scale","rotate","perspective","filter"],gA=["paint","layout","strict","content"];function ov(e){const t=av(),n=ar(e)?ir(e):e;return pA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||mA.some(r=>(n.willChange||"").includes(r))||gA.some(r=>(n.contain||"").includes(r))}function vA(e){let t=no(e);for(;Ir(t)&&!hi(t);){if(ov(t))return t;if(cf(t))return null;t=no(t)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yA=new Set(["html","body","#document"]);function hi(e){return yA.has(ki(e))}function ir(e){return Sn(e).getComputedStyle(e)}function uf(e){return ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function no(e){if(ki(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q0(e)&&e.host||Ar(e);return Q0(t)?t.host:t}function W_(e){const t=no(e);return hi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&uc(t)?t:W_(t)}function Wl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=W_(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Sn(s);if(o){const i=om(a);return t.concat(a,a.visualViewport||[],uc(s)?s:[],i&&n?Wl(i):[])}return t.concat(s,Wl(s,[],n))}function om(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z_(e){const t=ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ir(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,i=ad(n)!==o||ad(r)!==a;return i&&(n=o,r=a),{width:n,height:r,$:i}}function iv(e){return ar(e)?e:e.contextElement}function Va(e){const t=iv(e);if(!Ir(t))return Rr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=z_(t);let a=(o?ad(n.width):n.width)/r,i=(o?ad(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const wA=Rr(0);function H_(e){const t=Sn(e);return!av()||!t.visualViewport?wA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sn(e)?!1:t}function Go(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=iv(e);let a=Rr(1);t&&(r?ar(r)&&(a=Va(r)):a=Va(e));const i=xA(o,n,r)?H_(o):Rr(0);let c=(s.left+i.x)/a.x,u=(s.top+i.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const p=Sn(o),m=r&&ar(r)?Sn(r):r;let w=p,v=om(w);for(;v&&r&&m!==w;){const y=Va(v),x=v.getBoundingClientRect(),g=ir(v),b=x.left+(v.clientLeft+parseFloat(g.paddingLeft))*y.x,S=x.top+(v.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=b,u+=S,w=Sn(v),v=om(w)}}return ld({width:d,height:h,x:c,y:u})}function lv(e,t){const n=uf(e).scrollLeft;return t?t.left+n:Go(Ar(e)).left+n}function V_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:lv(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function bA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=Ar(r),i=t?cf(t.floating):!1;if(r===a||i&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Rr(1);const d=Rr(0),h=Ir(r);if((h||!h&&!o)&&((ki(r)!=="body"||uc(a))&&(c=uf(r)),Ir(r))){const m=Go(r);u=Va(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!h&&!o?V_(a,c,!0):Rr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function SA(e){return Array.from(e.getClientRects())}function _A(e){const t=Ar(e),n=uf(e),r=e.ownerDocument.body,s=wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+lv(e);const i=-n.scrollTop;return ir(r).direction==="rtl"&&(a+=wn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:i}}function EA(e,t){const n=Sn(e),r=Ar(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,i=0,c=0;if(s){o=s.width,a=s.height;const u=av();(!u||u&&t==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:i,y:c}}const CA=new Set(["absolute","fixed"]);function kA(e,t){const n=Go(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ir(e)?Va(e):Rr(1),a=e.clientWidth*o.x,i=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:i,x:c,y:u}}function J0(e,t,n){let r;if(t==="viewport")r=EA(e,n);else if(t==="document")r=_A(Ar(e));else if(ar(t))r=kA(t,n);else{const s=H_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ld(r)}function Y_(e,t){const n=no(e);return n===t||!ar(n)||hi(n)?!1:ir(n).position==="fixed"||Y_(n,t)}function NA(e,t){const n=t.get(e);if(n)return n;let r=Wl(e,[],!1).filter(i=>ar(i)&&ki(i)!=="body"),s=null;const o=ir(e).position==="fixed";let a=o?no(e):e;for(;ar(a)&&!hi(a);){const i=ir(a),c=ov(a);!c&&i.position==="fixed"&&(s=null),(o?!c&&!s:!c&&i.position==="static"&&!!s&&CA.has(s.position)||uc(a)&&!c&&Y_(e,a))?r=r.filter(d=>d!==a):s=i,a=no(a)}return t.set(e,r),r}function jA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?cf(t)?[]:NA(t,this._c):[].concat(n),r],i=a[0],c=a.reduce((u,d)=>{const h=J0(t,d,s);return u.top=wn(h.top,u.top),u.right=to(h.right,u.right),u.bottom=to(h.bottom,u.bottom),u.left=wn(h.left,u.left),u},J0(t,i,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PA(e){const{width:t,height:n}=z_(e);return{width:t,height:n}}function TA(e,t,n){const r=Ir(t),s=Ar(t),o=n==="fixed",a=Go(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=Rr(0);function u(){c.x=lv(s)}if(r||!r&&!o)if((ki(t)!=="body"||uc(s))&&(i=uf(t)),r){const m=Go(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?V_(s,i):Rr(0),h=a.left+i.scrollLeft-c.x-d.x,p=a.top+i.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function xh(e){return ir(e).position==="static"}function X0(e,t){if(!Ir(e)||ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ar(e)===n&&(n=n.ownerDocument.body),n}function K_(e,t){const n=Sn(e);if(cf(e))return n;if(!Ir(e)){let s=no(e);for(;s&&!hi(s);){if(ar(s)&&!xh(s))return s;s=no(s)}return n}let r=X0(e,t);for(;r&&fA(r)&&xh(r);)r=X0(r,t);return r&&hi(r)&&xh(r)&&!ov(r)?n:r||vA(e)||n}const RA=async function(e){const t=this.getOffsetParent||K_,n=this.getDimensions,r=await n(e.floating);return{reference:TA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IA(e){return ir(e).direction==="rtl"}const OA={convertOffsetParentRelativeRectToViewportRelativeRect:bA,getDocumentElement:Ar,getClippingRect:jA,getOffsetParent:K_,getElementRects:RA,getClientRects:SA,getDimensions:PA,getScale:Va,isElement:ar,isRTL:IA};function G_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AA(e,t){let n=null,r;const s=Ar(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(i||t(),!p||!m)return;const w=Zc(h),v=Zc(s.clientWidth-(d+p)),y=Zc(s.clientHeight-(h+m)),x=Zc(d),b={rootMargin:-w+"px "+-v+"px "+-y+"px "+-x+"px",threshold:wn(0,to(1,c))||1};let S=!0;function _(C){const N=C[0].intersectionRatio;if(N!==c){if(!S)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!G_(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),o}function MA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=iv(e),d=s||o?[...u?Wl(u):[],...Wl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=u&&i?AA(u,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let w,v=c?Go(e):null;c&&y();function y(){const x=Go(e);v&&!G_(v,x)&&n(),v=x,w=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const DA=aA,LA=iA,$A=rA,FA=cA,UA=sA,Z0=nA,BA=lA,WA=(e,t,n)=>{const r=new Map,s={platform:OA,...n},o={...s.platform,_c:r};return tA(e,t,{...s,platform:o})};var zA=typeof document<"u",HA=function(){},ku=zA?f.useLayoutEffect:HA;function cd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!cd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function q_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ew(e,t){const n=q_(e);return Math.round(t*n)/n}function bh(e){const t=f.useRef(e);return ku(()=>{t.current=e}),t}function VA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);cd(p,r)||m(r);const[w,v]=f.useState(null),[y,x]=f.useState(null),g=f.useCallback(E=>{E!==C.current&&(C.current=E,v(E))},[]),b=f.useCallback(E=>{E!==N.current&&(N.current=E,x(E))},[]),S=o||w,_=a||y,C=f.useRef(null),N=f.useRef(null),T=f.useRef(d),L=c!=null,$=bh(c),V=bh(s),F=bh(u),I=f.useCallback(()=>{if(!C.current||!N.current)return;const E={placement:t,strategy:n,middleware:p};V.current&&(E.platform=V.current),WA(C.current,N.current,E).then(R=>{const W={...R,isPositioned:F.current!==!1};j.current&&!cd(T.current,W)&&(T.current=W,oa.flushSync(()=>{h(W)}))})},[p,t,n,V,F]);ku(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(E=>({...E,isPositioned:!1})))},[u]);const j=f.useRef(!1);ku(()=>(j.current=!0,()=>{j.current=!1}),[]),ku(()=>{if(S&&(C.current=S),_&&(N.current=_),S&&_){if($.current)return $.current(S,_,I);I()}},[S,_,I,$,L]);const z=f.useMemo(()=>({reference:C,floating:N,setReference:g,setFloating:b}),[g,b]),A=f.useMemo(()=>({reference:S,floating:_}),[S,_]),M=f.useMemo(()=>{const E={position:n,left:0,top:0};if(!A.floating)return E;const R=ew(A.floating,d.x),W=ew(A.floating,d.y);return i?{...E,transform:"translate("+R+"px, "+W+"px)",...q_(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:W}},[n,i,A.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:I,refs:z,elements:A,floatingStyles:M}),[d,I,z,A,M])}const YA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Z0({element:r.current,padding:s}).fn(n):{}:r?Z0({element:r,padding:s}).fn(n):{}}}},KA=(e,t)=>({...DA(e),options:[e,t]}),GA=(e,t)=>({...LA(e),options:[e,t]}),qA=(e,t)=>({...BA(e),options:[e,t]}),QA=(e,t)=>({...$A(e),options:[e,t]}),JA=(e,t)=>({...FA(e),options:[e,t]}),XA=(e,t)=>({...UA(e),options:[e,t]}),ZA=(e,t)=>({...YA(e),options:[e,t]});var eM="Arrow",Q_=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(fe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q_.displayName=eM;var tM=Q_;function cv(e){const[t,n]=f.useState(void 0);return lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uv="Popper",[J_,ao]=Kt(uv),[nM,X_]=J_(uv),Z_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return l.jsx(nM,{scope:t,anchor:r,onAnchorChange:s,children:n})};Z_.displayName=uv;var e1="PopperAnchor",t1=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=X_(e1,n),a=f.useRef(null),i=Ce(t,a);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(fe.div,{...s,ref:i})});t1.displayName=e1;var dv="PopperContent",[rM,sM]=J_(dv),n1=f.forwardRef((e,t)=>{var H,ie,ye,he,xe,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=e,y=X_(dv,n),[x,g]=f.useState(null),b=Ce(t,O=>g(O)),[S,_]=f.useState(null),C=cv(S),N=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,L=r+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],F=V.length>0,I={padding:$,boundary:V.filter(aM),altBoundary:F},{refs:j,floatingStyles:z,placement:A,isPositioned:M,middlewareData:E}=VA({strategy:"fixed",placement:L,whileElementsMounted:(...O)=>MA(...O,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[KA({mainAxis:s+T,alignmentAxis:a}),c&&GA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qA():void 0,...I}),c&&QA({...I}),JA({...I,apply:({elements:O,rects:G,availableWidth:ne,availableHeight:we})=>{const{width:Ze,height:Dt}=G.reference,pn=O.floating.style;pn.setProperty("--radix-popper-available-width",`${ne}px`),pn.setProperty("--radix-popper-available-height",`${we}px`),pn.setProperty("--radix-popper-anchor-width",`${Ze}px`),pn.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),S&&ZA({element:S,padding:i}),iM({arrowWidth:N,arrowHeight:T}),p&&XA({strategy:"referenceHidden",...I})]}),[R,W]=o1(A),J=at(w);lt(()=>{M&&(J==null||J())},[M,J]);const Y=(H=E.arrow)==null?void 0:H.x,ce=(ie=E.arrow)==null?void 0:ie.y,B=((ye=E.arrow)==null?void 0:ye.centerOffset)!==0,[D,U]=f.useState();return lt(()=>{x&&U(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:M?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[(he=E.transformOrigin)==null?void 0:he.x,(xe=E.transformOrigin)==null?void 0:xe.y].join(" "),...((ue=E.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(rM,{scope:n,placedSide:R,onArrowChange:_,arrowX:Y,arrowY:ce,shouldHideArrow:B,children:l.jsx(fe.div,{"data-side":R,"data-align":W,...v,ref:b,style:{...v.style,animation:M?void 0:"none"}})})})});n1.displayName=dv;var r1="PopperArrow",oM={top:"bottom",right:"left",bottom:"top",left:"right"},s1=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=sM(r1,r),a=oM[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(tM,{...s,ref:n,style:{...s.style,display:"block"}})})});s1.displayName=r1;function aM(e){return e!==null}var iM=e=>({name:"transformOrigin",options:e,fn(t){var y,x,g;const{placement:n,rects:r,middlewareData:s}=t,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,i=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=o1(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+i/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?h:`${p}px`,v=`${-c}px`):u==="top"?(w=a?h:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?h:`${m}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=a?h:`${m}px`),{data:{x:w,y:v}}}});function o1(e){const[t,n="center"]=e.split("-");return[t,n]}var fv=Z_,dc=t1,df=n1,ff=s1,[hf,yz]=Kt("Tooltip",[ao]),hv=ao(),a1="TooltipProvider",lM=700,tw="tooltip.open",[cM,i1]=hf(a1),l1=e=>{const{__scopeTooltip:t,delayDuration:n=lM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,a=f.useRef(!0),i=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(cM,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:f.useCallback(u=>{i.current=u},[]),disableHoverableContent:s,children:o})};l1.displayName=a1;var c1="Tooltip",[wz,pf]=hf(c1),am="TooltipTrigger",uM=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=pf(am,n),o=i1(am,n),a=hv(n),i=f.useRef(null),c=Ce(t,i,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(dc,{asChild:!0,...a,children:l.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Q(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Q(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});uM.displayName=am;var dM="TooltipPortal",[xz,fM]=hf(dM,{forceMount:void 0}),pi="TooltipContent",u1=f.forwardRef((e,t)=>{const n=fM(pi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,a=pf(pi,e.__scopeTooltip);return l.jsx(_t,{present:r||a.open,children:a.disableHoverableContent?l.jsx(d1,{side:s,...o,ref:t}):l.jsx(hM,{side:s,...o,ref:t})})}),hM=f.forwardRef((e,t)=>{const n=pf(pi,e.__scopeTooltip),r=i1(pi,e.__scopeTooltip),s=f.useRef(null),o=Ce(t,s),[a,i]=f.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{i(null),h(!1)},[h]),m=f.useCallback((w,v)=>{const y=w.currentTarget,x={x:w.clientX,y:w.clientY},g=yM(x,y.getBoundingClientRect()),b=wM(x,g),S=xM(v.getBoundingClientRect()),_=SM([...b,...S]);i(_),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(c&&d){const w=y=>m(y,d),v=y=>m(y,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,m,p]),f.useEffect(()=>{if(a){const w=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!bM(x,a);g?p():b&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,a,u,p]),l.jsx(d1,{...e,ref:o})}),[pM,mM]=hf(c1,{isInside:!1}),gM=IR("TooltipContent"),d1=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...i}=e,c=pf(pi,n),u=hv(n),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(tw,d),()=>document.removeEventListener(tw,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(aa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(df,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(gM,{children:r}),l.jsx(pM,{scope:n,isInside:!0,children:l.jsx(eI,{id:c.contentId,role:"tooltip",children:s||r})})]})})});u1.displayName=pi;var f1="TooltipArrow",vM=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=hv(n);return mM(f1,n).isInside?null:l.jsx(ff,{...s,...r,ref:t})});vM.displayName=f1;function yM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function xM(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function bM(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],c=t[a],u=i.x,d=i.y,h=c.x,p=c.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function SM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_M(t)}function _M(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var EM=l1,h1=u1;const CM=EM,kM=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(h1,{ref:r,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));kM.displayName=h1.displayName;var Ni=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qo=typeof window>"u"||"Deno"in globalThis;function Wt(){}function NM(e,t){return typeof e=="function"?e(t):e}function im(e){return typeof e=="number"&&e>=0&&e!==1/0}function p1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qs(e,t){return typeof e=="function"?e(t):e}function On(e,t){return typeof e=="function"?e(t):e}function nw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:i}=e;if(a){if(r){if(t.queryHash!==pv(a,t.options))return!1}else if(!zl(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||o&&!o(t))}function rw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Qo(t.options.mutationKey)!==Qo(o))return!1}else if(!zl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function pv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qo)(e)}function Qo(e){return JSON.stringify(e,(t,n)=>lm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function zl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zl(e[n],t[n])):!1}function m1(e,t){if(e===t)return e;const n=sw(e)&&sw(t);if(n||lm(e)&&lm(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),a=o.length,i=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:o[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(i[h]=void 0,u++):(i[h]=m1(e[h],t[h]),i[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:i}return t}function ud(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lm(e){if(!ow(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ow(e){return Object.prototype.toString.call(e)==="[object Object]"}function jM(e){return new Promise(t=>{setTimeout(t,e)})}function cm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?m1(e,t):t}function PM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function TM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var mv=Symbol();function g1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function v1(e,t){return typeof e=="function"?e(...t):!!e}var Ro,Ns,Ga,Px,RM=(Px=class extends Ni{constructor(){super();me(this,Ro);me(this,Ns);me(this,Ga);ee(this,Ga,t=>{if(!qo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,Ns)||this.setEventListener(k(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Ns))==null||t.call(this),ee(this,Ns,void 0))}setEventListener(t){var n;ee(this,Ga,t),(n=k(this,Ns))==null||n.call(this),ee(this,Ns,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){k(this,Ro)!==t&&(ee(this,Ro,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof k(this,Ro)=="boolean"?k(this,Ro):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ro=new WeakMap,Ns=new WeakMap,Ga=new WeakMap,Px),gv=new RM,qa,js,Qa,Tx,IM=(Tx=class extends Ni{constructor(){super();me(this,qa,!0);me(this,js);me(this,Qa);ee(this,Qa,t=>{if(!qo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,js)||this.setEventListener(k(this,Qa))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,js))==null||t.call(this),ee(this,js,void 0))}setEventListener(t){var n;ee(this,Qa,t),(n=k(this,js))==null||n.call(this),ee(this,js,t(this.setOnline.bind(this)))}setOnline(t){k(this,qa)!==t&&(ee(this,qa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return k(this,qa)}},qa=new WeakMap,js=new WeakMap,Qa=new WeakMap,Tx),dd=new IM;function um(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function OM(e){return Math.min(1e3*2**e,3e4)}function y1(e){return(e??"online")==="online"?dd.isOnline():!0}var w1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Sh(e){return e instanceof w1}function x1(e){let t=!1,n=0,r=!1,s;const o=um(),a=v=>{var y;r||(p(new w1(v)),(y=e.abort)==null||y.call(e))},i=()=>{t=!0},c=()=>{t=!1},u=()=>gv.isFocused()&&(e.networkMode==="always"||dd.isOnline())&&e.canRun(),d=()=>y1(e.networkMode)&&e.canRun(),h=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),s==null||s(),o.resolve(v))},p=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),s==null||s(),o.reject(v))},m=()=>new Promise(v=>{var y;s=x=>{(r||u())&&v(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(h).catch(x=>{var C;if(r)return;const g=e.retry??(qo?0:3),b=e.retryDelay??OM,S=typeof b=="function"?b(n,x):b,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(t||!_){p(x);return}n++,(C=e.onFail)==null||C.call(e,n,x),jM(S).then(()=>u()?void 0:m()).then(()=>{t?p(x):w()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:i,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),o)}}var AM=e=>setTimeout(e,0);function MM(){let e=[],t=0,n=i=>{i()},r=i=>{i()},s=AM;const o=i=>{t?e.push(i):s(()=>{n(i)})},a=()=>{const i=e;e=[],i.length&&s(()=>{r(()=>{i.forEach(c=>{n(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||a()}return c},batchCalls:i=>(...c)=>{o(()=>{i(...c)})},schedule:o,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{s=i}}}var yt=MM(),Io,Rx,b1=(Rx=class{constructor(){me(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),im(this.gcTime)&&ee(this,Io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qo?1/0:5*60*1e3))}clearGcTimeout(){k(this,Io)&&(clearTimeout(k(this,Io)),ee(this,Io,void 0))}},Io=new WeakMap,Rx),Ja,Oo,In,Ao,It,ec,Mo,Jn,Wr,Ix,DM=(Ix=class extends b1{constructor(t){super();me(this,Jn);me(this,Ja);me(this,Oo);me(this,In);me(this,Ao);me(this,It);me(this,ec);me(this,Mo);ee(this,Mo,!1),ee(this,ec,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,Ao,t.client),ee(this,In,k(this,Ao).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,Ja,LM(this.options)),this.state=t.state??k(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,It))==null?void 0:t.promise}setOptions(t){this.options={...k(this,ec),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,In).remove(this)}setData(t,n){const r=cm(this.state.data,t,this.options);return je(this,Jn,Wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){je(this,Jn,Wr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=k(this,It))==null?void 0:r.promise;return(s=k(this,It))==null||s.cancel(t),n?n.then(Wt).catch(Wt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Ja))}isActive(){return this.observers.some(t=>On(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!p1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=k(this,It))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=k(this,It))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,In).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(k(this,It)&&(k(this,Mo)?k(this,It).cancel({revert:!0}):k(this,It).cancelRetry()),this.scheduleGc()),k(this,In).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,Jn,Wr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(k(this,It))return k(this,It).continueRetry(),k(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ee(this,Mo,!0),r.signal)})},o=()=>{const p=g1(this.options,n),w=(()=>{const v={client:k(this,Ao),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ee(this,Mo,!1),this.options.persister?this.options.persister(p,w,this):p(w)},i=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:k(this,Ao),state:this.state,fetchFn:o};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(i,this),ee(this,Oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&je(this,Jn,Wr).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const c=p=>{var m,w,v,y;Sh(p)&&p.silent||je(this,Jn,Wr).call(this,{type:"error",error:p}),Sh(p)||((w=(m=k(this,In).config).onError)==null||w.call(m,p,this),(y=(v=k(this,In).config).onSettled)==null||y.call(v,this.state.data,p,this)),this.scheduleGc()};return ee(this,It,x1({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,w,v,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){c(x);return}(w=(m=k(this,In).config).onSuccess)==null||w.call(m,p,this),(y=(v=k(this,In).config).onSettled)==null||y.call(v,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{je(this,Jn,Wr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{je(this,Jn,Wr).call(this,{type:"pause"})},onContinue:()=>{je(this,Jn,Wr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),k(this,It).start()}},Ja=new WeakMap,Oo=new WeakMap,In=new WeakMap,Ao=new WeakMap,It=new WeakMap,ec=new WeakMap,Mo=new WeakMap,Jn=new WeakSet,Wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...S1(r.data,this.options),fetchMeta:t.meta??null};case"success":return ee(this,Oo,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Sh(s)&&s.revert&&k(this,Oo)?{...k(this,Oo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),k(this,In).notify({query:this,type:"updated",action:t})})},Ix);function S1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sr,Ox,$M=(Ox=class extends Ni{constructor(t={}){super();me(this,Sr);this.config=t,ee(this,Sr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??pv(s,n);let a=this.get(o);return a||(a=new DM({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){k(this,Sr).has(t.queryHash)||(k(this,Sr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=k(this,Sr).get(t.queryHash);n&&(t.destroy(),n===t&&k(this,Sr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Sr).get(t)}getAll(){return[...k(this,Sr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>nw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>nw(t,r)):n}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sr=new WeakMap,Ox),_r,Ft,Do,Er,ws,Ax,FM=(Ax=class extends b1{constructor(t){super();me(this,Er);me(this,_r);me(this,Ft);me(this,Do);this.mutationId=t.mutationId,ee(this,Ft,t.mutationCache),ee(this,_r,[]),this.state=t.state||_1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,_r).includes(t)||(k(this,_r).push(t),this.clearGcTimeout(),k(this,Ft).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,_r,k(this,_r).filter(n=>n!==t)),this.scheduleGc(),k(this,Ft).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,_r).length||(this.state.status==="pending"?this.scheduleGc():k(this,Ft).remove(this))}continue(){var t;return((t=k(this,Do))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,i,c,u,d,h,p,m,w,v,y,x,g,b,S,_,C,N,T;const n=()=>{je(this,Er,ws).call(this,{type:"continue"})};ee(this,Do,x1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,$)=>{je(this,Er,ws).call(this,{type:"failed",failureCount:L,error:$})},onPause:()=>{je(this,Er,ws).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Ft).canRun(this)}));const r=this.state.status==="pending",s=!k(this,Do).canStart();try{if(r)n();else{je(this,Er,ws).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=k(this,Ft).config).onMutate)==null?void 0:a.call(o,t,this));const $=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,t));$!==this.state.context&&je(this,Er,ws).call(this,{type:"pending",context:$,variables:t,isPaused:s})}const L=await k(this,Do).start();return await((d=(u=k(this,Ft).config).onSuccess)==null?void 0:d.call(u,L,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,L,t,this.state.context)),await((w=(m=k(this,Ft).config).onSettled)==null?void 0:w.call(m,L,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,L,null,t,this.state.context)),je(this,Er,ws).call(this,{type:"success",data:L}),L}catch(L){try{throw await((g=(x=k(this,Ft).config).onError)==null?void 0:g.call(x,L,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,L,t,this.state.context)),await((C=(_=k(this,Ft).config).onSettled)==null?void 0:C.call(_,void 0,L,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,L,t,this.state.context)),L}finally{je(this,Er,ws).call(this,{type:"error",error:L})}}finally{k(this,Ft).runNext(this)}}},_r=new WeakMap,Ft=new WeakMap,Do=new WeakMap,Er=new WeakSet,ws=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yt.batch(()=>{k(this,_r).forEach(r=>{r.onMutationUpdate(t)}),k(this,Ft).notify({mutation:this,type:"updated",action:t})})},Ax);function _1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,Xn,tc,Mx,UM=(Mx=class extends Ni{constructor(t={}){super();me(this,Yr);me(this,Xn);me(this,tc);this.config=t,ee(this,Yr,new Set),ee(this,Xn,new Map),ee(this,tc,0)}build(t,n,r){const s=new FM({mutationCache:this,mutationId:++Ic(this,tc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){k(this,Yr).add(t);const n=eu(t);if(typeof n=="string"){const r=k(this,Xn).get(n);r?r.push(t):k(this,Xn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,Yr).delete(t)){const n=eu(t);if(typeof n=="string"){const r=k(this,Xn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&k(this,Xn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=eu(t);if(typeof n=="string"){const r=k(this,Xn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=eu(t);if(typeof n=="string"){const s=(r=k(this,Xn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yt.batch(()=>{k(this,Yr).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,Yr).clear(),k(this,Xn).clear()})}getAll(){return Array.from(k(this,Yr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rw(n,r))}findAll(t={}){return this.getAll().filter(n=>rw(t,n))}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Wt))))}},Yr=new WeakMap,Xn=new WeakMap,tc=new WeakMap,Mx);function eu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function aw(e){return{onFetch:(t,n)=>{var d,h,p,m,w;const r=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=g1(t.options,t.fetchOptions),g=async(b,S,_)=>{if(v)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};return y(V),V})(),T=await x(N),{maxPages:L}=t.options,$=_?TM:PM;return{pages:$(b.pages,T,L),pageParams:$(b.pageParams,S,L)}};if(s&&o.length){const b=s==="backward",S=b?BM:iw,_={pages:o,pageParams:a},C=S(r,_);i=await g(_,C,b)}else{const b=e??o.length;do{const S=c===0?a[0]??r.initialPageParam:iw(r,i);if(c>0&&S==null)break;i=await g(i,S),c++}while(c<b)}return i};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function iw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function BM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var st,Ps,Ts,Xa,Za,Rs,ei,ti,Dx,WM=(Dx=class{constructor(e={}){me(this,st);me(this,Ps);me(this,Ts);me(this,Xa);me(this,Za);me(this,Rs);me(this,ei);me(this,ti);ee(this,st,e.queryCache||new $M),ee(this,Ps,e.mutationCache||new UM),ee(this,Ts,e.defaultOptions||{}),ee(this,Xa,new Map),ee(this,Za,new Map),ee(this,Rs,0)}mount(){Ic(this,Rs)._++,k(this,Rs)===1&&(ee(this,ei,gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,st).onFocus())})),ee(this,ti,dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,st).onOnline())})))}unmount(){var e,t;Ic(this,Rs)._--,k(this,Rs)===0&&((e=k(this,ei))==null||e.call(this),ee(this,ei,void 0),(t=k(this,ti))==null||t.call(this),ee(this,ti,void 0))}isFetching(e){return k(this,st).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Ps).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=k(this,st).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=k(this,st).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return k(this,st).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=k(this,st).get(r.queryHash),o=s==null?void 0:s.state.data,a=NM(t,o);if(a!==void 0)return k(this,st).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return yt.batch(()=>k(this,st).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=k(this,st).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=k(this,st);yt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=k(this,st);return yt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=yt.batch(()=>k(this,st).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Wt).catch(Wt)}invalidateQueries(e,t={}){return yt.batch(()=>(k(this,st).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=yt.batch(()=>k(this,st).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Wt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Wt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=k(this,st).build(this,t);return n.isStaleByTime(Qs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wt).catch(Wt)}fetchInfiniteQuery(e){return e.behavior=aw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wt).catch(Wt)}ensureInfiniteQueryData(e){return e.behavior=aw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dd.isOnline()?k(this,Ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,st)}getMutationCache(){return k(this,Ps)}getDefaultOptions(){return k(this,Ts)}setDefaultOptions(e){ee(this,Ts,e)}setQueryDefaults(e,t){k(this,Xa).set(Qo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,Xa).values()],n={};return t.forEach(r=>{zl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){k(this,Za).set(Qo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,Za).values()],n={};return t.forEach(r=>{zl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,st).clear(),k(this,Ps).clear()}},st=new WeakMap,Ps=new WeakMap,Ts=new WeakMap,Xa=new WeakMap,Za=new WeakMap,Rs=new WeakMap,ei=new WeakMap,ti=new WeakMap,Dx),en,Re,nc,Ut,Lo,ni,Is,Os,rc,ri,si,$o,Fo,As,oi,Le,sl,dm,fm,hm,pm,mm,gm,vm,E1,Lx,zM=(Lx=class extends Ni{constructor(t,n){super();me(this,Le);me(this,en);me(this,Re);me(this,nc);me(this,Ut);me(this,Lo);me(this,ni);me(this,Is);me(this,Os);me(this,rc);me(this,ri);me(this,si);me(this,$o);me(this,Fo);me(this,As);me(this,oi,new Set);this.options=n,ee(this,en,t),ee(this,Os,null),ee(this,Is,um()),this.options.experimental_prefetchInRender||k(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Re).addObserver(this),lw(k(this,Re),this.options)?je(this,Le,sl).call(this):this.updateResult(),je(this,Le,pm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ym(k(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ym(k(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Le,mm).call(this),je(this,Le,gm).call(this),k(this,Re).removeObserver(this)}setOptions(t){const n=this.options,r=k(this,Re);if(this.options=k(this,en).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,k(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Le,vm).call(this),k(this,Re).setOptions(this.options),n._defaulted&&!ud(this.options,n)&&k(this,en).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Re),observer:this});const s=this.hasListeners();s&&cw(k(this,Re),r,this.options,n)&&je(this,Le,sl).call(this),this.updateResult(),s&&(k(this,Re)!==r||On(this.options.enabled,k(this,Re))!==On(n.enabled,k(this,Re))||Qs(this.options.staleTime,k(this,Re))!==Qs(n.staleTime,k(this,Re)))&&je(this,Le,dm).call(this);const o=je(this,Le,fm).call(this);s&&(k(this,Re)!==r||On(this.options.enabled,k(this,Re))!==On(n.enabled,k(this,Re))||o!==k(this,As))&&je(this,Le,hm).call(this,o)}getOptimisticResult(t){const n=k(this,en).getQueryCache().build(k(this,en),t),r=this.createResult(n,t);return VM(this,r)&&(ee(this,Ut,r),ee(this,ni,this.options),ee(this,Lo,k(this,Re).state)),r}getCurrentResult(){return k(this,Ut)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){k(this,oi).add(t)}getCurrentQuery(){return k(this,Re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=k(this,en).defaultQueryOptions(t),r=k(this,en).getQueryCache().build(k(this,en),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return je(this,Le,sl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Ut)))}createResult(t,n){var L;const r=k(this,Re),s=this.options,o=k(this,Ut),a=k(this,Lo),i=k(this,ni),u=t!==r?t.state:k(this,nc),{state:d}=t;let h={...d},p=!1,m;if(n._optimisticResults){const $=this.hasListeners(),V=!$&&lw(t,n),F=$&&cw(t,r,n,s);(V||F)&&(h={...h,...S1(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:y}=h;m=h.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let $;o!=null&&o.isPlaceholderData&&n.placeholderData===(i==null?void 0:i.placeholderData)?($=o.data,x=!0):$=typeof n.placeholderData=="function"?n.placeholderData((L=k(this,si))==null?void 0:L.state.data,k(this,si)):n.placeholderData,$!==void 0&&(y="success",m=cm(o==null?void 0:o.data,$,n),p=!0)}if(n.select&&m!==void 0&&!x)if(o&&m===(a==null?void 0:a.data)&&n.select===k(this,rc))m=k(this,ri);else try{ee(this,rc,n.select),m=n.select(m),m=cm(o==null?void 0:o.data,m,n),ee(this,ri,m),ee(this,Os,null)}catch($){ee(this,Os,$)}k(this,Os)&&(w=k(this,Os),m=k(this,ri),v=Date.now(),y="error");const g=h.fetchStatus==="fetching",b=y==="pending",S=y==="error",_=b&&g,C=m!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:b,isSuccess:y==="success",isError:S,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:S&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&C,isStale:vv(t,n),refetch:this.refetch,promise:k(this,Is),isEnabled:On(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=I=>{T.status==="error"?I.reject(T.error):T.data!==void 0&&I.resolve(T.data)},V=()=>{const I=ee(this,Is,T.promise=um());$(I)},F=k(this,Is);switch(F.status){case"pending":t.queryHash===r.queryHash&&$(F);break;case"fulfilled":(T.status==="error"||T.data!==F.value)&&V();break;case"rejected":(T.status!=="error"||T.error!==F.reason)&&V();break}}return T}updateResult(){const t=k(this,Ut),n=this.createResult(k(this,Re),this.options);if(ee(this,Lo,k(this,Re).state),ee(this,ni,this.options),k(this,Lo).data!==void 0&&ee(this,si,k(this,Re)),ud(n,t))return;ee(this,Ut,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!k(this,oi).size)return!0;const a=new Set(o??k(this,oi));return this.options.throwOnError&&a.add("error"),Object.keys(k(this,Ut)).some(i=>{const c=i;return k(this,Ut)[c]!==t[c]&&a.has(c)})};je(this,Le,E1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Le,pm).call(this)}},en=new WeakMap,Re=new WeakMap,nc=new WeakMap,Ut=new WeakMap,Lo=new WeakMap,ni=new WeakMap,Is=new WeakMap,Os=new WeakMap,rc=new WeakMap,ri=new WeakMap,si=new WeakMap,$o=new WeakMap,Fo=new WeakMap,As=new WeakMap,oi=new WeakMap,Le=new WeakSet,sl=function(t){je(this,Le,vm).call(this);let n=k(this,Re).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Wt)),n},dm=function(){je(this,Le,mm).call(this);const t=Qs(this.options.staleTime,k(this,Re));if(qo||k(this,Ut).isStale||!im(t))return;const r=p1(k(this,Ut).dataUpdatedAt,t)+1;ee(this,$o,setTimeout(()=>{k(this,Ut).isStale||this.updateResult()},r))},fm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Re)):this.options.refetchInterval)??!1},hm=function(t){je(this,Le,gm).call(this),ee(this,As,t),!(qo||On(this.options.enabled,k(this,Re))===!1||!im(k(this,As))||k(this,As)===0)&&ee(this,Fo,setInterval(()=>{(this.options.refetchIntervalInBackground||gv.isFocused())&&je(this,Le,sl).call(this)},k(this,As)))},pm=function(){je(this,Le,dm).call(this),je(this,Le,hm).call(this,je(this,Le,fm).call(this))},mm=function(){k(this,$o)&&(clearTimeout(k(this,$o)),ee(this,$o,void 0))},gm=function(){k(this,Fo)&&(clearInterval(k(this,Fo)),ee(this,Fo,void 0))},vm=function(){const t=k(this,en).getQueryCache().build(k(this,en),this.options);if(t===k(this,Re))return;const n=k(this,Re);ee(this,Re,t),ee(this,nc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},E1=function(t){yt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(k(this,Ut))}),k(this,en).getQueryCache().notify({query:k(this,Re),type:"observerResultsUpdated"})})},Lx);function HM(e,t){return On(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lw(e,t){return HM(e,t)||e.state.data!==void 0&&ym(e,t,t.refetchOnMount)}function ym(e,t,n){if(On(t.enabled,e)!==!1&&Qs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&vv(e,t)}return!1}function cw(e,t,n,r){return(e!==t||On(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&vv(e,n)}function vv(e,t){return On(t.enabled,e)!==!1&&e.isStaleByTime(Qs(t.staleTime,e))}function VM(e,t){return!ud(e.getCurrentResult(),t)}var Ms,Ds,tn,Kr,es,Nu,wm,$x,YM=($x=class extends Ni{constructor(n,r){super();me(this,es);me(this,Ms);me(this,Ds);me(this,tn);me(this,Kr);ee(this,Ms,n),this.setOptions(r),this.bindMethods(),je(this,es,Nu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=k(this,Ms).defaultMutationOptions(n),ud(this.options,r)||k(this,Ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,tn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qo(r.mutationKey)!==Qo(this.options.mutationKey)?this.reset():((s=k(this,tn))==null?void 0:s.state.status)==="pending"&&k(this,tn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=k(this,tn))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,es,Nu).call(this),je(this,es,wm).call(this,n)}getCurrentResult(){return k(this,Ds)}reset(){var n;(n=k(this,tn))==null||n.removeObserver(this),ee(this,tn,void 0),je(this,es,Nu).call(this),je(this,es,wm).call(this)}mutate(n,r){var s;return ee(this,Kr,r),(s=k(this,tn))==null||s.removeObserver(this),ee(this,tn,k(this,Ms).getMutationCache().build(k(this,Ms),this.options)),k(this,tn).addObserver(this),k(this,tn).execute(n)}},Ms=new WeakMap,Ds=new WeakMap,tn=new WeakMap,Kr=new WeakMap,es=new WeakSet,Nu=function(){var r;const n=((r=k(this,tn))==null?void 0:r.state)??_1();ee(this,Ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},wm=function(n){yt.batch(()=>{var r,s,o,a,i,c,u,d;if(k(this,Kr)&&this.hasListeners()){const h=k(this,Ds).variables,p=k(this,Ds).context;(n==null?void 0:n.type)==="success"?((s=(r=k(this,Kr)).onSuccess)==null||s.call(r,n.data,h,p),(a=(o=k(this,Kr)).onSettled)==null||a.call(o,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((c=(i=k(this,Kr)).onError)==null||c.call(i,n.error,h,p),(d=(u=k(this,Kr)).onSettled)==null||d.call(u,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(k(this,Ds))})})},$x),C1=f.createContext(void 0),ji=e=>{const t=f.useContext(C1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},KM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(C1.Provider,{value:e,children:t})),k1=f.createContext(!1),GM=()=>f.useContext(k1);k1.Provider;function qM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QM=f.createContext(qM()),JM=()=>f.useContext(QM),XM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ZM=e=>{f.useEffect(()=>{e.clearReset()},[e])},eD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||v1(n,[e.error,r])),tD=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nD=(e,t)=>e.isLoading&&e.isFetching&&!t,rD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function sD(e,t,n){var h,p,m,w,v;const r=GM(),s=JM(),o=ji(),a=o.defaultQueryOptions(e);(p=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",tD(a),XM(a,s),ZM(s);const i=!o.getQueryCache().get(a.queryHash),[c]=f.useState(()=>new t(o,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const x=d?c.subscribe(yt.batchCalls(y)):Wt;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(a)},[a,c]),rD(a,u))throw uw(a,c,s);if(eD({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((w=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,a,u),a.experimental_prefetchInRender&&!qo&&nD(u,r)){const y=i?uw(a,c,s):(v=o.getQueryCache().get(a.queryHash))==null?void 0:v.promise;y==null||y.catch(Wt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function yl(e,t){return sD(e,zM)}function wl(e,t){const n=ji(),[r]=f.useState(()=>new YM(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const s=f.useSyncExternalStore(f.useCallback(a=>r.subscribe(yt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=f.useCallback((a,i)=>{r.mutate(a,i).catch(Wt)},[r]);if(s.error&&v1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const dw="popstate";function oD(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:i}=r.location;return xm("",{pathname:o,search:a,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:j1(s)}return iD(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aD(){return Math.random().toString(36).substr(2,8)}function fw(e,t){return{usr:e.state,key:e.key,idx:t}}function xm(e,t,n,r){return n===void 0&&(n=null),Hl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pi(t):t,{state:n,key:t&&t.key||r||aD()})}function j1(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iD(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,i=Fs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Hl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){i=Fs.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:i,location:v.location,delta:x})}function p(y,x){i=Fs.Push;let g=xm(v.location,y,x);u=d()+1;let b=fw(g,u),S=v.createHref(g);try{a.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:i,location:v.location,delta:1})}function m(y,x){i=Fs.Replace;let g=xm(v.location,y,x);u=d();let b=fw(g,u),S=v.createHref(g);a.replaceState(b,"",S),o&&c&&c({action:i,location:v.location,delta:0})}function w(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:j1(y);return g=g.replace(/ $/,"%20"),ft(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let v={get action(){return i},get location(){return e(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(dw,h),c=y,()=>{s.removeEventListener(dw,h),c=null}},createHref(y){return t(s,y)},createURL:w,encodeLocation(y){let x=w(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return a.go(y)}};return v}var hw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hw||(hw={}));function lD(e,t,n){return n===void 0&&(n="/"),cD(e,t,n,!1)}function cD(e,t,n,r){let s=typeof t=="string"?Pi(t):t,o=R1(s.pathname||"/",n);if(o==null)return null;let a=P1(e);uD(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=bD(o);i=wD(a[c],u,r)}return i}function P1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Wo([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(ft(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),P1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:vD(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))s(o,a);else for(let c of T1(o.path))s(o,a,c)}),t}function T1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=T1(r.join("/")),i=[];return i.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function uD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dD=/^:[\w-]+$/,fD=3,hD=2,pD=1,mD=10,gD=-2,pw=e=>e==="*";function vD(e,t){let n=e.split("/"),r=n.length;return n.some(pw)&&(r+=gD),t&&(r+=hD),n.filter(s=>!pw(s)).reduce((s,o)=>s+(dD.test(o)?fD:o===""?pD:mD),r)}function yD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function wD(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=mw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=mw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Wo([o,h.pathname]),pathnameBase:CD(Wo([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Wo([o,h.pathnameBase]))}return a}function mw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=i[h]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=i[h];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function xD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),N1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return N1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Pi(e):e;return{pathname:n?n.startsWith("/")?n:_D(n,t):t,search:kD(r),hash:ND(s)}}function _D(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _h(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ED(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function I1(e,t){let n=ED(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O1(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Pi(e):(s=Hl({},e),ft(!s.pathname||!s.pathname.includes("?"),_h("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),_h("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),_h("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,i;if(a==null)i=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}i=h>=0?t[h]:"/"}let c=SD(s,i),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Wo=e=>e.join("/").replace(/\/\/+/g,"/"),CD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ND=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const A1=["post","put","patch","delete"];new Set(A1);const PD=["get",...A1];new Set(PD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}const yv=f.createContext(null),TD=f.createContext(null),fc=f.createContext(null),mf=f.createContext(null),io=f.createContext({outlet:null,matches:[],isDataRoute:!1}),M1=f.createContext(null);function hc(){return f.useContext(mf)!=null}function ia(){return hc()||ft(!1),f.useContext(mf).location}function D1(e){f.useContext(fc).static||f.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=f.useContext(io);return e?HD():RD()}function RD(){hc()||ft(!1);let e=f.useContext(yv),{basename:t,future:n,navigator:r}=f.useContext(fc),{matches:s}=f.useContext(io),{pathname:o}=ia(),a=JSON.stringify(I1(s,n.v7_relativeSplatPath)),i=f.useRef(!1);return D1(()=>{i.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let h=O1(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Wo([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,o,e])}function ID(){let{matches:e}=f.useContext(io),t=e[e.length-1];return t?t.params:{}}function OD(e,t){return AD(e,t)}function AD(e,t,n,r){hc()||ft(!1);let{navigator:s}=f.useContext(fc),{matches:o}=f.useContext(io),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ia(),d;if(t){var h;let y=typeof t=="string"?Pi(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ft(!1),d=y}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=lD(e,{pathname:m}),v=FD(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},i,y.params),pathname:Wo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Wo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&v?f.createElement(mf.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fs.Pop}},v):v}function MD(){let e=zD(),t=jD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:s},n):null,null)}const DD=f.createElement(MD,null);class LD extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(io.Provider,{value:this.props.routeContext},f.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $D(e){let{routeContext:t,match:n,children:r}=e,s=f.useContext(yv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(io.Provider,{value:t},r)}function FD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);d>=0||ft(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let m,w=!1,v=null,y=null;n&&(m=i&&h.route.id?i[h.route.id]:void 0,v=h.route.errorElement||DD,c&&(u<0&&p===0?(w=!0,y=null):u===p&&(w=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,p+1)),g=()=>{let b;return m?b=v:w?b=y:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,f.createElement($D,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(LD,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var L1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L1||{}),fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fd||{});function UD(e){let t=f.useContext(yv);return t||ft(!1),t}function BD(e){let t=f.useContext(TD);return t||ft(!1),t}function WD(e){let t=f.useContext(io);return t||ft(!1),t}function $1(e){let t=WD(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function zD(){var e;let t=f.useContext(M1),n=BD(fd.UseRouteError),r=$1(fd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function HD(){let{router:e}=UD(L1.UseNavigateStable),t=$1(fd.UseNavigateStable),n=f.useRef(!1);return D1(()=>{n.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vl({fromRouteId:t},o)))},[e,t])}function VD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function YD(e){let{to:t,replace:n,state:r,relative:s}=e;hc()||ft(!1);let{future:o,static:a}=f.useContext(fc),{matches:i}=f.useContext(io),{pathname:c}=ia(),u=dr(),d=O1(t,I1(i,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Zt(e){ft(!1)}function KD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Fs.Pop,navigator:o,static:a=!1,future:i}=e;hc()&&ft(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:a,future:Vl({v7_relativeSplatPath:!1},i)}),[c,i,o,a]);typeof r=="string"&&(r=Pi(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:w="default"}=r,v=f.useMemo(()=>{let y=R1(d,c);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:w},navigationType:s}},[c,d,h,p,m,w,s]);return v==null?null:f.createElement(fc.Provider,{value:u},f.createElement(mf.Provider,{children:n,value:v}))}function GD(e){let{children:t,location:n}=e;return OD(bm(t),n)}new Promise(()=>{});function bm(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(r,s)=>{if(!f.isValidElement(r))return;let o=[...t,s];if(r.type===f.Fragment){n.push.apply(n,bm(r.props.children,o));return}r.type!==Zt&&ft(!1),!r.props.index||!r.props.children||ft(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bm(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qD="6";try{window.__reactRouterVersion=qD}catch{}const QD="startTransition",gw=ng[QD];function JD(e){let{basename:t,children:n,future:r,window:s}=e,o=f.useRef();o.current==null&&(o.current=oD({window:s,v5Compat:!0}));let a=o.current,[i,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=f.useCallback(h=>{u&&gw?gw(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>a.listen(d),[a,d]),f.useEffect(()=>VD(r),[r]),f.createElement(KD,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}var vw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var yw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));const XD=()=>{const e=ia();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},ZD="modulepreload",e2=function(e){return"/"+e},ww={},lo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=e2(c),c in ww)return;ww[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ZD,u||(h.as="script"),h.crossOrigin="",h.href=c,i&&h.setAttribute("nonce",i),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return s.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},F1=f.createContext(void 0),Nn=()=>{const e=f.useContext(F1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Sm=of("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?TR:"button";return l.jsx(a,{className:ge(Sm({variant:t,size:n,className:e})),ref:o,...s})});Se.displayName="Button";const Jo="/assets/couch1-BGAlCsaN.jpg",hd="/assets/couch2-2vc5v2hu.jpg",pd="/assets/couch3-CguXBYH7.jpg",md="/assets/couch4-BALJ1tc6.jpg",gd="/assets/couch5-BOhJO1Bo.jpg",vd="/assets/couch6-C3DYZNsN.jpg";function Ae(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function En(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zt(e,t){const n=Ae(e);return isNaN(t)?En(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function lr(e,t){const n=Ae(e);if(isNaN(t))return En(e,NaN);if(!t)return n;const r=n.getDate(),s=En(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const wv=6048e5,t2=864e5;let n2={};function pc(){return n2}function Or(e,t){var i,c,u,d;const n=pc(),r=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ae(e),o=s.getDay(),a=(o<r?7:0)+o-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xo(e){return Or(e,{weekStartsOn:1})}function U1(e){const t=Ae(e),n=t.getFullYear(),r=En(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Xo(r),o=En(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Xo(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function At(e){const t=Ae(e);return t.setHours(0,0,0,0),t}function yd(e){const t=Ae(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ln(e,t){const n=At(e),r=At(t),s=+n-yd(n),o=+r-yd(r);return Math.round((s-o)/t2)}function r2(e){const t=U1(e),n=En(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xo(n)}function _m(e,t){const n=t*7;return zt(e,n)}function s2(e,t){return lr(e,t*12)}function o2(e){let t;return e.forEach(function(n){const r=Ae(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function a2(e){let t;return e.forEach(n=>{const r=Ae(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function an(e,t){const n=At(e),r=At(t);return+n==+r}function xv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function i2(e){if(!xv(e)&&typeof e!="number")return!1;const t=Ae(e);return!isNaN(Number(t))}function Yl(e,t){const n=Ae(e),r=Ae(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function l2(e,t,n){const r=Or(e,n),s=Or(t,n),o=+r-yd(r),a=+s-yd(s);return Math.round((o-a)/wv)}function bv(e){const t=Ae(e);return t.setHours(23,59,59,999),t}function Sv(e){const t=Ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function dn(e){const t=Ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function B1(e){const t=Ae(e),n=En(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _v(e,t){var i,c,u,d;const n=pc(),r=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ae(e),o=s.getDay(),a=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function W1(e){return _v(e,{weekStartsOn:1})}const c2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u2=(e,t,n)=>{let r;const s=c2[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Eh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const d2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p2={date:Eh({formats:d2,defaultWidth:"full"}),time:Eh({formats:f2,defaultWidth:"full"}),dateTime:Eh({formats:h2,defaultWidth:"full"})},m2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g2=(e,t,n,r)=>m2[e];function Ki(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{const a=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[i]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const v2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_2=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},E2={ordinalNumber:_2,era:Ki({values:v2,defaultWidth:"wide"}),quarter:Ki({values:y2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ki({values:w2,defaultWidth:"wide"}),day:Ki({values:x2,defaultWidth:"wide"}),dayPeriod:Ki({values:b2,defaultWidth:"wide",formattingValues:S2,defaultFormattingWidth:"wide"})};function Gi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?k2(i,h=>h.test(a)):C2(i,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function C2(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function k2(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function N2(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const i=t.slice(s.length);return{value:a,rest:i}}}const j2=/^(\d+)(th|st|nd|rd)?/i,P2=/\d+/i,T2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R2={any:[/^b/i,/^(a|c)/i]},I2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O2={any:[/1/i,/2/i,/3/i,/4/i]},A2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U2={ordinalNumber:N2({matchPattern:j2,parsePattern:P2,valueCallback:e=>parseInt(e,10)}),era:Gi({matchPatterns:T2,defaultMatchWidth:"wide",parsePatterns:R2,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:I2,defaultMatchWidth:"wide",parsePatterns:O2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gi({matchPatterns:A2,defaultMatchWidth:"wide",parsePatterns:M2,defaultParseWidth:"any"}),day:Gi({matchPatterns:D2,defaultMatchWidth:"wide",parsePatterns:L2,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:$2,defaultMatchWidth:"any",parsePatterns:F2,defaultParseWidth:"any"})},z1={code:"en-US",formatDistance:u2,formatLong:p2,formatRelative:g2,localize:E2,match:U2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B2(e){const t=Ae(e);return Ln(t,B1(t))+1}function H1(e){const t=Ae(e),n=+Xo(t)-+r2(t);return Math.round(n/wv)+1}function V1(e,t){var d,h,p,m;const n=Ae(e),r=n.getFullYear(),s=pc(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=En(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const i=Or(a,t),c=En(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Or(c,t);return n.getTime()>=i.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function W2(e,t){var i,c,u,d;const n=pc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=V1(e,t),o=En(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Or(o,t)}function Y1(e,t){const n=Ae(e),r=+Or(n,t)-+W2(n,t);return Math.round(r/wv)+1}function Ue(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const vs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ue(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ue(n+1,2)},d(e,t){return Ue(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ue(e.getHours()%12||12,t.length)},H(e,t){return Ue(e.getHours(),t.length)},m(e,t){return Ue(e.getMinutes(),t.length)},s(e,t){return Ue(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ue(s,t.length)}},ha={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return vs.y(e,t)},Y:function(e,t,n,r){const s=V1(e,r),o=s>0?s:1-s;if(t==="YY"){const a=o%100;return Ue(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ue(o,t.length)},R:function(e,t){const n=U1(e);return Ue(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ue(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ue(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ue(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return vs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ue(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Y1(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ue(s,t.length)},I:function(e,t,n){const r=H1(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ue(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):vs.d(e,t)},D:function(e,t,n){const r=B2(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ue(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ue(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ue(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ue(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ha.noon:r===0?s=ha.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ha.evening:r>=12?s=ha.afternoon:r>=4?s=ha.morning:s=ha.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):vs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):vs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):vs.s(e,t)},S:function(e,t){return vs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Sw(r);case"XXXX":case"XX":return So(r);case"XXXXX":case"XXX":default:return So(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Sw(r);case"xxxx":case"xx":return So(r);case"xxxxx":case"xxx":default:return So(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bw(r,":");case"OOOO":default:return"GMT"+So(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bw(r,":");case"zzzz":default:return"GMT"+So(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ue(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ue(r,t.length)}};function bw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+Ue(o,2)}function Sw(e,t){return e%60===0?(e>0?"-":"+")+Ue(Math.abs(e)/60,2):So(e,t)}function So(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ue(Math.trunc(r/60),2),o=Ue(r%60,2);return n+s+t+o}const _w=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},K1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},z2=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return _w(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",_w(r,t)).replace("{{time}}",K1(s,t))},H2={p:K1,P:z2},V2=/^D+$/,Y2=/^Y+$/,K2=["D","DD","YY","YYYY"];function G2(e){return V2.test(e)}function q2(e){return Y2.test(e)}function Q2(e,t,n){const r=J2(e,t,n);if(console.warn(r),K2.includes(e))throw new RangeError(r)}function J2(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eL=/^'([^]*?)'?$/,tL=/''/g,nL=/[a-zA-Z]/;function Me(e,t,n){var d,h,p,m,w,v,y,x;const r=pc(),s=(n==null?void 0:n.locale)??r.locale??z1,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,i=Ae(e);if(!i2(i))throw new RangeError("Invalid time value");let c=t.match(Z2).map(g=>{const b=g[0];if(b==="p"||b==="P"){const S=H2[b];return S(g,s.formatLong)}return g}).join("").match(X2).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:rL(g)};if(xw[b])return{isToken:!0,value:g};if(b.match(nL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(i,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&q2(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&G2(b))&&Q2(b,t,String(e));const S=xw[b[0]];return S(i,b,s.localize,u)}).join("")}function rL(e){const t=e.match(eL);return t?t[1].replace(tL,"'"):e}function sL(e){const t=Ae(e),n=t.getFullYear(),r=t.getMonth(),s=En(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function oL(e){return Math.trunc(+Ae(e)/1e3)}function aL(e){const t=Ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function iL(e,t){return l2(aL(e),dn(e),t)+1}function Kl(e,t){const n=Ae(e),r=Ae(t);return n.getTime()>r.getTime()}function Zo(e,t){const n=Ae(e),r=Ae(t);return+n<+r}function Ev(e,t){const n=Ae(e),r=Ae(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function lL(e,t){const n=Ae(e),r=Ae(t);return n.getFullYear()===r.getFullYear()}function Ch(e,t){return zt(e,-t)}function kh(e,t){const n=Ae(e),r=n.getFullYear(),s=n.getDate(),o=En(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=sL(o);return n.setMonth(t,Math.min(s,a)),n}function Ew(e,t){const n=Ae(e);return isNaN(+n)?En(e,NaN):(n.setFullYear(t),n)}var be=function(){return be=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},be.apply(this,arguments)};function cL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function G1(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function mc(e){return e.mode==="multiple"}function gc(e){return e.mode==="range"}function gf(e){return e.mode==="single"}var uL={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function dL(e,t){return Me(e,"LLLL y",t)}function fL(e,t){return Me(e,"d",t)}function hL(e,t){return Me(e,"LLLL",t)}function pL(e){return"".concat(e)}function mL(e,t){return Me(e,"cccccc",t)}function gL(e,t){return Me(e,"yyyy",t)}var vL=Object.freeze({__proto__:null,formatCaption:dL,formatDay:fL,formatMonthCaption:hL,formatWeekNumber:pL,formatWeekdayName:mL,formatYearCaption:gL}),yL=function(e,t,n){return Me(e,"do MMMM (EEEE)",n)},wL=function(){return"Month: "},xL=function(){return"Go to next month"},bL=function(){return"Go to previous month"},SL=function(e,t){return Me(e,"cccc",t)},_L=function(e){return"Week n. ".concat(e)},EL=function(){return"Year: "},CL=Object.freeze({__proto__:null,labelDay:yL,labelMonthDropdown:wL,labelNext:xL,labelPrevious:bL,labelWeekNumber:_L,labelWeekday:SL,labelYearDropdown:EL});function kL(){var e="buttons",t=uL,n=z1,r={},s={},o=1,a={},i=new Date;return{captionLayout:e,classNames:t,formatters:vL,labels:CL,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:a,today:i,mode:"default"}}function NL(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,a=e.toDate;return r?o=dn(r):t&&(o=new Date(t,0,1)),s?a=Sv(s):n&&(a=new Date(n,11,31)),{fromDate:o?At(o):void 0,toDate:a?At(a):void 0}}var q1=f.createContext(void 0);function jL(e){var t,n=e.initialProps,r=kL(),s=NL(n),o=s.fromDate,a=s.toDate,i=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;i!=="buttons"&&(!o||!a)&&(i="buttons");var c;(gf(n)||mc(n)||gc(n))&&(c=n.onSelect);var u=be(be(be({},r),n),{captionLayout:i,classNames:be(be({},r.classNames),n.classNames),components:be({},n.components),formatters:be(be({},r.formatters),n.formatters),fromDate:o,labels:be(be({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:be(be({},r.modifiers),n.modifiers),modifiersClassNames:be(be({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:be(be({},r.styles),n.styles),toDate:a});return l.jsx(q1.Provider,{value:u,children:e.children})}function Ge(){var e=f.useContext(q1);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Q1(e){var t=Ge(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function PL(e){return l.jsx("svg",be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function J1(e){var t,n,r=e.onChange,s=e.value,o=e.children,a=e.caption,i=e.className,c=e.style,u=Ge(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:PL;return l.jsxs("div",{className:i,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function TL(e){var t,n=Ge(),r=n.fromDate,s=n.toDate,o=n.styles,a=n.locale,i=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(lL(r,s))for(var p=dn(r),m=r.getMonth();m<=s.getMonth();m++)h.push(kh(p,m));else for(var p=dn(new Date),m=0;m<=11;m++)h.push(kh(p,m));var w=function(y){var x=Number(y.target.value),g=kh(dn(e.displayMonth),x);e.onChange(g)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:J1;return l.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:a}),children:h.map(function(y){return l.jsx("option",{value:y.getMonth(),children:i(y,{locale:a})},y.getMonth())})})}function RL(e){var t,n=e.displayMonth,r=Ge(),s=r.fromDate,o=r.toDate,a=r.locale,i=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,p=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),w=o.getFullYear(),v=m;v<=w;v++)p.push(Ew(B1(new Date),v));var y=function(g){var b=Ew(dn(n),Number(g.target.value));e.onChange(b)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:J1;return l.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:i.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:a}),children:p.map(function(g){return l.jsx("option",{value:g.getFullYear(),children:d(g,{locale:a})},g.getFullYear())})})}function IL(e,t){var n=f.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function OL(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,a=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(o&&Yl(o,s)<0){var u=-1*(c-1);s=lr(o,u)}return a&&Yl(s,a)<0&&(s=a),dn(s)}function AL(){var e=Ge(),t=OL(e),n=IL(t,e.month),r=n[0],s=n[1],o=function(a){var i;if(!e.disableNavigation){var c=dn(a);s(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[r,o]}function ML(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=dn(e),o=dn(lr(s,r)),a=Yl(o,s),i=[],c=0;c<a;c++){var u=lr(s,c);i.push(u)}return n&&(i=i.reverse()),i}function DL(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,a=r?o:1,i=dn(e);if(!n)return lr(i,a);var c=Yl(n,e);if(!(c<o))return lr(i,a)}}function LL(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,a=r?o:1,i=dn(e);if(!n)return lr(i,-a);var c=Yl(i,n);if(!(c<=0))return lr(i,-a)}}var X1=f.createContext(void 0);function $L(e){var t=Ge(),n=AL(),r=n[0],s=n[1],o=ML(r,t),a=DL(r,t),i=LL(r,t),c=function(h){return o.some(function(p){return Ev(h,p)})},u=function(h,p){c(h)||(p&&Zo(h,p)?s(lr(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:i,nextMonth:a,isDateDisplayed:c};return l.jsx(X1.Provider,{value:d,children:e.children})}function vc(){var e=f.useContext(X1);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Cw(e){var t,n=Ge(),r=n.classNames,s=n.styles,o=n.components,a=vc().goToMonth,i=function(d){a(lr(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Q1,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(TL,{onChange:i,displayMonth:e.displayMonth}),l.jsx(RL,{onChange:i,displayMonth:e.displayMonth})]})}function FL(e){return l.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UL(e){return l.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var wd=f.forwardRef(function(e,t){var n=Ge(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var a=o.join(" "),i=be(be({},s.button_reset),s.button);return e.style&&Object.assign(i,e.style),l.jsx("button",be({},e,{ref:t,type:"button",className:a,style:i}))});function BL(e){var t,n,r=Ge(),s=r.dir,o=r.locale,a=r.classNames,i=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var p=u(e.previousMonth,{locale:o}),m=[a.nav_button,a.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:o}),v=[a.nav_button,a.nav_button_next].join(" "),y=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:UL,x=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:FL;return l.jsxs("div",{className:a.nav,style:i.nav,children:[!e.hidePrevious&&l.jsx(wd,{name:"previous-month","aria-label":p,className:m,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(y,{className:a.nav_icon,style:i.nav_icon}):l.jsx(x,{className:a.nav_icon,style:i.nav_icon})}),!e.hideNext&&l.jsx(wd,{name:"next-month","aria-label":w,className:v,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(x,{className:a.nav_icon,style:i.nav_icon}):l.jsx(y,{className:a.nav_icon,style:i.nav_icon})})]})}function kw(e){var t=Ge().numberOfMonths,n=vc(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,a=n.displayMonths,i=a.findIndex(function(w){return Ev(e.displayMonth,w)}),c=i===0,u=i===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return l.jsx(BL,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function WL(e){var t,n=Ge(),r=n.classNames,s=n.disableNavigation,o=n.styles,a=n.captionLayout,i=n.components,c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Q1,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=l.jsx(Cw,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(Cw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(kw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(kw,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:u})}function zL(e){var t=Ge(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function HL(e,t,n){for(var r=n?Xo(new Date):Or(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var a=zt(r,o);s.push(a)}return s}function VL(){var e=Ge(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,a=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=HL(s,o,a);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:i(d,{locale:s})},h)})]})}function YL(){var e,t=Ge(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:VL;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function KL(e){var t=Ge(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Cv=f.createContext(void 0);function GL(e){if(!mc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Cv.Provider,{value:t,children:e.children})}return l.jsx(qL,{initialProps:e.initialProps,children:e.children})}function qL(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,a=function(u,d,h){var p,m;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,h);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var v=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var y=r?G1([],r):[];if(d.selected){var x=y.findIndex(function(g){return an(u,g)});y.splice(x,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,h)}}},i={disabled:[]};r&&i.disabled.push(function(u){var d=o&&r.length>o-1,h=r.some(function(p){return an(p,u)});return!!(d&&!h)});var c={selected:r,onDayClick:a,modifiers:i};return l.jsx(Cv.Provider,{value:c,children:n})}function kv(){var e=f.useContext(Cv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function QL(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?an(s,e)&&an(r,e)?void 0:an(s,e)?{from:s,to:void 0}:an(r,e)?void 0:Kl(r,e)?{from:e,to:s}:{from:r,to:e}:s?Kl(e,s)?{from:s,to:e}:{from:e,to:s}:r?Zo(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Nv=f.createContext(void 0);function JL(e){if(!gc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Nv.Provider,{value:t,children:e.children})}return l.jsx(XL,{initialProps:e.initialProps,children:e.children})}function XL(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,a=s.to,i=t.min,c=t.max,u=function(m,w,v){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,m,w,v);var g=QL(m,r);(x=t.onSelect)===null||x===void 0||x.call(t,g,m,w,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],a?(d.range_end=[a],an(o,a)||(d.range_middle=[{after:o,before:a}])):d.range_end=[o]):a&&(d.range_start=[a],d.range_end=[a]),i&&(o&&!a&&d.disabled.push({after:Ch(o,i-1),before:zt(o,i-1)}),o&&a&&d.disabled.push({after:o,before:zt(o,i-1)}),!o&&a&&d.disabled.push({after:Ch(a,i-1),before:zt(a,i-1)})),c){if(o&&!a&&(d.disabled.push({before:zt(o,-c+1)}),d.disabled.push({after:zt(o,c-1)})),o&&a){var h=Ln(a,o)+1,p=c-h;d.disabled.push({before:Ch(o,p)}),d.disabled.push({after:zt(a,p)})}!o&&a&&(d.disabled.push({before:zt(a,-c+1)}),d.disabled.push({after:zt(a,c-1)}))}return l.jsx(Nv.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function jv(){var e=f.useContext(Nv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ju(e){return Array.isArray(e)?G1([],e):e!==void 0?[e]:[]}function ZL(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=ju(s)}),t}var cr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(cr||(cr={}));var e$=cr.Selected,Br=cr.Disabled,t$=cr.Hidden,n$=cr.Today,Nh=cr.RangeEnd,jh=cr.RangeMiddle,Ph=cr.RangeStart,r$=cr.Outside;function s$(e,t,n){var r,s=(r={},r[e$]=ju(e.selected),r[Br]=ju(e.disabled),r[t$]=ju(e.hidden),r[n$]=[e.today],r[Nh]=[],r[jh]=[],r[Ph]=[],r[r$]=[],r);return e.fromDate&&s[Br].push({before:e.fromDate}),e.toDate&&s[Br].push({after:e.toDate}),mc(e)?s[Br]=s[Br].concat(t.modifiers[Br]):gc(e)&&(s[Br]=s[Br].concat(n.modifiers[Br]),s[Ph]=n.modifiers[Ph],s[jh]=n.modifiers[jh],s[Nh]=n.modifiers[Nh]),s}var Z1=f.createContext(void 0);function o$(e){var t=Ge(),n=kv(),r=jv(),s=s$(t,n,r),o=ZL(t.modifiers),a=be(be({},s),o);return l.jsx(Z1.Provider,{value:a,children:e.children})}function eE(){var e=f.useContext(Z1);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function a$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function i$(e){return!!(e&&typeof e=="object"&&"from"in e)}function l$(e){return!!(e&&typeof e=="object"&&"after"in e)}function c$(e){return!!(e&&typeof e=="object"&&"before"in e)}function u$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function d$(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=Ln(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var a=Ln(e,r)>=0&&Ln(s,e)>=0;return a}return s?an(s,e):r?an(r,e):!1}function f$(e){return xv(e)}function h$(e){return Array.isArray(e)&&e.every(xv)}function p$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(f$(n))return an(e,n);if(h$(n))return n.includes(e);if(i$(n))return d$(e,n);if(u$(n))return n.dayOfWeek.includes(e.getDay());if(a$(n)){var r=Ln(n.before,e),s=Ln(n.after,e),o=r>0,a=s<0,i=Kl(n.before,n.after);return i?a&&o:o||a}return l$(n)?Ln(e,n.after)>0:c$(n)?Ln(n.before,e)>0:typeof n=="function"?n(e):!1})}function Pv(e,t,n){var r=Object.keys(t).reduce(function(o,a){var i=t[a];return p$(e,i)&&o.push(a),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Ev(e,n)&&(s.outside=!0),s}function m$(e,t){for(var n=dn(e[0]),r=Sv(e[e.length-1]),s,o,a=n;a<=r;){var i=Pv(a,t),c=!i.disabled&&!i.hidden;if(!c){a=zt(a,1);continue}if(i.selected)return a;i.today&&!o&&(o=a),s||(s=a),a=zt(a,1)}return o||s}var g$=365;function tE(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,a=t.retry,i=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,p={day:zt,week:_m,month:lr,year:s2,startOfWeek:function(y){return s.ISOWeek?Xo(y):Or(y,{locale:h,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?W1(y):_v(y,{locale:h,weekStartsOn:c})}},m=p[n](e,r==="after"?1:-1);r==="before"&&u?m=o2([u,m]):r==="after"&&d&&(m=a2([d,m]));var w=!0;if(o){var v=Pv(m,o);w=!v.disabled&&!v.hidden}return w?m:i.count>g$?i.lastFocused:tE(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:be(be({},i),{count:i.count+1})})}var nE=f.createContext(void 0);function v$(e){var t=vc(),n=eE(),r=f.useState(),s=r[0],o=r[1],a=f.useState(),i=a[0],c=a[1],u=m$(t.displayMonths,n),d=s??(i&&t.isDateDisplayed(i))?i:u,h=function(){c(s),o(void 0)},p=function(y){o(y)},m=Ge(),w=function(y,x){if(s){var g=tE(s,{moveBy:y,direction:x,context:m,modifiers:n});an(s,g)||(t.goToDate(g,s),p(g))}},v={focusedDay:s,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(nE.Provider,{value:v,children:e.children})}function Tv(){var e=f.useContext(nE);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function y$(e,t){var n=eE(),r=Pv(e,n,t);return r}var Rv=f.createContext(void 0);function w$(e){if(!gf(e.initialProps)){var t={selected:void 0};return l.jsx(Rv.Provider,{value:t,children:e.children})}return l.jsx(x$,{initialProps:e.initialProps,children:e.children})}function x$(e){var t=e.initialProps,n=e.children,r=function(o,a,i){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,a,i),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,a,i);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,a,i)},s={selected:t.selected,onDayClick:r};return l.jsx(Rv.Provider,{value:s,children:n})}function rE(){var e=f.useContext(Rv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function b$(e,t){var n=Ge(),r=rE(),s=kv(),o=jv(),a=Tv(),i=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,p=a.focus,m=a.focusMonthBefore,w=a.focusMonthAfter,v=a.focusYearBefore,y=a.focusYearAfter,x=a.focusStartOfWeek,g=a.focusEndOfWeek,b=function(M){var E,R,W,J;gf(n)?(E=r.onDayClick)===null||E===void 0||E.call(r,e,t,M):mc(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,M):gc(n)?(W=o.onDayClick)===null||W===void 0||W.call(o,e,t,M):(J=n.onDayClick)===null||J===void 0||J.call(n,e,t,M)},S=function(M){var E;p(e),(E=n.onDayFocus)===null||E===void 0||E.call(n,e,t,M)},_=function(M){var E;h(),(E=n.onDayBlur)===null||E===void 0||E.call(n,e,t,M)},C=function(M){var E;(E=n.onDayMouseEnter)===null||E===void 0||E.call(n,e,t,M)},N=function(M){var E;(E=n.onDayMouseLeave)===null||E===void 0||E.call(n,e,t,M)},T=function(M){var E;(E=n.onDayPointerEnter)===null||E===void 0||E.call(n,e,t,M)},L=function(M){var E;(E=n.onDayPointerLeave)===null||E===void 0||E.call(n,e,t,M)},$=function(M){var E;(E=n.onDayTouchCancel)===null||E===void 0||E.call(n,e,t,M)},V=function(M){var E;(E=n.onDayTouchEnd)===null||E===void 0||E.call(n,e,t,M)},F=function(M){var E;(E=n.onDayTouchMove)===null||E===void 0||E.call(n,e,t,M)},I=function(M){var E;(E=n.onDayTouchStart)===null||E===void 0||E.call(n,e,t,M)},j=function(M){var E;(E=n.onDayKeyUp)===null||E===void 0||E.call(n,e,t,M)},z=function(M){var E;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?i():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?c():i();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?v():m();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?y():w();break;case"Home":M.preventDefault(),M.stopPropagation(),x();break;case"End":M.preventDefault(),M.stopPropagation(),g();break}(E=n.onDayKeyDown)===null||E===void 0||E.call(n,e,t,M)},A={onClick:b,onFocus:S,onBlur:_,onKeyDown:z,onKeyUp:j,onMouseEnter:C,onMouseLeave:N,onPointerEnter:T,onPointerLeave:L,onTouchCancel:$,onTouchEnd:V,onTouchMove:F,onTouchStart:I};return A}function S$(){var e=Ge(),t=rE(),n=kv(),r=jv(),s=gf(e)?t.selected:mc(e)?n.selected:gc(e)?r.selected:void 0;return s}function _$(e){return Object.values(cr).includes(e)}function E$(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(_$(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function C$(e,t){var n=be({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=be(be({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function k$(e,t,n){var r,s,o,a=Ge(),i=Tv(),c=y$(e,t),u=b$(e,c),d=S$(),h=!!(a.onDayClick||a.mode!=="default");f.useEffect(function(){var C;c.outside||i.focusedDay&&h&&an(i.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[i.focusedDay,e,n,h,c.outside]);var p=E$(a,c).join(" "),m=C$(a,c),w=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(o=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:KL,y=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:p,children:y,role:"gridcell"},g=i.focusTarget&&an(i.focusTarget,e)&&!c.outside,b=i.focusedDay&&an(i.focusedDay,e),S=be(be(be({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||g?0:-1,r)),u),_={isButton:h,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:x};return _}function N$(e){var t=f.useRef(null),n=k$(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(wd,be({name:"day",ref:t},n.buttonProps)):l.jsx("div",be({},n.divProps))}function j$(e){var t=e.number,n=e.dates,r=Ge(),s=r.onWeekNumberClick,o=r.styles,a=r.classNames,i=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:i});if(!s)return l.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:d});var h=c(Number(t),{locale:i}),p=function(m){s(t,n,m)};return l.jsx(wd,{name:"week-number","aria-label":h,className:a.weeknumber,style:o.weeknumber,onClick:p,children:d})}function P$(e){var t,n,r=Ge(),s=r.styles,o=r.classNames,a=r.showWeekNumber,i=r.components,c=(t=i==null?void 0:i.Day)!==null&&t!==void 0?t:N$,u=(n=i==null?void 0:i.WeekNumber)!==null&&n!==void 0?n:j$,d;return a&&(d=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(h){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},oL(h))})]})}function Nw(e,t,n){for(var r=n!=null&&n.ISOWeek?W1(t):_v(t,n),s=n!=null&&n.ISOWeek?Xo(e):Or(e,n),o=Ln(r,s),a=[],i=0;i<=o;i++)a.push(zt(s,i));var c=a.reduce(function(u,d){var h=n!=null&&n.ISOWeek?H1(d):Y1(d,n),p=u.find(function(m){return m.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function T$(e,t){var n=Nw(dn(e),Sv(e),t);if(t!=null&&t.useFixedWeeks){var r=iL(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],a=_m(o,6-r),i=Nw(_m(o,1),a,t);n.push.apply(n,i)}}return n}function R$(e){var t,n,r,s=Ge(),o=s.locale,a=s.classNames,i=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,w=T$(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:h,firstWeekContainsDate:p}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:YL,y=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:P$,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:zL;return l.jsxs("table",{id:e.id,className:a.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:a.tbody,style:i.tbody,children:w.map(function(g){return l.jsx(y,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),l.jsx(x,{displayMonth:e.displayMonth})]})}function I$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var O$=I$()?f.useLayoutEffect:f.useEffect,Th=!1,A$=0;function jw(){return"react-day-picker-".concat(++A$)}function M$(e){var t,n=e??(Th?jw():null),r=f.useState(n),s=r[0],o=r[1];return O$(function(){s===null&&o(jw())},[]),f.useEffect(function(){Th===!1&&(Th=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function D$(e){var t,n,r=Ge(),s=r.dir,o=r.classNames,a=r.styles,i=r.components,c=vc().displayMonths,u=M$(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],p=a.month,m=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!m&&!w;s==="rtl"&&(t=[m,w],w=t[0],m=t[1]),m&&(h.push(o.caption_start),p=be(be({},p),a.caption_start)),w&&(h.push(o.caption_end),p=be(be({},p),a.caption_end)),v&&(h.push(o.caption_between),p=be(be({},p),a.caption_between));var y=(n=i==null?void 0:i.Caption)!==null&&n!==void 0?n:WL;return l.jsxs("div",{className:h.join(" "),style:p,children:[l.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(R$,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function L$(e){var t=Ge(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function $$(e){var t,n,r=e.initialProps,s=Ge(),o=Tv(),a=vc(),i=f.useState(!1),c=i[0],u=i[1];f.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=be(be({},s.styles.root),s.style),p=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var y;return be(be({},w),(y={},y[v]=r[v],y))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:L$;return l.jsx("div",be({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:l.jsx(m,{children:a.displayMonths.map(function(w,v){return l.jsx(D$,{displayIndex:v,displayMonth:w},v)})})}))}function F$(e){var t=e.children,n=cL(e,["children"]);return l.jsx(jL,{initialProps:n,children:l.jsx($L,{children:l.jsx(w$,{initialProps:n,children:l.jsx(GL,{initialProps:n,children:l.jsx(JL,{initialProps:n,children:l.jsx(o$,{children:l.jsx(v$,{children:t})})})})})})})}function U$(e){return l.jsx(F$,be({},e,{children:l.jsx($$,{initialProps:e})}))}function xd({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(U$,{showOutsideDays:n,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(Sm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:["h-9 w-9 text-center text-sm p-0 relative","[&:has([aria-selected].day-range-start)]:rounded-l-full","[&:has([aria-selected].day-range-end)]:rounded-r-full","[&:has([aria-selected].day-outside)]:bg-accent/50","[&:has([aria-selected])]:bg-accent","first:[&:has([aria-selected])]:rounded-l-full","last:[&:has([aria-selected])]:rounded-r-full","focus-within:relative focus-within:z-20"].join(" "),day:ge(Sm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(k_,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(Zg,{className:"h-4 w-4"})},...r})}xd.displayName="Calendar";var Rh=0;function vf(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Pw()),document.body.insertAdjacentElement("beforeend",e[1]??Pw()),Rh++,()=>{Rh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rh--}},[])}function Pw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ih="focusScope.autoFocusOnMount",Oh="focusScope.autoFocusOnUnmount",Tw={bubbles:!1,cancelable:!0},B$="FocusScope",yc=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[i,c]=f.useState(null),u=at(s),d=at(o),h=f.useRef(null),p=Ce(t,v=>c(v)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let v=function(b){if(m.paused||!i)return;const S=b.target;i.contains(S)?h.current=S:xs(h.current,{select:!0})},y=function(b){if(m.paused||!i)return;const S=b.relatedTarget;S!==null&&(i.contains(S)||xs(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&xs(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const g=new MutationObserver(x);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),g.disconnect()}}},[r,i,m.paused]),f.useEffect(()=>{if(i){Iw.add(m);const v=document.activeElement;if(!i.contains(v)){const x=new CustomEvent(Ih,Tw);i.addEventListener(Ih,u),i.dispatchEvent(x),x.defaultPrevented||(W$(K$(sE(i)),{select:!0}),document.activeElement===v&&xs(i))}return()=>{i.removeEventListener(Ih,u),setTimeout(()=>{const x=new CustomEvent(Oh,Tw);i.addEventListener(Oh,d),i.dispatchEvent(x),x.defaultPrevented||xs(v??document.body,{select:!0}),i.removeEventListener(Oh,d),Iw.remove(m)},0)}}},[i,u,d,m]);const w=f.useCallback(v=>{if(!n&&!r||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const g=v.currentTarget,[b,S]=z$(g);b&&S?!v.shiftKey&&x===S?(v.preventDefault(),n&&xs(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&xs(S,{select:!0})):x===g&&v.preventDefault()}},[n,r,m.paused]);return l.jsx(fe.div,{tabIndex:-1,...a,ref:p,onKeyDown:w})});yc.displayName=B$;function W$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xs(r,{select:t}),document.activeElement!==n)return}function z$(e){const t=sE(e),n=Rw(t,e),r=Rw(t.reverse(),e);return[n,r]}function sE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rw(e,t){for(const n of e)if(!H$(n,{upTo:t}))return n}function H$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function V$(e){return e instanceof HTMLInputElement&&"select"in e}function xs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&V$(e)&&t&&e.select()}}var Iw=Y$();function Y$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ow(e,t),e.unshift(t)},remove(t){var n;e=Ow(e,t),(n=e[0])==null||n.resume()}}}function Ow(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function K$(e){return e.filter(t=>t.tagName!=="A")}var G$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pa=new WeakMap,tu=new WeakMap,nu={},Ah=0,oE=function(e){return e&&(e.host||oE(e.parentNode))},q$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Q$=function(e,t,n,r){var s=q$(t,Array.isArray(e)?e:[e]);nu[n]||(nu[n]=new WeakMap);var o=nu[n],a=[],i=new Set,c=new Set(s),u=function(h){!h||i.has(h)||(i.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(i.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",v=(pa.get(p)||0)+1,y=(o.get(p)||0)+1;pa.set(p,v),o.set(p,y),a.push(p),v===1&&w&&tu.set(p,!0),y===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),i.clear(),Ah++,function(){a.forEach(function(h){var p=pa.get(h)-1,m=o.get(h)-1;pa.set(h,p),o.set(h,m),p||(tu.has(h)||h.removeAttribute(r),tu.delete(h)),m||h.removeAttribute(n)}),Ah--,Ah||(pa=new WeakMap,pa=new WeakMap,tu=new WeakMap,nu={})}},yf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=G$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Q$(r,s,n,"aria-hidden")):function(){return null}},kr=function(){return kr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},kr.apply(this,arguments)};function aE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function J$(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Pu="right-scroll-bar-position",Tu="width-before-scroll-bar",X$="with-scroll-bars-hidden",Z$="--removed-body-scroll-bar-size";function Mh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function e4(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var t4=typeof window<"u"?f.useLayoutEffect:f.useEffect,Aw=new WeakMap;function n4(e,t){var n=e4(null,function(r){return e.forEach(function(s){return Mh(s,r)})});return t4(function(){var r=Aw.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(i){o.has(i)||Mh(i,null)}),o.forEach(function(i){s.has(i)||Mh(i,a)})}Aw.set(n,e)},[e]),n}function r4(e){return e}function s4(e,t){t===void 0&&(t=r4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function o4(e){e===void 0&&(e={});var t=s4(null);return t.options=kr({async:!0,ssr:!1},e),t}var iE=function(e){var t=e.sideCar,n=aE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,kr({},n))};iE.isSideCarExport=!0;function a4(e,t){return e.useMedium(t),iE}var lE=o4(),Dh=function(){},wf=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Dh,onWheelCapture:Dh,onTouchMoveCapture:Dh}),s=r[0],o=r[1],a=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,v=e.inert,y=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,b=e.gapMode,S=aE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,C=n4([n,t]),N=kr(kr({},S),s);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:lE,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?f.cloneElement(f.Children.only(i),kr(kr({},N),{ref:C})):f.createElement(g,kr({},N,{className:c,ref:C}),i))});wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wf.classNames={fullWidth:Tu,zeroRight:Pu};var i4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i4();return t&&e.setAttribute("nonce",t),e}function c4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=l4())&&(c4(t,n),u4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f4=function(){var e=d4();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cE=function(){var e=f4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},h4={left:0,top:0,right:0,gap:0},Lh=function(e){return parseInt(e||"",10)||0},p4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lh(n),Lh(r),Lh(s)]},m4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return h4;var t=p4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},g4=cE(),Ya="data-scroll-locked",v4=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(X$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Ya,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Tu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tu," .").concat(Tu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ya,`] {
    `).concat(Z$,": ").concat(i,`px;
  }
`)},Mw=function(){var e=parseInt(document.body.getAttribute(Ya)||"0",10);return isFinite(e)?e:0},y4=function(){f.useEffect(function(){return document.body.setAttribute(Ya,(Mw()+1).toString()),function(){var e=Mw()-1;e<=0?document.body.removeAttribute(Ya):document.body.setAttribute(Ya,e.toString())}},[])},w4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;y4();var o=f.useMemo(function(){return m4(s)},[s]);return f.createElement(g4,{styles:v4(o,!t,s,n?"":"!important")})},Em=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Em=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Em=!1}var ma=Em?{passive:!1}:!1,x4=function(e){return e.tagName==="TEXTAREA"},uE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!x4(e)&&n[t]==="visible")},b4=function(e){return uE(e,"overflowY")},S4=function(e){return uE(e,"overflowX")},Dw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dE(e,r);if(s){var o=fE(e,r),a=o[1],i=o[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},E4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dE=function(e,t){return e==="v"?b4(t):S4(t)},fE=function(e,t){return e==="v"?_4(t):E4(t)},C4=function(e,t){return e==="h"&&t==="rtl"?-1:1},k4=function(e,t,n,r,s){var o=C4(e,window.getComputedStyle(t).direction),a=o*r,i=n.target,c=t.contains(i),u=!1,d=a>0,h=0,p=0;do{if(!i)break;var m=fE(e,i),w=m[0],v=m[1],y=m[2],x=v-y-o*w;(w||x)&&dE(e,i)&&(h+=x,p+=w);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},su=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lw=function(e){return[e.deltaX,e.deltaY]},$w=function(e){return e&&"current"in e?e.current:e},N4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},P4=0,ga=[];function T4(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(P4++)[0],o=f.useState(cE)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=J$([e.lockRef.current],(e.shards||[]).map($w),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=f.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=su(v),g=n.current,b="deltaX"in v?v.deltaX:g[0]-x[0],S="deltaY"in v?v.deltaY:g[1]-x[1],_,C=v.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&N==="h"&&C.type==="range")return!1;var T=Dw(N,C);if(!T)return!0;if(T?_=N:(_=N==="v"?"h":"v",T=Dw(N,C)),!T)return!1;if(!r.current&&"changedTouches"in v&&(b||S)&&(r.current=_),!_)return!0;var L=r.current||_;return k4(L,y,v,L==="h"?b:S,!0)},[]),c=f.useCallback(function(v){var y=v;if(!(!ga.length||ga[ga.length-1]!==o)){var x="deltaY"in y?Lw(y):su(y),g=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&N4(_.delta,x)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var b=(a.current.shards||[]).map($w).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=b.length>0?i(y,b[0]):!a.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=f.useCallback(function(v,y,x,g){var b={name:v,delta:y,target:x,should:g,shadowParent:R4(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=f.useCallback(function(v){n.current=su(v),r.current=void 0},[]),h=f.useCallback(function(v){u(v.type,Lw(v),v.target,i(v,e.lockRef.current))},[]),p=f.useCallback(function(v){u(v.type,su(v),v.target,i(v,e.lockRef.current))},[]);f.useEffect(function(){return ga.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ma),document.addEventListener("touchmove",c,ma),document.addEventListener("touchstart",d,ma),function(){ga=ga.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ma),document.removeEventListener("touchmove",c,ma),document.removeEventListener("touchstart",d,ma)}},[]);var m=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:j4(s)}):null,m?f.createElement(w4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function R4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const I4=a4(lE,T4);var wc=f.forwardRef(function(e,t){return f.createElement(wf,kr({},e,{ref:t,sideCar:I4}))});wc.classNames=wf.classNames;var xf="Popover",[hE,Sz]=Kt(xf,[ao]),xc=ao(),[O4,co]=hE(xf),pE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,i=xc(t),c=f.useRef(null),[u,d]=f.useState(!1),[h,p]=os({prop:r,defaultProp:s??!1,onChange:o,caller:xf});return l.jsx(fv,{...i,children:l.jsx(O4,{scope:t,contentId:Tr(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:a,children:n})})};pE.displayName=xf;var mE="PopoverAnchor",A4=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(mE,n),o=xc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=s;return f.useEffect(()=>(a(),()=>i()),[a,i]),l.jsx(dc,{...o,...r,ref:t})});A4.displayName=mE;var gE="PopoverTrigger",vE=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(gE,n),o=xc(n),a=Ce(t,s.triggerRef),i=l.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SE(s.open),...r,ref:a,onClick:Q(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:l.jsx(dc,{asChild:!0,...o,children:i})});vE.displayName=gE;var Iv="PopoverPortal",[M4,D4]=hE(Iv,{forceMount:void 0}),yE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=co(Iv,t);return l.jsx(M4,{scope:t,forceMount:n,children:l.jsx(_t,{present:n||o.open,children:l.jsx(_i,{asChild:!0,container:s,children:r})})})};yE.displayName=Iv;var mi="PopoverContent",wE=f.forwardRef((e,t)=>{const n=D4(mi,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=co(mi,e.__scopePopover);return l.jsx(_t,{present:r||o.open,children:o.modal?l.jsx($4,{...s,ref:t}):l.jsx(F4,{...s,ref:t})})});wE.displayName=mi;var L4=eo("PopoverContent.RemoveScroll"),$4=f.forwardRef((e,t)=>{const n=co(mi,e.__scopePopover),r=f.useRef(null),s=Ce(t,r),o=f.useRef(!1);return f.useEffect(()=>{const a=r.current;if(a)return yf(a)},[]),l.jsx(wc,{as:L4,allowPinchZoom:!0,children:l.jsx(xE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),o.current||(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,u=i.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),F4=f.forwardRef((e,t)=>{const n=co(mi,e.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(xE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),xE=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,p=co(mi,n),m=xc(n);return vf(),l.jsx(yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(aa,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(df,{"data-state":SE(p.open),role:"dialog",id:p.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bE="PopoverClose",U4=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(bE,n);return l.jsx(fe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});U4.displayName=bE;var B4="PopoverArrow",W4=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=xc(n);return l.jsx(ff,{...s,...r,ref:t})});W4.displayName=B4;function SE(e){return e?"open":"closed"}var z4=pE,H4=vE,V4=yE,_E=wE;const EE=z4,CE=H4,Ov=f.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx(V4,{children:l.jsx(_E,{ref:s,align:t,sideOffset:n,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ov.displayName=_E.displayName;const Be=f.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Be.displayName="Input";const Ti=f.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ti.displayName="Textarea";var Y4="Label",kE=f.forwardRef((e,t)=>l.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kE.displayName=Y4;var NE=kE;const K4=of("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=f.forwardRef(({className:e,...t},n)=>l.jsx(NE,{ref:n,className:ge(K4(),e),...t}));Te.displayName=NE.displayName;const G4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lo(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Av extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fw extends Av{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uw extends Av{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bw extends Av{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cm||(Cm={}));var q4=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};class Q4{constructor(t,{headers:n={},customFetch:r,region:s=Cm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=G4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return q4(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:o,method:a,body:i,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=i):typeof i=="string"?(u["Content-Type"]="text/plain",p=i):typeof FormData<"u"&&i instanceof FormData?p=i:(u["Content-Type"]="application/json",p=JSON.stringify(i)));const m=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:p,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new Fw(x)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new Uw(m);if(!m.ok)throw new Bw(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield m.json():v==="application/octet-stream"?y=yield m.blob():v==="text/event-stream"?y=m:v==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Fw(o)}:{data:null,error:o,response:o instanceof Bw||o instanceof Uw?o.context:void 0}}})}}var sn={},Mv={},bf={},bc={},Sf={},_f={},J4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gi=J4();const X4=gi.fetch,jE=gi.fetch.bind(gi),PE=gi.Headers,Z4=gi.Request,eF=gi.Response,Ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:PE,Request:Z4,Response:eF,default:jE,fetch:X4},Symbol.toStringTag,{value:"Module"})),tF=Jj(Ri);var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});let nF=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ef.default=nF;var TE=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const rF=TE(tF),sF=TE(Ef);let oF=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,i,c,u;let d=null,h=null,p=null,m=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const y=(i=this.headers.get("Prefer"))===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&x&&x.length>1&&(p=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await o.text();try{d=JSON.parse(y),Array.isArray(d)&&o.status===404&&(h=[],d=null,m=200,w="OK")}catch{o.status===404&&y===""?(m=204,w="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,w="OK"),d&&this.shouldThrowOnError)throw new sF.default(d)}return{error:d,data:h,count:p,status:m,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,i,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(i=o==null?void 0:o.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};_f.default=oF;var aF=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const iF=aF(_f);let lF=class extends iF.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var i;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Sf.default=lF;var cF=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bc,"__esModule",{value:!0});const uF=cF(Sf);let dF=class extends uF.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bc.default=dF;var fF=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const qi=fF(bc);let hF=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},o=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",i),s&&this.headers.append("Prefer",`count=${s}`),new qi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((i,c)=>i.concat(Object.keys(c)),[]);if(a.length>0){const i=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",i.join(","))}}return new qi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var a;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bf.default=hF;var RE=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mv,"__esModule",{value:!0});const pF=RE(bf),mF=RE(bc);let gF=class IE{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new pF.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var a;let i;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(i="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new mF.default({method:i,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Mv.default=gF;var Ii=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const OE=Ii(Mv);sn.PostgrestClient=OE.default;const AE=Ii(bf);sn.PostgrestQueryBuilder=AE.default;const ME=Ii(bc);sn.PostgrestFilterBuilder=ME.default;const DE=Ii(Sf);sn.PostgrestTransformBuilder=DE.default;const LE=Ii(_f);sn.PostgrestBuilder=LE.default;const $E=Ii(Ef);sn.PostgrestError=$E.default;var vF=sn.default={PostgrestClient:OE.default,PostgrestQueryBuilder:AE.default,PostgrestFilterBuilder:ME.default,PostgrestTransformBuilder:DE.default,PostgrestBuilder:LE.default,PostgrestError:$E.default};const{PostgrestClient:yF,PostgrestQueryBuilder:jz,PostgrestFilterBuilder:Pz,PostgrestTransformBuilder:Tz,PostgrestBuilder:Rz,PostgrestError:Iz}=vF;class wF{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xF="2.75.0",bF=`realtime-js/${xF}`,SF="1.0.0",km=1e4,_F=1e3,EF=100;var xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xl||(xl={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var Nm;(function(e){e.websocket="websocket"})(Nm||(Nm={}));var Co;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Co||(Co={}));class CF{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const i=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:i,event:c,payload:u}}}class FE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const Ww=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=kF(a,e,t,s),o),{}):{}},kF=(e,t,n,r)=>{const s=t.find(i=>i.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?UE(o,a):jm(a)},UE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return TF(t,n)}switch(e){case Ye.bool:return NF(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return jF(t);case Ye.json:case Ye.jsonb:return PF(t);case Ye.timestamp:return RF(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return jm(t);default:return jm(t)}},jm=e=>e,NF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TF=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(i=>UE(t,i))}return e},RF=e=>typeof e=="string"?e.replace(" ","T"):e,BE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class $h{constructor(t,n,r={},s=km){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zw||(zw={}));class bl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=bl.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bl.syncDiff(this.state,s,o,a),i())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),i={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const p=d.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),w=d.filter(y=>m.indexOf(y.presence_ref)<0),v=h.filter(y=>p.indexOf(y.presence_ref)<0);w.length>0&&(i[u]=w),v.length>0&&(c[u]=v)}else i[u]=d}),this.syncDiff(o,{joins:i,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(i,c)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(c),d.length>0){const h=t[i].map(m=>m.presence_ref),p=d.filter(m=>h.indexOf(m.presence_ref)<0);t[i].unshift(...p)}r(i,d,c)}),this.map(a,(i,c)=>{let u=t[i];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[i]=u,s(i,u,c),u.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hw||(Hw={}));var Sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sl||(Sl={}));var Hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hr||(Hr={}));class Dv{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $h(this,er.join,this.params,this.timeout),this.rejoinTimer=new FE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new bl(this),this.broadcastEndpointURL=BE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:a,presence:i,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Hr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Hr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(Hr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,x=[];for(let g=0;g<y;g++){const b=v[g],{filter:{event:S,schema:_,table:C,filter:N}}=b,T=m&&m[g];if(T&&T.event===S&&T.schema===_&&T.table===C&&T.filter===N)x.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(Hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Hr.SUBSCRIBED);return}}).receive("error",m=>{this.state=gt.errored,t==null||t(Hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===gt.joined&&t===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,i,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(i=(a=this.params)===null||a===void 0?void 0:a.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $h(this,er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $h(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:i,error:c,leave:u,join:d}=er;if(r&&[i,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,y;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(v=m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var w,v,y,x,g,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,_=(w=m.filter)===null||w===void 0?void 0:w.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:y,commit_timestamp:x,type:g,errors:b}=w;p=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}m.callback(p,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Dv.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ww(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ww(t.columns,t.old_record)),n}}const Fh=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IF=[1e3,2e3,5e3,1e4],OF=1e4,AF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MF{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=km,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fh,this.ref=0,this.reconnectTimer=null,this.logger=Fh,this.conn=null,this.sendBuffer=[],this.serializer=new CF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>lo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ri);return{default:i}},void 0).then(({default:i})=>i(...a)).catch(i=>{throw new Error(`Failed to load @supabase/node-fetch: ${i.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Nm.websocket}`,this.httpEndpoint=BE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SF}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return Co.Connecting;case xl.open:return Co.Open;case xl.closing:return Co.Closing;default:return Co.Closed}}isConnected(){return this.connectionState()===Co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Dv(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_F,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,i=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${i}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([AF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bF};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new FE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,i,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:km,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ou.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(i=t==null?void 0:t.heartbeatCallback)!==null&&i!==void 0?i:Fh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>IF[h-1]||OF,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Lv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DF extends Lv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pm extends Lv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var LF=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const WE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lo(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$F=()=>LF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lo(()=>Promise.resolve().then(()=>Ri),void 0)).Response:Response}),Tm=e=>{if(Array.isArray(e))return e.map(n=>Tm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Tm(r)}),t},FF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var la=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const Uh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UF=(e,t,n)=>la(void 0,void 0,void 0,function*(){const r=yield $F();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new DF(Uh(s),o,a))}).catch(s=>{t(new Pm(Uh(s),s))}):t(new Pm(Uh(e),e))}),BF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(FF(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Sc(e,t,n,r,s,o){return la(this,void 0,void 0,function*(){return new Promise((a,i)=>{e(n,BF(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>UF(c,i,r))})})}function bd(e,t,n,r){return la(this,void 0,void 0,function*(){return Sc(e,"GET",t,n,r)})}function br(e,t,n,r,s){return la(this,void 0,void 0,function*(){return Sc(e,"POST",t,r,s,n)})}function Rm(e,t,n,r,s){return la(this,void 0,void 0,function*(){return Sc(e,"PUT",t,r,s,n)})}function WF(e,t,n,r){return la(this,void 0,void 0,function*(){return Sc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zE(e,t,n,r,s){return la(this,void 0,void 0,function*(){return Sc(e,"DELETE",t,r,s,n)})}var zF=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};class HF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return zF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}}var VF=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};class YF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new HF(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return VF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}}var Xt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const KF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GF{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=WE(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Xt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Vw),s);let i=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,c&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(i=Object.assign(Object.assign({},i),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?Rm:br)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ut(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Xt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Vw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Rm(this.fetch,i.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ut(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield br(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),i=a.searchParams.get("token");if(!i)throw new Lv("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:i},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",i=this._getFinalPath(t),c=()=>bd(this.fetch,`${this.url}/${s}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new YF(c,this.shouldThrowOnError)}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield WF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r)&&r instanceof Pm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const i=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},KF),n),{prefix:t||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}listV2(t,n){return Xt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const qF="2.75.0",QF={"X-Client-Info":`storage-js/${qF}`};var va=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};class JF{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QF),n),this.fetch=WE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return va(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}getBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}createBucket(t){return va(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ut(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return va(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}emptyBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}}class XF extends JF{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new GF(this.url,this.headers,t,this.fetch)}}const ZF="2.75.0";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const eU={"X-Client-Info":`supabase-js-${ol}/${ZF}`},tU={headers:eU},nU={schema:"public"},rU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sU={};var oU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const aU=e=>{let t;return e?t=e:typeof fetch>"u"?t=jE:t=fetch,(...n)=>t(...n)},iU=()=>typeof Headers>"u"?PE:Headers,lU=(e,t,n)=>{const r=aU(n),s=iU();return(o,a)=>oU(void 0,void 0,void 0,function*(){var i;const c=(i=yield t())!==null&&i!==void 0?i:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var cU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};function uU(e){return e.endsWith("/")?e:e+"/"}function dU(e,t){var n,r;const{db:s,auth:o,realtime:a,global:i}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),i),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>cU(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function fU(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uU(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const HE="2.75.0",_a=30*1e3,Im=3,Bh=Im*_a,hU="http://localhost:9999",pU="supabase.auth.token",mU={"X-Client-Info":`gotrue-js/${HE}`},Om="X-Supabase-Api-Version",VE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vU=10*60*1e3;class Gl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yU extends Gl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wU(e){return ve(e)&&e.name==="AuthApiError"}class ko extends Gl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class uo extends Gl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class bs extends uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xU(e){return ve(e)&&e.name==="AuthSessionMissingError"}class ya extends uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class au extends uo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class iu extends uo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bU(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yw extends uo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Am extends uo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wh(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Kw extends uo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Mm extends uo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gw=` 	
\r=`.split(""),SU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gw.length;t+=1)e[Gw[t].charCodeAt(0)]=-2;for(let t=0;t<Sd.length;t+=1)e[Sd[t].charCodeAt(0)]=t;return e})();function qw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sd[r]),t.queuedBits-=6}}function YE(e,t,n){const r=SU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{CU(a,r,n)};for(let a=0;a<e.length;a+=1)YE(e.charCodeAt(a),s,o);return t.join("")}function _U(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_U(r,t)}}function CU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ka(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)YE(e.charCodeAt(s),n,r);return new Uint8Array(t)}function kU(e){const t=[];return EU(e,n=>t.push(n)),new Uint8Array(t)}function To(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>qw(s,n,r)),qw(null,n,r),t.join("")}function NU(e){return Math.round(Date.now()/1e3)+e}function jU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",yo={tested:!1,writable:!1},KE=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yo.tested)return yo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yo.tested=!0,yo.writable=!0}catch{yo.tested=!0,yo.writable=!1}return yo.writable};function PU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const GE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>lo(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},TU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ea=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},wo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ys=async(e,t)=>{await e.removeItem(t)};class Cf{constructor(){this.promise=new Cf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Cf.promiseConstructor=Promise;function zh(e){const t=e.split(".");if(t.length!==3)throw new Mm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!gU.test(t[r]))throw new Mm("JWT not in base64url format");return{header:JSON.parse(Qw(t[0])),payload:JSON.parse(Qw(t[1])),signature:Ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function RU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IU(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function OU(e){return("0"+e.toString(16)).substr(-2)}function AU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,OU).join("")}async function MU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function DU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await MU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wa(e,t,n=!1){const r=AU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ea(e,`${t}-code-verifier`,s);const o=await DU(r);return[o,r===o?"plain":"s256"]}const LU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $U(e){const t=e.headers.get(Om);if(!t||!t.match(LU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xa(e){if(!BU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jw(e){return JSON.parse(JSON.stringify(e))}var WU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zU=[502,503,504];async function Xw(e){var t;if(!TU(e))throw new Am(_o(e),0);if(zU.includes(e.status))throw new Am(_o(e),e.status);let n;try{n=await e.json()}catch(o){throw new ko(_o(o),o)}let r;const s=$U(e);if(s&&s.getTime()>=VE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Kw(_o(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Kw(_o(n),e.status,n.weak_password.reasons);throw new yU(_o(n),e.status||500,r)}const HU=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ee(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Om]||(o[Om]=VE["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await VU(e,t,n+i,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function VU(e,t,n,r,s,o){const a=HU(t,r,s,o);let i;try{i=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Am(_o(c),0)}if(i.ok||await Xw(i),r!=null&&r.noResolveJson)return i;try{return await i.json()}catch(c){await Xw(c)}}function Gn(e){var t;let n=null;GU(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=NU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Zw(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ks(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YU(e){return{data:e,error:null}}function KU(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=WU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:i,user:c},error:null}}function ex(e){return e}function GU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vh=["global","local","others"];var qU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class QU{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=GE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Vh[0]){if(Vh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vh.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ks})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qU(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:KU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ks})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ex});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xa(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ks})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xa(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ks})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){xa(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ks})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){xa(t.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xa(t.userId),xa(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,a,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ex});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}}function tx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ba={debug:!!(globalThis&&KE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JU extends qE{}async function XU(e,t,n){ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ba.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ba.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ZU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function QE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function e5(e){return parseInt(e,16)}function t5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function n5(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:i,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=QE(e.address),w=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",y=`${w} wants you to sign in with your Ethereum account:
${m}

${v}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),i&&(x+=`
Not Before: ${i.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}x+=g}return`${y}
${x}`}class ct extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class _d extends ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function r5({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(XE(a)){if(o.rp.id!==a)return new ct({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function s5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(XE(r)){if(n.rpId!==r)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var JE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class o5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const a5=new o5;function i5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=JE(e,["challenge","user","excludeCredentials"]),o=Ka(t).buffer,a=Object.assign(Object.assign({},n),{id:Ka(n.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:o,user:a});if(r&&r.length>0){i.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];i.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ka(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function l5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=JE(e,["challenge","allowCredentials"]),s=Ka(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const i=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},i),{id:Ka(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return o}function c5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:To(new Uint8Array(e.response.attestationObject)),clientDataJSON:To(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:To(new Uint8Array(s.authenticatorData)),clientDataJSON:To(new Uint8Array(s.clientDataJSON)),signature:To(new Uint8Array(s.signature)),userHandle:s.userHandle?To(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nx(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function d5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _d("Browser returned unexpected credential type",t)}:{data:null,error:new _d("Empty credential response",t)}}catch(t){return{data:null,error:r5({error:t,options:e})}}}async function f5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _d("Browser returned unexpected credential type",t)}:{data:null,error:new _d("Empty credential response",t)}}catch(t){return{data:null,error:s5({error:t,options:e})}}}const h5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},p5={userVerification:"preferred",hints:["security-key"]};function Ed(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const i=r[o];t(i)?r[o]=Ed(i,a):r[o]=Ed(a)}else r[o]=a}return r}function m5(e,t){return Ed(h5,e,t||{})}function g5(e,t){return Ed(p5,e,t||{})}class v5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:a,error:i}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:i};const c=s??a5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=m5(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await d5({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=g5(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await f5(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!n)return{data:null,error:new Gl("rpId is required for WebAuthn authentication")};try{if(!nx())return{data:null,error:new ko("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!a)return{data:null,error:i};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!n)return{data:null,error:new Gl("rpId is required for WebAuthn registration")};try{if(!nx())return{data:null,error:new ko("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:i};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ve(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in register",a)}}}}ZU();const y5={url:hU,storageKey:pU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rx(e,t,n){return await n()}const Sa={};class ql{get jwks(){var t,n;return(n=(t=Sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Sa[this.storageKey]=Object.assign(Object.assign({},Sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sa[this.storageKey]=Object.assign(Object.assign({},Sa[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ql.nextInstanceID,ql.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},y5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new QU({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GE(s.fetch),this.lock=s.lock||rx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XU:this.lock=rx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v5(this)},this.persistSession?(s.storage?this.storage=s.storage:KE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tx(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${HE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=PU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),bU(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ve(n)?{error:n}:{error:new ko("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gn}),{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:h,options:p}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await wa(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:w},xform:Gn})}else if("phone"in t){const{phone:d,password:h,options:p}=t;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Gn})}else throw new au("You must provide either an email or phone number and a password");const{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:i}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Zw})}else if("phone"in t){const{phone:o,password:a,options:i}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Zw})}else throw new au("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ya}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,a,i,c,u,d,h,p;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:v,wallet:y,statement:x,options:g}=t;let b;if(vn())if(typeof y=="object")b=y;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")b=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),_=await b.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=QE(_[0]);let N=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const L=await b.request({method:"eth_chainId"});N=e5(L)}const T={domain:S.host,address:C,statement:x,uri:S.href,version:"1",chainId:N,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=n5(T),w=await b.request({method:"personal_sign",params:[t5(m),C]})}try{const{data:v,error:y}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gn});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ya}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(ve(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var n,r,s,o,a,i,c,u,d,h,p,m;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:g,options:b}=t;let S;if(vn())if(typeof x=="object")S=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:y,error:x}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:To(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gn});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ya}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ve(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await wo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gn});if(await ys(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ya}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ve(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,i=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gn}),{data:c,error:u}=i;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ya}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:i,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wa(this.storage,this.storageKey));const{error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:i,options:c}=t,{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new au("You must provide either an email or phone number.")}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:i}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Gn});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await wa(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:YU})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new bs;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:i}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i}}throw new au("You must provide either an email or phone number and a type")}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await wo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Hh()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ks}):await this._useSession(async n=>{var r,s,o;const{data:a,error:i}=n;if(i)throw i;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bs}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ks})})}catch(n){if(ve(n))return xU(n)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new bs;const a=s.session;let i=null,c=null;this.flowType==="pkce"&&t.email!=null&&([i,c]=await wa(this.storage,this.storageKey));const{data:u,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:c}),jwt:a.access_token,xform:ks});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bs;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=zh(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:i,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!i)return{data:{user:null,session:null},error:null};o=i}else{const{data:i,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:i}=n;if(i)throw i;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bs;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!vn())throw new iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new iu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yw("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:i,expires_at:c,token_type:u}=t;if(!o||!i||!a||!u)throw new iu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(i);let p=d+h;c&&(p=parseInt(c));const m=p-d;m*1e3<=_a&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:v,error:y}=await this._getUser(o);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await wo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:i}=await this.admin.signOut(a,t);if(i&&!(wU(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=jU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await wa(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,i,c,u,d;const{data:h,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:a,provider:i,token:c,access_token:u,nonce:d}=t,h=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:i,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ya}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:m})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IU(async s=>(s>0&&await RU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Wh(o)&&Date.now()+a-r<_a})}catch(r){if(this._debug(n,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await wo(this.storage,this.storageKey);if(s&&this.userStorage){let a=await wo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ea(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Hh()}else if(s&&!s.user&&!s.user){const a=await wo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ys(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,s)):s.user=Hh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Bh}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Wh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:i}=await this._getUser(s.access_token);!i&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cf;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new bs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const i={data:o.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(o){if(this._debug(s,"error",o),ve(o)){const a={data:null,error:o};return Wh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let i=0;i<o.length;i+=1)console.error(o[i]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Jw(s);await Ea(this.storage,this.storageKey,o)}else{const s=Jw(n);await Ea(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_a);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/_a);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_a}ms, refresh threshold is ${Im} ticks`),s<=Im&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await wa(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c5(t.webauthn.credential_response):u5(t.webauthn.credential_response)})}:{code:t.code}),{data:i,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:i}=a;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:i5(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:l5(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zh(s.access_token);let i=null;a.aal&&(i=a.aal);let c=i;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:i,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+vU>s)return r;const{data:o,error:a}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(i=>i.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};r=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:i,payload:c}}=zh(r);n!=null&&n.allowExpired||FU(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const d=UU(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,kU(`${i}.${c}`)))throw new Mm("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}ql.nextInstanceID=0;const w5=ql;class x5 extends w5{constructor(t){super(t)}}var b5=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};class S5{constructor(t,n,r){var s,o,a;this.supabaseUrl=t,this.supabaseKey=n;const i=fU(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const c=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:nU,realtime:sU,auth:Object.assign(Object.assign({},rU),{storageKey:c}),global:tU},d=dU(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=lU(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yF(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new XF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b5(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:a,flowType:i,lock:c,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x5({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:i,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new MF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZE=(e,t,n)=>new S5(e,t,n);function _5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E5="https://mmrmjmgezsuanxccjkgv.supabase.co",C5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1tcm1qbWdlenN1YW54Y2Nqa2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mjk1OTEsImV4cCI6MjA3NTEwNTU5MX0.EqnbVp3o2DV1DT7yGiGZNEnjUiHyDxuyJLxWh-2oXxQ",k5=()=>{if(!(typeof window>"u"))try{const e=window.localStorage,t="__couchshare_storage_test__";return e.setItem(t,"1"),e.removeItem(t),e}catch(e){console.warn("Local storage unavailable; sessions won't persist",e);return}},le=ZE(E5,C5,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"couchshare.auth",storage:k5()}}),_l="user_wishlist",eC=e=>{var n;const t={...e.snapshot,id:((n=e.snapshot)==null?void 0:n.id)??e.couch_id};return{id:e.id,userKey:e.user_key,couchId:t.id,storageId:e.couch_id,snapshot:t,createdAt:e.created_at}},tC=e=>e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:null,N5=e=>{const t=typeof TextEncoder<"u"?new TextEncoder:null,n=t?Array.from(t.encode(e)):Array.from(e).map(o=>o.charCodeAt(0)&255);if(!n.length)return"00000000-0000-0000-0000-000000000000";const r=n.map(o=>o.toString(16).padStart(2,"0")).join(""),s=(r.length>=32?r.slice(0,32):r.padEnd(32,"0")).toLowerCase();return`${s.slice(0,8)}-${s.slice(8,12)}-${s.slice(12,16)}-${s.slice(16,20)}-${s.slice(20,32)}`},$v=e=>{const t=tC(e);return t||N5(e)},Cd=$v,j5=20,Fv=(e,t)=>{var s,o;const n=((s=t==null?void 0:t.user)==null?void 0:s.id)??(e==null?void 0:e.id)??null,r=tC(n);return r||(((o=t==null?void 0:t.user)==null?void 0:o.email)??(e==null?void 0:e.email)??null)},kd=async e=>{if(!e)return[];try{const{data:t,error:n}=await le.from(_l).select("*").eq("user_key",e).order("created_at",{ascending:!1});if(n)throw n;return(t??[]).map(eC)}catch(t){throw console.error("Failed to fetch wishlist from Supabase",t),t}},nC=async(e,t,n)=>{if(!e)return null;const r=$v(t),{data:s,error:o}=await le.from(_l).select("*").eq("user_key",e).eq("couch_id",r).maybeSingle();if(o)throw o;if(s)throw new Error("This couch is already in your wishlist.");const{count:a,error:i}=await le.from(_l).select("id",{count:"exact",head:!0}).eq("user_key",e);if(i)throw console.error("Failed to count wishlist items",i),i;if((a??0)>=j5)throw new Error("You can save up to 20 couches. Remove one to add more.");const c={user_key:e,couch_id:r,snapshot:n};try{const{data:u,error:d}=await le.from(_l).insert(c).select("*").single();if(d)throw d;const h=eC(u);return h.snapshot.id||(h.snapshot.id=t),h.couchId=h.snapshot.id,typeof window<"u"&&window.dispatchEvent(new Event("wishlist-updated")),h}catch(u){throw console.error("Supabase wishlist upsert failed",u),u}},Uv=async(e,t)=>{if(!e)return;const n=$v(t);try{const{error:r}=await le.from(_l).delete().eq("user_key",e).eq("couch_id",n);if(r)throw r}catch(r){throw console.error("Supabase wishlist remove failed",r),r}typeof window<"u"&&window.dispatchEvent(new Event("wishlist-updated"))},Ru=new Map,rC="geocode:",P5=(e,t)=>{try{if(typeof window>"u")return;window.localStorage.setItem(rC+e,JSON.stringify(t))}catch(n){console.warn("Unable to persist geocode cache",n)}},T5=e=>{if(Ru.has(e))return Ru.get(e)??null;try{if(typeof window>"u")return null;const t=window.localStorage.getItem(rC+e);if(!t)return null;const n=JSON.parse(t);if(n&&typeof n.lat=="number"&&typeof n.lng=="number"&&typeof n.displayName=="string")return Ru.set(e,n),n}catch(t){console.warn("Unable to read geocode cache",t)}return null},R5=e=>e.trim().toLowerCase(),sC=async(e,t)=>{const n=await fetch(e,{headers:{"Accept-Language":"en","User-Agent":"student-couch-app/1.0 (support@studentcouch.example)"},...t});if(!n.ok)throw new Error(`Geocoding request failed (${n.status})`);return n.json()},I5=async e=>{if(!(e!=null&&e.trim()))return null;const t=R5(e),n=T5(t);if(n)return n;const r=new URLSearchParams({q:e,format:"json",addressdetails:"1",limit:"1"}),s=await sC(`https://nominatim.openstreetmap.org/search?${r.toString()}`);if(!Array.isArray(s)||s.length===0)return null;const o=s[0],a=Number.parseFloat(o.lat),i=Number.parseFloat(o.lon);if(Number.isNaN(a)||Number.isNaN(i))return null;const c={lat:a,lng:i,displayName:o.display_name};return Ru.set(t,c),P5(t,c),c},O5=async(e,{signal:t}={})=>{const n=e.trim();if(!n)return[];const r=new URLSearchParams({q:n,format:"json",addressdetails:"1",limit:"5",autocomplete:"1"}),s=await sC(`https://nominatim.openstreetmap.org/search?${r.toString()}`,{signal:t});return Array.isArray(s)?s.map(o=>{const a=Number.parseFloat(o.lat),i=Number.parseFloat(o.lon);return Number.isNaN(a)||Number.isNaN(i)?null:{lat:a,lng:i,displayName:o.display_name}}).filter(o=>!!o):[]},A5="https://mmrmjmgezsuanxccjkgv.supabase.co",M5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1tcm1qbWdlenN1YW54Y2Nqa2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mjk1OTEsImV4cCI6MjA3NTEwNTU5MX0.EqnbVp3o2DV1DT7yGiGZNEnjUiHyDxuyJLxWh-2oXxQ",oC=ZE(A5,M5,{auth:{persistSession:!1,autoRefreshToken:!1}}),Qr=e=>{var t,n;return{id:e.id,hostId:e.host_id,hostName:((t=e.availability_json)==null?void 0:t.hostName)??null,hostEmail:((n=e.availability_json)==null?void 0:n.hostEmail)??null,title:e.title??"New Listing",image:e.image_url,price:e.price_per_night,location:e.location,description:e.description,availability:e.availability_json??null,createdAt:e.created_at}},sx=e=>{if(!e)return!1;const t=e.trim();return t?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t):!1},lu=()=>oC.from("user_listings").select("*").order("created_at",{ascending:!1}),Yh=e=>{if(!e)return null;const t=e.trim();return t.length?t:null},D5=async()=>{const{data:e,error:t}=await oC.from("user_listings").select("*").order("created_at",{ascending:!1});if(t)throw t;return(e??[]).map(Qr)},L5=async e=>{const{data:t,error:n}=await le.from("user_listings").select("*").eq("id",e).maybeSingle();if(n)throw n;return t?Qr(t):null},Kh=async({listingId:e,hostEmail:t,hostName:n})=>{const r=Yh(e),s=Yh(t),o=Yh(n);if(r&&sx(r)){const a=await L5(r);if(a)return a}if(r&&!sx(r))try{const{data:a,error:i}=await lu().eq("id",r).limit(1).maybeSingle();if(i)throw i;if(a)return Qr(a)}catch(a){console.warn("Failed to fetch listing by non-uuid id",a)}if(s){const a=await lu().eq("availability_json->>hostEmail",s).limit(1).maybeSingle();if(a.error)throw a.error;if(a.data)return Qr(a.data);const i=await lu().ilike("availability_json->>hostEmail",`%${s}%`).limit(1).maybeSingle();if(i.error)throw i.error;if(i.data)return Qr(i.data)}if(o){const{data:a,error:i}=await lu().ilike("availability_json->>hostName",`%${o}%`).limit(1).maybeSingle();if(i)throw i;if(a)return Qr(a)}return null},$5=async e=>{const{data:t,error:n}=await le.from("user_listings").select("*").eq("host_id",e).order("created_at",{ascending:!1});if(n)throw n;return(t??[]).map(Qr)},Dm=async e=>{const t={id:e.id,host_id:e.hostId,title:e.title,image_url:e.imageUrl,price_per_night:e.pricePerNight,location:e.location,description:e.description,availability_json:{...e.availability,hostName:e.hostName,hostEmail:e.hostEmail}},{data:n,error:r}=await le.from("user_listings").upsert(t,{onConflict:"id"}).select("*").single();if(r)throw r;return Qr(n)},F5=async(e,t)=>{const{data:n,error:r}=await le.from("user_listings").select("*").eq("id",e).single();if(r)throw r;if(!n)throw new Error("Listing not found.");const s={...n.availability_json??{},published:t},{data:o,error:a}=await le.from("user_listings").update({availability_json:s}).eq("id",e).select("*").single();if(a)throw a;return Qr(o)},Qi={countries:["Switzerland"],citiesByCountry:{Switzerland:["Zurich","Geneva","Lausanne","Basel","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","La Chaux-de-Fonds"]}},U5={lausanne:["lausanne","renens","crissier","ecublens","epalinges","pully","lutry","morges","prilly","romanel","savigny","bussigny","oreges","st-sulpice"]};function Lm(e,[t,n]){return Math.min(n,Math.max(t,e))}var B5=f.createContext(void 0);function _c(e){const t=f.useContext(B5);return e||t||"ltr"}function Bv(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W5=[" ","Enter","ArrowUp","ArrowDown"],z5=[" ","Enter"],ea="Select",[kf,Nf,H5]=nf(ea),[Oi,Oz]=Kt(ea,[H5,ao]),jf=ao(),[V5,fo]=Oi(ea),[Y5,K5]=Oi(ea),aC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:i,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,v=jf(t),[y,x]=f.useState(null),[g,b]=f.useState(null),[S,_]=f.useState(!1),C=_c(u),[N,T]=os({prop:r,defaultProp:s??!1,onChange:o,caller:ea}),[L,$]=os({prop:a,defaultProp:i,onChange:c,caller:ea}),V=f.useRef(null),F=y?w||!!y.closest("form"):!0,[I,j]=f.useState(new Set),z=Array.from(I).map(A=>A.props.value).join(";");return l.jsx(fv,{...v,children:l.jsxs(V5,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Tr(),value:L,onValueChange:$,open:N,onOpenChange:T,dir:C,triggerPointerDownPosRef:V,disabled:p,children:[l.jsx(kf.Provider,{scope:t,children:l.jsx(Y5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(A=>{j(M=>new Set(M).add(A))},[]),onNativeOptionRemove:f.useCallback(A=>{j(M=>{const E=new Set(M);return E.delete(A),E})},[]),children:n})}),F?l.jsxs(TC,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:L,onChange:A=>$(A.target.value),disabled:p,form:w,children:[L===void 0?l.jsx("option",{value:""}):null,Array.from(I)]},z):null]})})};aC.displayName=ea;var iC="SelectTrigger",lC=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=jf(n),a=fo(iC,n),i=a.disabled||r,c=Ce(t,a.onTriggerChange),u=Nf(n),d=f.useRef("touch"),[h,p,m]=IC(v=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===a.value),g=OC(y,v,x);g!==void 0&&a.onValueChange(g.value)}),w=v=>{i||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(dc,{asChild:!0,...o,children:l.jsx(fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":RC(a.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:Q(s.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Q(s.onKeyDown,v=>{const y=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(y&&v.key===" ")&&W5.includes(v.key)&&(w(),v.preventDefault())})})})});lC.displayName=iC;var cC="SelectValue",uC=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...i}=e,c=fo(cC,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=Ce(t,c.onValueNodeChange);return lt(()=>{u(d)},[u,d]),l.jsx(fe.span,{...i,ref:h,style:{pointerEvents:"none"},children:RC(c.value)?l.jsx(l.Fragment,{children:a}):o})});uC.displayName=cC;var G5="SelectIcon",dC=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});dC.displayName=G5;var q5="SelectPortal",fC=e=>l.jsx(_i,{asChild:!0,...e});fC.displayName=q5;var ta="SelectContent",hC=f.forwardRef((e,t)=>{const n=fo(ta,e.__scopeSelect),[r,s]=f.useState();if(lt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?oa.createPortal(l.jsx(pC,{scope:e.__scopeSelect,children:l.jsx(kf.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(mC,{...e,ref:t})});hC.displayName=ta;var qn=10,[pC,ho]=Oi(ta),Q5="SelectContentImpl",J5=eo("SelectContent.RemoveScroll"),mC=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:y,...x}=e,g=fo(ta,n),[b,S]=f.useState(null),[_,C]=f.useState(null),N=Ce(t,H=>S(H)),[T,L]=f.useState(null),[$,V]=f.useState(null),F=Nf(n),[I,j]=f.useState(!1),z=f.useRef(!1);f.useEffect(()=>{if(b)return yf(b)},[b]),vf();const A=f.useCallback(H=>{const[ie,...ye]=F().map(ue=>ue.ref.current),[he]=ye.slice(-1),xe=document.activeElement;for(const ue of H)if(ue===xe||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ie&&_&&(_.scrollTop=0),ue===he&&_&&(_.scrollTop=_.scrollHeight),ue==null||ue.focus(),document.activeElement!==xe))return},[F,_]),M=f.useCallback(()=>A([T,b]),[A,T,b]);f.useEffect(()=>{I&&M()},[I,M]);const{onOpenChange:E,triggerPointerDownPosRef:R}=g;f.useEffect(()=>{if(b){let H={x:0,y:0};const ie=he=>{var xe,ue;H={x:Math.abs(Math.round(he.pageX)-(((xe=R.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ue=R.current)==null?void 0:ue.y)??0))}},ye=he=>{H.x<=10&&H.y<=10?he.preventDefault():b.contains(he.target)||E(!1),document.removeEventListener("pointermove",ie),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ye,{capture:!0})}}},[b,E,R]),f.useEffect(()=>{const H=()=>E(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[E]);const[W,J]=IC(H=>{const ie=F().filter(xe=>!xe.disabled),ye=ie.find(xe=>xe.ref.current===document.activeElement),he=OC(ie,H,ye);he&&setTimeout(()=>he.ref.current.focus())}),Y=f.useCallback((H,ie,ye)=>{const he=!z.current&&!ye;(g.value!==void 0&&g.value===ie||he)&&(L(H),he&&(z.current=!0))},[g.value]),ce=f.useCallback(()=>b==null?void 0:b.focus(),[b]),B=f.useCallback((H,ie,ye)=>{const he=!z.current&&!ye;(g.value!==void 0&&g.value===ie||he)&&V(H)},[g.value]),D=r==="popper"?$m:gC,U=D===$m?{side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(pC,{scope:n,content:b,viewport:_,onViewportChange:C,itemRefCallback:Y,selectedItem:T,onItemLeave:ce,itemTextRefCallback:B,focusSelectedItem:M,selectedItemText:$,position:r,isPositioned:I,searchRef:W,children:l.jsx(wc,{as:J5,allowPinchZoom:!0,children:l.jsx(yc,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Q(s,H=>{var ie;(ie=g.trigger)==null||ie.focus({preventScroll:!0}),H.preventDefault()}),children:l.jsx(aa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(D,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...x,...U,onPlaced:()=>j(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,H=>{const ie=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ie&&H.key.length===1&&J(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let he=F().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const xe=H.target,ue=he.indexOf(xe);he=he.slice(ue+1)}setTimeout(()=>A(he)),H.preventDefault()}})})})})})})});mC.displayName=Q5;var X5="SelectItemAlignedPosition",gC=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=fo(ta,n),a=ho(ta,n),[i,c]=f.useState(null),[u,d]=f.useState(null),h=Ce(t,N=>d(N)),p=Nf(n),m=f.useRef(!1),w=f.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:g}=a,b=f.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&u&&v&&y&&x){const N=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),L=o.valueNode.getBoundingClientRect(),$=x.getBoundingClientRect();if(o.dir!=="rtl"){const xe=$.left-T.left,ue=L.left-xe,O=N.left-ue,G=N.width+O,ne=Math.max(G,T.width),we=window.innerWidth-qn,Ze=Lm(ue,[qn,Math.max(qn,we-ne)]);i.style.minWidth=G+"px",i.style.left=Ze+"px"}else{const xe=T.right-$.right,ue=window.innerWidth-L.right-xe,O=window.innerWidth-N.right-ue,G=N.width+O,ne=Math.max(G,T.width),we=window.innerWidth-qn,Ze=Lm(ue,[qn,Math.max(qn,we-ne)]);i.style.minWidth=G+"px",i.style.right=Ze+"px"}const V=p(),F=window.innerHeight-qn*2,I=v.scrollHeight,j=window.getComputedStyle(u),z=parseInt(j.borderTopWidth,10),A=parseInt(j.paddingTop,10),M=parseInt(j.borderBottomWidth,10),E=parseInt(j.paddingBottom,10),R=z+A+I+E+M,W=Math.min(y.offsetHeight*5,R),J=window.getComputedStyle(v),Y=parseInt(J.paddingTop,10),ce=parseInt(J.paddingBottom,10),B=N.top+N.height/2-qn,D=F-B,U=y.offsetHeight/2,H=y.offsetTop+U,ie=z+A+H,ye=R-ie;if(ie<=B){const xe=V.length>0&&y===V[V.length-1].ref.current;i.style.bottom="0px";const ue=u.clientHeight-v.offsetTop-v.offsetHeight,O=Math.max(D,U+(xe?ce:0)+ue+M),G=ie+O;i.style.height=G+"px"}else{const xe=V.length>0&&y===V[0].ref.current;i.style.top="0px";const O=Math.max(B,z+v.offsetTop+(xe?Y:0)+U)+ye;i.style.height=O+"px",v.scrollTop=ie-B+v.offsetTop}i.style.margin=`${qn}px 0`,i.style.minHeight=W+"px",i.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,i,u,v,y,x,o.dir,r]);lt(()=>b(),[b]);const[S,_]=f.useState();lt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=f.useCallback(N=>{N&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return l.jsx(e3,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(fe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gC.displayName=X5;var Z5="SelectPopperPosition",$m=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qn,...o}=e,a=jf(n);return l.jsx(df,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$m.displayName=Z5;var[e3,Wv]=Oi(ta,{}),Fm="SelectViewport",vC=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ho(Fm,n),a=Wv(Fm,n),i=Ce(t,o.onViewportChange),c=f.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(kf.Slot,{scope:n,children:l.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-qn*2,v=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(v,y);if(x<w){const g=x+m,b=Math.min(w,g),S=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vC.displayName=Fm;var yC="SelectGroup",[t3,n3]=Oi(yC),r3=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Tr();return l.jsx(t3,{scope:n,id:s,children:l.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});r3.displayName=yC;var wC="SelectLabel",xC=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=n3(wC,n);return l.jsx(fe.div,{id:s.id,...r,ref:t})});xC.displayName=wC;var Nd="SelectItem",[s3,bC]=Oi(Nd),SC=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,i=fo(Nd,n),c=ho(Nd,n),u=i.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),w=Ce(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,s)}),v=Tr(),y=f.useRef("touch"),x=()=>{s||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(s3,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:f.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:l.jsx(kf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(fe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:Q(a.onFocus,()=>m(!0)),onBlur:Q(a.onBlur,()=>m(!1)),onClick:Q(a.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Q(a.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Q(a.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:Q(a.onPointerMove,g=>{var b;y.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(a.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Q(a.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(z5.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});SC.displayName=Nd;var al="SelectItemText",_C=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=fo(al,n),i=ho(al,n),c=bC(al,n),u=K5(al,n),[d,h]=f.useState(null),p=Ce(t,x=>h(x),c.onItemTextChange,x=>{var g;return(g=i.itemTextRefCallback)==null?void 0:g.call(i,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=f.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return lt(()=>(v(w),()=>y(w)),[v,y,w]),l.jsxs(l.Fragment,{children:[l.jsx(fe.span,{id:c.textId,...o,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?oa.createPortal(o.children,a.valueNode):null]})});_C.displayName=al;var EC="SelectItemIndicator",CC=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bC(EC,n).isSelected?l.jsx(fe.span,{"aria-hidden":!0,...r,ref:t}):null});CC.displayName=EC;var Um="SelectScrollUpButton",kC=f.forwardRef((e,t)=>{const n=ho(Um,e.__scopeSelect),r=Wv(Um,e.__scopeSelect),[s,o]=f.useState(!1),a=Ce(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(jC,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});kC.displayName=Um;var Bm="SelectScrollDownButton",NC=f.forwardRef((e,t)=>{const n=ho(Bm,e.__scopeSelect),r=Wv(Bm,e.__scopeSelect),[s,o]=f.useState(!1),a=Ce(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(jC,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});NC.displayName=Bm;var jC=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ho("SelectScrollButton",n),a=f.useRef(null),i=Nf(n),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),lt(()=>{var d;const u=i().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),l.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),o3="SelectSeparator",PC=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(fe.div,{"aria-hidden":!0,...r,ref:t})});PC.displayName=o3;var Wm="SelectArrow",a3=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=jf(n),o=fo(Wm,n),a=ho(Wm,n);return o.open&&a.position==="popper"?l.jsx(ff,{...s,...r,ref:t}):null});a3.displayName=Wm;var i3="SelectBubbleInput",TC=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=Ce(r,s),a=Bv(t);return f.useEffect(()=>{const i=s.current;if(!i)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(h)}},[a,t]),l.jsx(fe.select,{...n,style:{...r_,...n.style},ref:o,defaultValue:t})});TC.displayName=i3;function RC(e){return e===""||e===void 0}function IC(e){const t=at(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(a=>{const i=n.current+a;t(i),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function OC(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=l3(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function l3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c3=aC,AC=lC,u3=uC,d3=dC,f3=fC,MC=hC,h3=vC,DC=xC,LC=SC,p3=_C,m3=CC,$C=kC,FC=NC,UC=PC;const Us=c3,Bs=u3,Jr=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(AC,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(d3,{asChild:!0,children:l.jsx(af,{className:"h-4 w-4 opacity-50"})})]}));Jr.displayName=AC.displayName;const BC=f.forwardRef(({className:e,...t},n)=>l.jsx($C,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(EI,{className:"h-4 w-4"})}));BC.displayName=$C.displayName;const WC=f.forwardRef(({className:e,...t},n)=>l.jsx(FC,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(af,{className:"h-4 w-4"})}));WC.displayName=FC.displayName;const Xr=f.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(f3,{children:l.jsxs(MC,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(BC,{}),l.jsx(h3,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(WC,{})]})}));Xr.displayName=MC.displayName;const g3=f.forwardRef(({className:e,...t},n)=>l.jsx(DC,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));g3.displayName=DC.displayName;const nr=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(LC,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(m3,{children:l.jsx(Xg,{className:"h-4 w-4"})})}),l.jsx(p3,{children:t})]}));nr.displayName=LC.displayName;const v3=f.forwardRef(({className:e,...t},n)=>l.jsx(UC,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));v3.displayName=UC.displayName;const zC=e=>({id:e.id,image:e.image,price:e.price,title:e.title,host:e.host,hostEmail:e.hostEmail??null,location:e.location,availableDates:e.availableDates,description:e.description,hostId:e.hostId??null,availability:e.availability??null,coordinates:e.coordinates??null});var Pf="Dialog",[HC,Az]=Kt(Pf),[y3,fr]=HC(Pf),VC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,i=f.useRef(null),c=f.useRef(null),[u,d]=os({prop:r,defaultProp:s??!1,onChange:o,caller:Pf});return l.jsx(y3,{scope:t,triggerRef:i,contentRef:c,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};VC.displayName=Pf;var YC="DialogTrigger",w3=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=fr(YC,n),o=Ce(t,s.triggerRef);return l.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vv(s.open),...r,ref:o,onClick:Q(e.onClick,s.onOpenToggle)})});w3.displayName=YC;var zv="DialogPortal",[x3,KC]=HC(zv,{forceMount:void 0}),GC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=fr(zv,t);return l.jsx(x3,{scope:t,forceMount:n,children:f.Children.map(r,a=>l.jsx(_t,{present:n||o.open,children:l.jsx(_i,{asChild:!0,container:s,children:a})}))})};GC.displayName=zv;var jd="DialogOverlay",qC=f.forwardRef((e,t)=>{const n=KC(jd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=fr(jd,e.__scopeDialog);return o.modal?l.jsx(_t,{present:r||o.open,children:l.jsx(S3,{...s,ref:t})}):null});qC.displayName=jd;var b3=eo("DialogOverlay.RemoveScroll"),S3=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=fr(jd,n);return l.jsx(wc,{as:b3,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(fe.div,{"data-state":Vv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),na="DialogContent",QC=f.forwardRef((e,t)=>{const n=KC(na,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=fr(na,e.__scopeDialog);return l.jsx(_t,{present:r||o.open,children:o.modal?l.jsx(_3,{...s,ref:t}):l.jsx(E3,{...s,ref:t})})});QC.displayName=na;var _3=f.forwardRef((e,t)=>{const n=fr(na,e.__scopeDialog),r=f.useRef(null),s=Ce(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return yf(o)},[]),l.jsx(JC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&o.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault())})}),E3=f.forwardRef((e,t)=>{const n=fr(na,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(JC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),JC=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,i=fr(na,n),c=f.useRef(null),u=Ce(t,c);return vf(),l.jsxs(l.Fragment,{children:[l.jsx(yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(aa,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Vv(i.open),...a,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(C3,{titleId:i.titleId}),l.jsx(N3,{contentRef:c,descriptionId:i.descriptionId})]})]})}),Hv="DialogTitle",XC=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=fr(Hv,n);return l.jsx(fe.h2,{id:s.titleId,...r,ref:t})});XC.displayName=Hv;var ZC="DialogDescription",ek=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=fr(ZC,n);return l.jsx(fe.p,{id:s.descriptionId,...r,ref:t})});ek.displayName=ZC;var tk="DialogClose",nk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=fr(tk,n);return l.jsx(fe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});nk.displayName=tk;function Vv(e){return e?"open":"closed"}var rk="DialogTitleWarning",[Mz,sk]=jR(rk,{contentName:na,titleName:Hv,docsSlug:"dialog"}),C3=({titleId:e})=>{const t=sk(rk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},k3="DialogDescriptionWarning",N3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sk(k3).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},j3=VC,P3=GC,ok=qC,ak=QC,ik=XC,lk=ek,T3=nk;const Tf=j3,R3=P3,ck=f.forwardRef(({className:e,...t},n)=>l.jsx(ok,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ck.displayName=ok.displayName;const Ec=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(R3,{children:[l.jsx(ck,{}),l.jsxs(ak,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-h-[90vh] overflow-y-auto overscroll-contain",e),...n,children:[t,l.jsxs(T3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(j_,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ec.displayName=ak.displayName;const Cc=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Cc.displayName="DialogHeader";const Yv=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yv.displayName="DialogFooter";const kc=f.forwardRef(({className:e,...t},n)=>l.jsx(ik,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));kc.displayName=ik.displayName;const Rf=f.forwardRef(({className:e,...t},n)=>l.jsx(lk,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));Rf.displayName=lk.displayName;const I3=async e=>{const{data:t,error:n}=await le.from("user_profiles").select("id, email, avatar_url, full_name, user_role, bio, university, program_name, program_year, program_type").eq("id",e).maybeSingle();if(n)throw n;return t??null},uk=async e=>{if(!e.length)return[];const{data:t,error:n}=await le.from("user_profiles").select("id, email, avatar_url, full_name, user_role, bio, university, program_name, program_year, program_type").in("id",e);if(n)throw n;return t??[]},O3=f.lazy(()=>lo(()=>import("./ListingsMap-niv04fii.js"),__vite__mapDeps([0,1]))),ox=e=>{var r,s;const t=(r=e.city)==null?void 0:r.trim(),n=(s=e.country)==null?void 0:s.trim();return t&&n?`${t}, ${n}`:t||n||e.location},Eo=e=>{if(!(e!=null&&e.start)||!(e!=null&&e.end))return"Flexible availability";const t=new Date(e.start),n=new Date(e.end);if(Number.isNaN(t.getTime())||Number.isNaN(n.getTime()))return"Flexible availability";const r=t.getMonth()===n.getMonth(),s=Me(t,"MMM d"),o=r?Me(n,"d"):Me(n,"MMM d");return`${s}-${o}`},dk=70,A3=(e,t=dk)=>{if(!e)return"";const n=e.trim();return n.length<=t?n:`${n.slice(0,t).trimEnd()}`},La="Route de Geneve 15, Lausanne",Pd="Calm neighborhood",Td="Cozy couch and a kitchen to share",Ql="30",ax=e=>{var n,r;if((n=e.gallery)!=null&&n.length)return e.gallery;const t=(r=e.availability)==null?void 0:r.photos;return Array.isArray(t)&&t.length?t:e.image?[e.image]:[]},M3={bsc:"Bachelor (BSc)",msc:"Master (MSc)",phd:"Doctorate (PhD)",other:"Other program"},D3=[{id:"static-1",image:Jo,gallery:[Jo],price:"$25",title:"Leather Corner Couch",host:"Sarah M.",hostEmail:null,location:"Downtown Campus",country:"Latvia",city:"Riga",addressLine:"Downtown Campus",coordinates:{lat:56.9496,lng:24.1052},availability:{start:"2024-10-15T00:00:00.000Z",end:"2024-10-25T23:59:59.000Z"},availableDates:Eo({start:"2024-10-15T00:00:00.000Z",end:"2024-10-25T23:59:59.000Z"}),description:"Comfortable leather couch with plants and natural lighting. Perfect for studying or relaxing near campus.",hostId:null},{id:"static-2",image:hd,gallery:[hd],price:"$18",title:"Cozy Beige Sectional",host:"Mike T.",hostEmail:null,location:"North Dorms",country:"Latvia",city:"Riga",addressLine:"North Dorms",coordinates:{lat:56.9578,lng:24.1173},availability:{start:"2024-10-20T00:00:00.000Z",end:"2024-10-30T23:59:59.000Z"},availableDates:Eo({start:"2024-10-20T00:00:00.000Z",end:"2024-10-30T23:59:59.000Z"}),description:"Spacious sectional with great natural light. Great for overnight stays during exam week.",hostId:null},{id:"static-3",image:pd,gallery:[pd],price:"$22",title:"Modern Grey Sectional",host:"Emma K.",hostEmail:null,location:"Library District",country:"Latvia",city:"Riga",addressLine:"Library District",coordinates:{lat:56.9461,lng:24.1177},availability:{start:"2024-10-18T00:00:00.000Z",end:"2024-10-28T23:59:59.000Z"},availableDates:Eo({start:"2024-10-18T00:00:00.000Z",end:"2024-10-28T23:59:59.000Z"}),description:"Perfect spot for late night study sessions. Close to the library and quiet.",hostId:null},{id:"static-4",image:md,gallery:[md],price:"$28",title:"Green Corduroy Sectional",host:"Alex R.",hostEmail:null,location:"Student Village",country:"Latvia",city:"Riga",addressLine:"Student Village",coordinates:{lat:56.9423,lng:24.0998},availability:{start:"2024-10-16T00:00:00.000Z",end:"2024-10-26T23:59:59.000Z"},availableDates:Eo({start:"2024-10-16T00:00:00.000Z",end:"2024-10-26T23:59:59.000Z"}),description:"Unique green sectional with plants and cozy vibes. Great for extended stays.",hostId:null},{id:"static-5",image:gd,gallery:[gd],price:"$32",title:"Modular Beige Sofa",host:"Jamie L.",hostEmail:null,location:"Arts Quarter",country:"Latvia",city:"Riga",addressLine:"Arts Quarter",coordinates:{lat:56.9521,lng:24.108},availability:{start:"2024-10-22T00:00:00.000Z",end:"2024-11-01T23:59:59.000Z"},availableDates:Eo({start:"2024-10-22T00:00:00.000Z",end:"2024-11-01T23:59:59.000Z"}),description:"Spacious modular sofa in bright apartment. Perfect for creative students.",hostId:null},{id:"static-6",image:vd,gallery:[vd],price:"$35",title:"Designer Grey Sectional",host:"Taylor B.",hostEmail:null,location:"Campus Heights",country:"Latvia",city:"Riga",addressLine:"Campus Heights",coordinates:{lat:56.9448,lng:24.1312},availability:{start:"2024-10-19T00:00:00.000Z",end:"2024-10-29T23:59:59.000Z"},availableDates:Eo({start:"2024-10-19T00:00:00.000Z",end:"2024-10-29T23:59:59.000Z"}),description:"Modern designer couch in beautiful apartment with exposed beams. Premium comfort.",hostId:null}],ix="couch-photos",L3=e=>{const t=e.name.split(".").pop();return`${typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2)}`}${t?`.${t}`:""}`},$3=async(e,t)=>{const n=L3(e),r=`${t}/${n}`,{error:s}=await le.storage.from(ix).upload(r,e,{cacheControl:"3600",upsert:!0});if(s)throw new Error(s.message??"Failed to upload listing photo.");const{data:o}=le.storage.from(ix).getPublicUrl(r);if(!(o!=null&&o.publicUrl))throw new Error("Unable to fetch uploaded listing photo URL.");return o.publicUrl},lx=()=>({title:"",price:Ql,description:Td,location:Pd,country:"Switzerland",city:"",addressLine:La,checkInTime:""}),F3=e=>{var t,n,r,s;return{title:e.title??"",price:(e.price??`$${Ql}`).replace(/[^0-9.]/g,"")||Ql,description:e.description??Td,location:e.location??Pd,country:e.country??((t=e.availability)==null?void 0:t.country)??"Switzerland",city:e.city??((n=e.availability)==null?void 0:n.city)??"",addressLine:e.addressLine??((r=e.availability)==null?void 0:r.addressLine)??La,checkInTime:((s=e.availability)==null?void 0:s.checkInTime)??""}},Gh=e=>{if(!e)return"$0";const t=e.trim();return t?t.startsWith("$")?t:`$${t}`:"$0"},U3=e=>{const t=Number(e.replace(/[^0-9.]/g,""));return Number.isFinite(t)?t:0},B3=e=>e.reduce((t,n)=>{t[n.couchId]=n,n.storageId&&(t[n.storageId]=n);const r=Cd(n.couchId);return t[r]=n,t},{}),W3=()=>{const e=dr(),n=ia().state??null,{signOut:r,profile:s,session:o}=Nn(),{toast:a}=ur(),i=Fv(s,o),c=(s==null?void 0:s.user_role)==="host",[u,d]=f.useState({}),h=f.useMemo(()=>new Set(Object.keys(u)),[u]),[p,m]=f.useState([]),[w,v]=f.useState(!1),[y,x]=f.useState("list"),[g,b]=f.useState(null),[S,_]=f.useState(!1),[C,N]=f.useState(""),[T,L]=f.useState("all"),[$,V]=f.useState("all"),[F,I]=f.useState(""),[j,z]=f.useState(""),[A,M]=f.useState(),[E,R]=f.useState("all"),[W,J]=f.useState(!1),[Y,ce]=f.useState(null),[B,D]=f.useState([]),[U,H]=f.useState([]),[ie,ye]=f.useState(!1),[he,xe]=f.useState(!1),[ue,O]=f.useState(()=>lx()),[G,ne]=f.useState({}),[we,Ze]=f.useState({}),[Dt,pn]=f.useState({}),[Dr,mn]=f.useState({}),[jt,Qt]=f.useState(""),[cs,hr]=f.useState([]),[Ve,Jt]=f.useState(null),[Lr,$r]=f.useState(!1),xt=f.useMemo(()=>A!=null&&A.from&&(A!=null&&A.to)?`${Me(A.from,"MMM d")} - ${Me(A.to,"MMM d")}`:A!=null&&A.from?`Starting ${Me(A.from,"MMM d")}`:"Select date range",[A]),Mi=C.trim().length>0||T!=="all"||$!=="all"||F.trim().length>0||j.trim().length>0||!!(A!=null&&A.from||A!=null&&A.to),us=E==="mine";f.useEffect(()=>{n!=null&&n.listingScope&&E!==n.listingScope&&R(n.listingScope)},[E,n==null?void 0:n.listingScope]),f.useEffect(()=>{E==="mine"&&y!=="list"&&x("list")},[E,y]);const jn=f.useCallback((P,Z)=>{O(se=>({...se,[P]:Z}))},[]),pr=f.useCallback(P=>{O(Z=>({...Z,country:P,city:Z.city&&(Qi.citiesByCountry[P]??[]).includes(Z.city)?Z.city:""}))},[]),da=f.useCallback(P=>{ne(Z=>({...Z,[P]:!Z[P]}))},[]),Hn=f.useCallback((P,Z)=>{Ze(se=>({...se,[P]:Z}))},[]),ds=f.useCallback(()=>{J(!1),ce(null),D([]),H([]),ye(!1),O(lx()),Qt(""),Jt(null),hr([])},[]),po=f.useCallback(P=>{if(!P||P.length===0){H([]);return}const Z=Math.max(0,7-B.length);if(Z<=0){a({title:"Gallery is full",description:"You can upload up to 7 photos.",variant:"destructive"});return}const se=Array.from(P).slice(0,Z);if(se.length===0){a({title:"Too many photos",description:"You can only have up to 7 photos total.",variant:"destructive"});return}H(se)},[B.length,a]),mo=f.useCallback(P=>{D(Z=>Z.filter(se=>se!==P))},[]),go=f.useCallback(P=>{P.preventDefault(),po(P.dataTransfer.files)},[po]),pe=f.useCallback(P=>{var Z;if(!(s!=null&&s.id)){a({title:"Sign in to edit",description:"Hosts must be signed in to update a listing.",variant:"destructive"});return}if(P.hostId&&P.hostId!==s.id){a({title:"Can't edit this listing",description:"Switch to My listing to edit your space.",variant:"destructive"});return}ce(P),D(((Z=P.gallery)==null?void 0:Z.slice(0,3))??(P.image?[P.image]:[])),H([]),O(F3(P)),Qt(P.addressLine??P.location??La),Jt(null),hr([]),J(!0)},[s==null?void 0:s.id,a]),Ie=f.useCallback(async P=>{var X,$e,de,Fe,ke,Pn,gr,fs,hs;if(P.preventDefault(),!Y)return;if(!(s!=null&&s.id)){a({title:"Sign in to edit",description:"Hosts must be signed in to update a listing.",variant:"destructive"});return}if(Y.hostId&&Y.hostId!==s.id){a({title:"Can't edit this listing",description:"Switch to My listing to edit your space.",variant:"destructive"});return}const Z=ue.title.trim();if(!Z){a({title:"Add a title",description:"Give your listing a short name before saving.",variant:"destructive"});return}let se=ue.location.trim();if(se||(se=Pd),!se){a({title:"Add your location",description:"Let renters know where they'll be staying.",variant:"destructive"});return}if(!B.length&&!U.length){a({title:"Add a photo",description:"Upload at least one photo of your couch.",variant:"destructive"});return}ye(!0);try{let pt=[...B];if(U.length){const vr=Math.max(0,7-pt.length),Sy=U.slice(0,vr);for(const Tc of Sy){const Rc=await $3(Tc,s.id);pt.push(Rc)}}if(!pt.length)throw new Error("At least one photo is required.");pt=pt.slice(0,7);const Tn=pt[0]??Y.image,mt=Gh(ue.price.trim()||Y.price||Ql),Vn=ue.description.trim()||Y.description||Td,gn=ue.city.trim(),Rn=(ue.country.trim()||"Switzerland").trim(),Fr=jt.trim()||Y.addressLine||((X=Y.availability)==null?void 0:X.addressLine)||La,vo=ue.checkInTime.trim(),ze={start:(($e=Y.availability)==null?void 0:$e.start)??null,end:((de=Y.availability)==null?void 0:de.end)??null,checkInTime:(vo||((Fe=Y.availability)==null?void 0:Fe.checkInTime))??null,country:Rn||Y.country||((ke=Y.availability)==null?void 0:ke.country)||null,city:gn||Y.city||((Pn=Y.availability)==null?void 0:Pn.city)||null,addressLine:Fr||Y.addressLine||((gr=Y.availability)==null?void 0:gr.addressLine)||null,coordinates:Ve??((fs=Y.availability)==null?void 0:fs.coordinates)??(Y.coordinates?{lat:Y.coordinates.lat,lng:Y.coordinates.lng}:null),photos:pt,published:typeof((hs=Y.availability)==null?void 0:hs.published)=="boolean"?Y.availability.published:Y.isPublished??!1};await Dm({id:Y.id,hostId:s.id,hostName:s.full_name??s.email??Y.host??"Host",hostEmail:s.email??(o==null?void 0:o.user.email)??Y.hostEmail??null,title:Z,imageUrl:Tn,pricePerNight:mt,location:se,description:Vn,availability:ze}),a({title:"Listing updated",description:"Your couch details have been saved."}),window.dispatchEvent(new Event("listings-updated")),ds()}catch(pt){console.error("Failed to update listing",pt),a({title:"Unable to update listing",description:pt instanceof Error?pt.message:"Please try again in a moment.",variant:"destructive"})}finally{ye(!1)}},[ds,ue,B,U,Y,s,o,a]),Oe=()=>{N(""),L("all"),V("all"),I(""),z(""),M(void 0)},te=f.useCallback(async()=>{if(!i){d({});return}try{const P=await kd(i);d(B3(P))}catch(P){console.warn("Failed to load wishlist",P)}},[i]);f.useEffect(()=>{te()},[te]),f.useEffect(()=>{if(typeof window>"u")return;const P=()=>te();return window.addEventListener("wishlist-updated",P),()=>window.removeEventListener("wishlist-updated",P)},[te]);const re=f.useCallback(P=>{L(P),P==="all"&&V("all")},[]),oe=f.useCallback(P=>{V(P)},[]),_e=f.useCallback((P,Z)=>{Z!=null&&Z.defaultPrevented||e(`/couch/${P.id}`,{state:{couch:P}})},[e]),et=f.useCallback(async(P,Z)=>{if(P.stopPropagation(),P.preventDefault(),!i){a({title:"Sign in to save couches",description:"Create an account or sign in to build your wishlist.",variant:"destructive"});return}const se=Cd(Z.id),X=u[Z.id]??u[se];try{if(X){await Uv(i,Z.id),d(Fe=>{const ke={...Fe};return delete ke[Z.id],delete ke[se],ke}),a({title:"Removed from wishlist",description:`${Z.title} is no longer saved.`});return}const $e=zC(Z),de=await nC(i,Z.id,$e);de&&(d(Fe=>({...Fe,[de.couchId]:de,[de.storageId]:de,[Cd(de.couchId)]:de})),a({title:"Saved to wishlist",description:`${Z.title} was added for later.`}))}catch($e){console.error("Wishlist toggle failed",$e),a({title:"Unable to update wishlist",description:"Please try again in a moment.",variant:"destructive"})}},[a,i,u]),ht=f.useRef(new Set),Pt=f.useRef(!1),mr=f.useRef(new Set),Lt=f.useRef({}),Et=f.useCallback(async()=>{try{v(!0);const P=await D5(),Z=[Jo,hd,pd,md,gd,vd],se=P.map((X,$e)=>{var Vn,gn,Rn,Fr;const de=X.availability?{start:X.availability.start??null,end:X.availability.end??null,checkInTime:X.availability.checkInTime??null,published:typeof X.availability.published=="boolean"?X.availability.published:null,country:X.availability.country??null,city:X.availability.city??null,addressLine:X.availability.addressLine??null,photos:Array.isArray(X.availability.photos)?X.availability.photos.filter(vo=>typeof vo=="string"&&vo.trim().length>0):null,coordinates:X.availability.coordinates&&typeof X.availability.coordinates.lat=="number"&&typeof X.availability.coordinates.lng=="number"?{lat:X.availability.coordinates.lat,lng:X.availability.coordinates.lng,displayName:X.availability.coordinates.displayName??null}:null}:null,Fe=(de==null?void 0:de.start)&&(de==null?void 0:de.end),ke=typeof(de==null?void 0:de.published)=="boolean"?de.published:!1,Pn=Array.isArray(de==null?void 0:de.photos)?de.photos:[],gr=X.image??Pn[0]??Z[$e%Z.length],fs=((Vn=de==null?void 0:de.country)==null?void 0:Vn.trim())||null,hs=((gn=de==null?void 0:de.city)==null?void 0:gn.trim())||null,pt=((Rn=de==null?void 0:de.addressLine)==null?void 0:Rn.trim())||((Fr=X.location)==null?void 0:Fr.trim())||null,Tn=de!=null&&de.coordinates&&typeof de.coordinates.lat=="number"&&typeof de.coordinates.lng=="number"?{lat:de.coordinates.lat,lng:de.coordinates.lng}:null,mt=Fe?Eo(de):de!=null&&de.checkInTime?`Check-in after ${de.checkInTime}`:"Flexible availability";return{id:X.id,image:gr,price:Gh(X.price??"0"),title:X.title??`Community couch ${$e+1}`,host:X.hostName??"Community host",hostEmail:X.hostEmail??null,location:X.location??"Address shared after booking",country:fs,city:hs,addressLine:pt,availableDates:mt,description:X.description??(X.createdAt?`Listing published on ${new Date(X.createdAt).toLocaleDateString()}`:"Listing added by our host community."),hostId:X.hostId,availability:de,coordinates:Tn,gallery:Pn.length?Pn:gr?[gr]:[],hostBio:null,isPublished:ke}});m(se)}catch(P){console.error("Failed to fetch listings",P)}finally{v(!1)}},[]);f.useEffect(()=>{typeof window>"u"||!("geolocation"in navigator)||navigator.geolocation.getCurrentPosition(P=>{b({lat:P.coords.latitude,lng:P.coords.longitude})},P=>{Pt.current||(console.warn("Unable to determine user location",P),Pt.current=!0)},{enableHighAccuracy:!1,timeout:5e3})},[]),f.useEffect(()=>{Et()},[Et]),f.useEffect(()=>{const P=jt.trim();if(!P||P.length<3){hr([]),$r(!1);return}if(Ve&&Ve.displayName===P){hr([]),$r(!1);return}const Z=new AbortController;$r(!0);const se=setTimeout(async()=>{try{const X=await O5(P,{signal:Z.signal});hr(X)}catch(X){X instanceof DOMException&&X.name==="AbortError"||console.warn("Address lookup failed",X)}finally{$r(!1)}},250);return()=>{Z.abort(),clearTimeout(se)}},[jt,Ve]);const Kj=f.useCallback(async(P,Z)=>{if(P.id){mn(se=>({...se,[P.id]:!0}));try{await F5(P.id,Z),m(se=>se.map(X=>X.id===P.id?{...X,isPublished:Z,availability:{...X.availability,published:Z}}:X)),await Et(),a({title:Z?"Listing published":"Listing unpublished",description:Z?"Your listing is live and visible to renters.":"Your listing is hidden until you publish it again."}),Z&&E==="all"&&R("all")}catch(se){console.error("Failed to toggle listing visibility",se),a({title:"Unable to update listing",description:se instanceof Error?se.message:"Please try again in a moment.",variant:"destructive"})}finally{mn(se=>{const X={...se};return delete X[P.id],X})}}},[Et,a]),Gj=f.useCallback(async()=>{if(!(s!=null&&s.id)){a({title:"Sign in required",description:"Hosts need to sign in before creating a listing.",variant:"destructive"});return}xe(!0);try{const P=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${s.id}-${Date.now()}`;await Dm({id:P,hostId:s.id,hostName:s.full_name??s.email??"Host",hostEmail:s.email??(o==null?void 0:o.user.email)??null,title:s.full_name?`${s.full_name}'s couch`:"Hosted couch",imageUrl:null,pricePerNight:Gh(Ql),location:Pd,description:Td,availability:{start:null,end:null,checkInTime:null,country:null,city:null,addressLine:La,coordinates:null,published:!1}}),await Et(),R("mine"),a({title:"Listing created",description:"Open Edit listing to add your address, couch photos, and description."})}catch(P){console.error("Failed to create placeholder listing",P),a({title:"Unable to create listing",description:P instanceof Error?P.message:"Please try again in a moment.",variant:"destructive"})}finally{xe(!1)}},[Et,s==null?void 0:s.email,s==null?void 0:s.full_name,s==null?void 0:s.id,o==null?void 0:o.user.email,a]);f.useEffect(()=>{const P=p.map(X=>X.hostId).filter(X=>!!X&&!mr.current.has(X));if(!P.length)return;let Z=!1;return(async()=>{try{const X=await uk(Array.from(new Set(P)));if(Z)return;pn($e=>{const de={...$e};return X.forEach(Fe=>{mr.current.add(Fe.id),de[Fe.id]={bio:Fe.bio??null,university:Fe.university??null,programName:Fe.program_name??null,programYear:Fe.program_year??null,programType:Fe.program_type??null,avatarUrl:Fe.avatar_url??null}}),de})}catch(X){console.warn("Failed to load host bios",X)}})(),()=>{Z=!0}},[p]),f.useEffect(()=>{Ze(P=>{let Z=!1;const se={...P};return p.forEach(X=>{const $e=ax(X);if(!$e.length){X.id in se&&(delete se[X.id],Z=!0);return}(se[X.id]??0)>=$e.length&&(se[X.id]=0,Z=!0)}),Z?se:P})},[p]),f.useEffect(()=>{if(typeof window>"u")return;const P=()=>{Et()};return window.addEventListener("listings-updated",P),()=>window.removeEventListener("listings-updated",P)},[Et]),f.useEffect(()=>{const P=p.filter(X=>!X.coordinates&&!!X.location&&!ht.current.has(X.id));if(!P.length){_(!1);return}let Z=!1;return _(!0),(async()=>{for(const X of P){ht.current.add(X.id);try{const $e=await I5(X.location);if(!$e||Z)continue;m(de=>de.map(Fe=>Fe.id===X.id?{...Fe,coordinates:$e}:Fe))}catch($e){console.warn("Unable to geocode address",$e)}}Z||_(!1)})(),()=>{Z=!0}},[p]);const gy=f.useMemo(()=>p.length>0?p:D3,[p]),vy=f.useMemo(()=>s!=null&&s.id?p.filter(P=>P.hostId===s.id):[],[s==null?void 0:s.id,p]),yy=f.useMemo(()=>E==="mine"?vy:gy,[gy,E,vy]),wy=Qi.countries,qj=f.useMemo(()=>T==="all"?[]:Qi.citiesByCountry[T]??[],[T]),Wf=f.useMemo(()=>{const P=ue.country.trim()||"Switzerland";return Qi.citiesByCountry[P]??[]},[ue.country]);f.useEffect(()=>{if(T==="all"){V("all");return}const P=Qi.citiesByCountry[T]??[];$!=="all"&&(P.includes($)||V("all"))},[$,T]);const Di=f.useMemo(()=>{const P=C.trim().toLowerCase(),Z=T==="all"?null:T.toLowerCase(),se=$==="all"?null:$.toLowerCase(),X=F.trim()?Number(F):null,$e=j.trim()?Number(j):null,de=X!==null&&Number.isFinite(X),Fe=$e!==null&&Number.isFinite($e);return yy.filter(ke=>{const Pn=P?[ke.title,ke.location,ke.host,ke.city,ke.country,ke.addressLine].filter(Boolean).some(mt=>mt.toLowerCase().includes(P)):!0,gr=E==="mine"?!0:ke.isPublished!==!1,fs=(()=>{const mt=U3(ke.price);return!(de&&mt<X||Fe&&mt>$e)})(),hs=!0,pt=(()=>{var gn,Rn;if(!Z)return!0;const mt=(gn=ke.country)==null?void 0:gn.trim().toLowerCase();return mt?mt===Z:(((Rn=ke.location)==null?void 0:Rn.toLowerCase())??"").includes(Z)})(),Tn=(()=>{var Rn;if(!se)return!0;const mt=(Rn=ke.city)==null?void 0:Rn.trim().toLowerCase();if(mt&&mt===se)return!0;const Vn=[ke.city,ke.addressLine,ke.location].filter(Boolean).join(" ").toLowerCase();if(Vn.includes(se))return!0;const gn=U5[se]??[];return gn.length&&Vn?gn.some(Fr=>Vn.includes(Fr)):!1})();return Pn&&gr&&fs&&hs&&pt&&Tn})},[yy,$,T,A,j,F,C,E]),xy=f.useMemo(()=>Di.filter(P=>!!P.coordinates),[Di]),by=f.useMemo(()=>xy.map(P=>({id:P.id,title:P.title,price:P.price,coordinates:P.coordinates,location:ox(P),host:P.host,image:P.image})),[xy]);return l.jsxs("div",{className:"relative min-h-screen overflow-hidden dreamy-bg text-slate-900",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[l.jsx("div",{className:"absolute -top-32 right-0 h-72 w-72 rounded-full bg-blue-200/40 blur-[140px]"}),l.jsx("div",{className:"absolute bottom-0 left-[-10%] h-80 w-80 rounded-full bg-indigo-200/30 blur-[160px]"})]}),l.jsxs("main",{className:"relative z-10 mx-auto w-full max-w-6xl px-4 py-12 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-slate-500",children:"Welcome back"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:us?"Manage your listing":"Find calming couches near campus"}),l.jsx("p",{className:"text-sm text-slate-500",children:us?"Preview how your space appears to renters and edit the details below.":"Browse calming couches and use the filters below to find the right match."})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:l.jsxs("span",{children:["Signed in as ",l.jsx("span",{className:"font-semibold text-slate-800",children:(s==null?void 0:s.full_name)??"student"})]})})]}),!us&&l.jsxs("section",{className:"mb-8 space-y-4 rounded-[2rem] border border-white/50 bg-white/85 p-5 shadow-2xl backdrop-blur-xl",children:[l.jsx("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:l.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-slate-100 bg-white px-4 py-2 shadow-sm",children:[l.jsx(kI,{className:"h-5 w-5 text-slate-400"}),l.jsx("input",{type:"search",value:C,onChange:P=>N(P.target.value),placeholder:"Search by host, city, or address",className:"w-full bg-transparent text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none"})]})}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsx("div",{className:"w-full",children:l.jsxs(Us,{value:T,onValueChange:re,children:[l.jsx(Jr,{className:"w-full rounded-full border border-slate-100 bg-white px-4 py-2 text-left text-sm font-medium text-slate-600",children:l.jsx(Bs,{placeholder:"Country"})}),l.jsxs(Xr,{children:[l.jsx(nr,{value:"all",children:"All countries"}),wy.map(P=>l.jsx(nr,{value:P,children:P},P))]})]})}),l.jsx("div",{className:"w-full",children:l.jsxs(Us,{value:$,onValueChange:oe,disabled:T==="all",children:[l.jsx(Jr,{className:"w-full rounded-full border border-slate-100 bg-white px-4 py-2 text-left text-sm font-medium text-slate-600",disabled:T==="all",children:l.jsx(Bs,{placeholder:T==="all"?"Choose Switzerland first":"City"})}),l.jsxs(Xr,{children:[l.jsx(nr,{value:"all",children:"All cities in Switzerland"}),qj.map(P=>l.jsx(nr,{value:P,children:P},P))]})]})})]}),l.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"grid w-full gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:"w-full rounded-[1.5rem] border border-slate-100 bg-white/90 p-4 shadow-sm",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Price range"}),l.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[l.jsx(Be,{type:"number",inputMode:"numeric",min:"0",placeholder:"Min",value:F,onChange:P=>I(P.target.value),className:"rounded-full border-slate-200 bg-slate-50 text-sm"}),l.jsx("span",{className:"text-xs text-slate-400",children:"to"}),l.jsx(Be,{type:"number",inputMode:"numeric",min:"0",placeholder:"Max",value:j,onChange:P=>z(P.target.value),className:"rounded-full border-slate-200 bg-slate-50 text-sm"})]}),l.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Set any minimum or maximum nightly rate."})]}),l.jsxs("div",{className:"w-full rounded-[1.5rem] border border-slate-100 bg-white/90 p-4 shadow-sm",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Stay dates"}),l.jsxs(EE,{children:[l.jsx(CE,{asChild:!0,children:l.jsxs("button",{type:"button",className:"mt-3 flex w-full items-center justify-between rounded-full border border-slate-200 bg-slate-50 px-4 py-2 text-left text-sm font-medium text-slate-600 transition hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[l.jsx("span",{children:xt}),l.jsx(Jg,{className:"h-4 w-4 text-slate-400"})]})}),l.jsxs(Ov,{className:"w-auto rounded-2xl border bg-white p-4 shadow-xl",align:"start",children:[l.jsx(xd,{mode:"range",numberOfMonths:2,selected:A,onSelect:P=>M(P),initialFocus:!0}),l.jsxs("div",{className:"mt-3 flex justify-between border-t pt-3",children:[l.jsx("p",{className:"text-xs text-slate-400",children:"Select a start and end date."}),l.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"text-xs text-slate-600",onClick:()=>M(void 0),children:"Clear"})]})]})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[Mi&&l.jsx("button",{type:"button",onClick:Oe,className:"text-xs font-medium text-slate-500 underline underline-offset-4",children:"Clear filters"}),l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 p-1 text-sm font-medium text-slate-600",children:[l.jsx("button",{type:"button",onClick:()=>x("list"),className:`rounded-full px-4 py-1.5 transition ${y==="list"?"bg-slate-900 text-white shadow":"text-slate-500"}`,children:"List view"}),l.jsx("button",{type:"button",onClick:()=>x("map"),className:`rounded-full px-4 py-1.5 transition ${y==="map"?"bg-slate-900 text-white shadow":"text-slate-500"}`,children:"Map view"})]})]})]})]}),y==="map"?by.length>0?l.jsx(f.Suspense,{children:l.jsx(O3,{listings:by,userLocation:g,isLoading:S||w,onSelect:P=>{const Z=Di.find(se=>se.id===P);Z&&_e(Z)}})}):l.jsx("div",{className:"rounded-[2rem] border border-dashed border-slate-200 bg-white/70 p-8 text-center text-sm text-slate-500",children:S||w?"Locating calming couches near you":"No plotted couches for the current filters. Try switching back to the list view or clearing filters."}):l.jsxs("section",{className:"space-y-6",children:[(w||S)&&l.jsx("p",{className:"text-center text-sm text-slate-500",children:w?"Loading the latest couches":"Pinning couch locations"}),!Di.length&&!(w||S)?E==="mine"?l.jsxs("div",{className:"rounded-[2rem] border border-dashed border-slate-200 bg-white/80 p-10 text-center space-y-3",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"You haven't published a listing yet."}),l.jsx("p",{className:"text-sm text-slate-500",children:"Create your listing shell and then use Edit listing to add your address, couch photos, and description."}),l.jsx(Se,{className:"rounded-full",disabled:he,onClick:Gj,children:he?"Creating...":"Create my listing"})]}):l.jsxs("div",{className:"rounded-[2rem] border border-dashed border-slate-200 bg-white/80 p-10 text-center",children:[l.jsx("p",{className:"text-base font-semibold text-slate-900",children:"No calming stays match that search"}),l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Try clearing filters or searching a nearby neighborhood."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Di.map(P=>{var Fr,vo;const Z=ox(P),se=P.addressLine&&P.addressLine!==Z?P.addressLine:null,X=G[P.id]??!1,$e=!!se&&se.length>dk,de=X||!se?se:A3(se),Fe=!!(se&&se.trim().toLowerCase()===La.toLowerCase()),ke=P.hostId?Dt[P.hostId]??null:null,Pn=((Fr=ke==null?void 0:ke.university)==null?void 0:Fr.trim())||null,gr=((vo=ke==null?void 0:ke.programName)==null?void 0:vo.trim())||null,fs=ke!=null&&ke.programType?M3[ke.programType]??ke.programType:null,hs=ke!=null&&ke.programYear?`Year ${ke.programYear}`:null,pt=[gr,fs,hs].filter(Boolean).join("  "),Tn=ax(P),mt=we[P.id]??0,Vn=Tn[mt]??P.image,gn=Tn.length>1,Rn=ze=>{if(!gn)return;const vr=ze==="prev"?(mt-1+Tn.length)%Tn.length:(mt+1)%Tn.length;Hn(P.id,vr)};return l.jsxs("article",{role:"button",tabIndex:0,onClick:ze=>_e(P,ze),onKeyDown:ze=>{(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),_e(P,ze))},className:"group cursor-pointer rounded-[1.75rem] border border-white/60 bg-white/80 shadow-xl shadow-blue-100/60 backdrop-blur transition duration-300 hover:-translate-y-1.5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-300",children:[l.jsxs("div",{className:"relative h-64 overflow-hidden rounded-[1.5rem]",onTouchStart:ze=>{var vr;Lt.current[P.id]=((vr=ze.touches[0])==null?void 0:vr.clientX)??0},onTouchEnd:ze=>{var Rc;const vr=Lt.current[P.id];if(typeof vr!="number")return;const Tc=(((Rc=ze.changedTouches[0])==null?void 0:Rc.clientX)??vr)-vr;Math.abs(Tc)>40&&(ze.stopPropagation(),Rn(Tc>0?"prev":"next")),delete Lt.current[P.id]},children:[i&&l.jsx("button",{className:`absolute right-4 top-4 z-10 rounded-full bg-white/90 p-2 text-slate-600 shadow transition hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400 ${h.has(P.id)?"text-rose-500":""}`,"aria-label":h.has(P.id)?"Remove from wishlist":"Save to wishlist",onClick:ze=>et(ze,P),children:l.jsx(od,{className:`h-5 w-5 ${h.has(P.id)?"fill-rose-500":""}`})}),l.jsx("img",{src:Vn??P.image,alt:P.title,className:"h-full w-full object-cover"}),gn&&l.jsxs("div",{className:"absolute bottom-4 left-1/2 hidden -translate-x-1/2 rounded-full bg-black/50 px-3 py-1 text-xs font-semibold text-white sm:flex",children:["Photo ",mt+1," / ",Tn.length]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/70 via-slate-900/10"}),l.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between text-white",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold",children:P.price}),l.jsx("p",{className:"text-xs text-white/80",children:"per night"})]}),l.jsxs("p",{className:"text-xs text-white/80",children:["Hosted by ",P.host]})]})]}),l.jsxs("div",{className:"space-y-3 p-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:P.title}),l.jsx("span",{className:"text-sm font-semibold text-slate-700",children:P.price})]}),c&&E==="mine"&&P.hostId===(s==null?void 0:s.id)&&l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide ${P.isPublished===!1?"text-amber-600":"text-emerald-600"}`,children:P.isPublished===!1?"Draft  Not published":"Published"}),(Pn||pt)&&l.jsxs("div",{className:"space-y-0.5 text-xs text-slate-500",children:[Pn&&l.jsx("p",{className:"font-semibold text-slate-700",children:Pn}),pt&&l.jsx("p",{children:pt})]}),l.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(ev,{className:"h-4 w-4"}),l.jsxs("span",{className:"flex flex-wrap items-center gap-1",children:[Z,se&&l.jsxs("span",{className:`ml-1 text-xs ${Fe?"text-slate-300 italic":"text-slate-400"}`,children:[" ",de,$e&&l.jsx("button",{type:"button",className:"ml-1 rounded-full px-2 py-0.5 text-[10px] font-semibold text-blue-600 hover:underline",onClick:ze=>{ze.stopPropagation(),ze.preventDefault(),da(P.id)},children:X?"Hide":"Full address"})]})]})]}),l.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[c&&E==="mine"&&P.hostId===(s==null?void 0:s.id)&&l.jsx(Se,{size:"sm",className:"rounded-full bg-blue-600 text-xs text-white shadow hover:bg-blue-500",onClick:ze=>{ze.stopPropagation(),pe(P)},children:"Edit listing"}),c&&E==="mine"&&P.hostId===(s==null?void 0:s.id)&&l.jsx(Se,{size:"sm",variant:P.isPublished!==!1?"outline":"default",className:"rounded-full text-xs",disabled:!!Dr[P.id],onClick:ze=>{ze.stopPropagation(),Kj(P,P.isPublished===!1)},children:Dr[P.id]?"Saving...":P.isPublished===!1?"Publish listing":"Unpublish"}),l.jsx(Se,{variant:"ghost",size:"sm",className:"rounded-full bg-slate-800 text-white hover:bg-slate-700",onClick:ze=>{ze.stopPropagation(),_e(P,ze)},children:"View stay"})]})})]})]},P.id)})})]})]}),l.jsx(Tf,{open:W,onOpenChange:P=>{P||ds()},children:l.jsxs(Ec,{className:"max-w-2xl",children:[l.jsxs(Cc,{children:[l.jsx(kc,{children:"Edit listing"}),l.jsx(Rf,{children:"Fine-tune your couch details. Updates go live immediately."})]}),Y?l.jsxs("form",{onSubmit:Ie,className:"space-y-5",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-title",children:"Listing title"}),l.jsx(Be,{id:"edit-title",value:ue.title,onChange:P=>jn("title",P.target.value),disabled:ie})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-price",children:"Price per night"}),l.jsx(Be,{id:"edit-price",value:ue.price,onChange:P=>jn("price",P.target.value),placeholder:"25",disabled:ie})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Country"}),l.jsxs(Us,{value:ue.country||"Switzerland",onValueChange:pr,disabled:ie,children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:"Select country"})}),l.jsx(Xr,{children:wy.map(P=>l.jsx(nr,{value:P,children:P},P))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"City"}),l.jsxs(Us,{value:ue.city||void 0,onValueChange:P=>jn("city",P),disabled:ie||!Wf.length,children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:Wf.length?"Select city":"Choose country first"})}),l.jsx(Xr,{children:Wf.map(P=>l.jsx(nr,{value:P,children:P},P))})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-address",children:"Street address"}),l.jsx(Be,{id:"edit-address",value:jt,onChange:P=>{Qt(P.target.value),Jt(null)},placeholder:"Enter your street",disabled:ie}),l.jsx("p",{className:"text-xs text-slate-500",children:"Exact details stay private until you approve a booking."}),jt.trim().length>=3&&(Lr||cs.length>0||!Ve)?l.jsxs("div",{className:"max-h-36 overflow-y-auto rounded-2xl border border-slate-200 bg-white",children:[Lr&&l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"Searching addresses"}),!Lr&&cs.length===0&&!Ve&&l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches yet. Keep typing."}),cs.map(se=>l.jsx("button",{type:"button",className:`block w-full px-3 py-2 text-left text-sm transition hover:bg-blue-50 ${(Ve==null?void 0:Ve.displayName)===se.displayName?"bg-blue-50":""}`,onClick:()=>{Jt(se),Qt(se.displayName),hr([])},children:se.displayName},`${se.lat}-${se.lng}`))]}):null,Ve&&l.jsx("p",{className:"text-xs font-medium text-emerald-600",children:"Address confirmed "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-location",children:"Location description"}),l.jsx(Be,{id:"edit-location",value:ue.location,onChange:P=>jn("location",P.target.value),placeholder:"Near Downtown Campus",disabled:ie})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-description",children:"Description"}),l.jsx(Ti,{id:"edit-description",value:ue.description,onChange:P=>jn("description",P.target.value),rows:4,disabled:ie})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"edit-checkin",children:"Check-in time"}),l.jsx(Be,{id:"edit-checkin",type:"time",value:ue.checkInTime,onChange:P=>jn("checkInTime",P.target.value),disabled:ie})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Te,{children:"Photos (up to 7)"}),l.jsxs("span",{className:"text-xs text-slate-500",children:[B.length,"/7 uploaded"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[B.length===0&&l.jsx("p",{className:"text-xs text-slate-500",children:"Add at least one photo so renters can see your couch."}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:B.map((P,Z)=>l.jsxs("div",{className:"relative h-20 w-full cursor-move overflow-hidden rounded-xl border",draggable:!0,onDragStart:se=>{se.dataTransfer.setData("text/plain",Z.toString())},onDragOver:se=>se.preventDefault(),onDrop:se=>{se.preventDefault();const X=Number(se.dataTransfer.getData("text/plain")),$e=Z;Number.isNaN(X)||Number.isNaN($e)||X===$e||D(de=>{const Fe=[...de],[ke]=Fe.splice(X,1);return Fe.splice($e,0,ke),Fe})},children:[l.jsx("img",{src:P,alt:"Listing gallery",className:"h-full w-full object-cover"}),l.jsx("button",{type:"button",className:"absolute right-1 top-1 rounded-full bg-white/90 px-2 text-[10px] font-semibold text-slate-700 shadow",onClick:()=>mo(P),disabled:ie,children:"Remove"})]},P))})]}),l.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-300 bg-slate-50/80 p-4 text-center",onDragOver:P=>P.preventDefault(),onDrop:go,children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Drag and drop photos here"}),l.jsx("p",{className:"text-xs text-slate-500",children:"or click to browse files (PNG/JPG)"}),l.jsx(Be,{id:"edit-photos",type:"file",accept:"image/*",multiple:!0,className:"mt-2 cursor-pointer",disabled:ie||B.length>=7,onChange:P=>po(P.target.files)})]}),U.length>0&&l.jsxs("p",{className:"text-xs text-slate-500",children:["Ready to upload: ",U.map(P=>P.name).join(", ")]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Upload up to 7 photos. Drag tiles to reorder; the first one becomes your cover image."})]}),l.jsxs(Yv,{children:[l.jsx(Se,{type:"button",variant:"ghost",onClick:ds,disabled:ie,children:"Cancel"}),l.jsx(Se,{type:"submit",disabled:ie,children:ie?"Saving...":"Save changes"})]})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"Select a listing to edit."})]})})]})};var fk={exports:{}},hk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=f;function z3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H3=typeof Object.is=="function"?Object.is:z3,V3=vi.useState,Y3=vi.useEffect,K3=vi.useLayoutEffect,G3=vi.useDebugValue;function q3(e,t){var n=t(),r=V3({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return K3(function(){s.value=n,s.getSnapshot=t,qh(s)&&o({inst:s})},[e,n,t]),Y3(function(){return qh(s)&&o({inst:s}),e(function(){qh(s)&&o({inst:s})})},[e]),G3(n),n}function qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!H3(e,n)}catch{return!0}}function Q3(e,t){return t()}var J3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q3:q3;hk.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:J3;fk.exports=hk;var X3=fk.exports;function Z3(){return X3.useSyncExternalStore(eB,()=>!0,()=>!1)}function eB(){return()=>{}}var Kv="Avatar",[tB,Dz]=Kt(Kv),[nB,pk]=tB(Kv),mk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return l.jsx(nB,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(fe.span,{...r,ref:t})})});mk.displayName=Kv;var gk="AvatarImage",vk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,a=pk(gk,n),i=rB(r,o),c=at(u=>{s(u),a.onImageLoadingStatusChange(u)});return lt(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?l.jsx(fe.img,{...o,ref:t,src:r}):null});vk.displayName=gk;var yk="AvatarFallback",wk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=pk(yk,n),[a,i]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&o.imageLoadingStatus!=="loaded"?l.jsx(fe.span,{...s,ref:t}):null});wk.displayName=yk;function cx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rB(e,{referrerPolicy:t,crossOrigin:n}){const r=Z3(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,i]=f.useState(()=>cx(o,e));return lt(()=>{i(cx(o,e))},[o,e]),lt(()=>{const c=h=>()=>{i(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),a}var xk=mk,bk=vk,Sk=wk;const _k=f.forwardRef(({className:e,...t},n)=>l.jsx(xk,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_k.displayName=xk.displayName;const Ek=f.forwardRef(({className:e,...t},n)=>l.jsx(bk,{ref:n,className:ge("aspect-square h-full w-full",e),...t}));Ek.displayName=bk.displayName;const Ck=f.forwardRef(({className:e,...t},n)=>l.jsx(Sk,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ck.displayName=Sk.displayName;const sB=8,Ai=e=>({id:e.id,couchId:e.couch_id,couchTitle:e.couch_title,hostId:e.host_id,hostName:e.host_name,renterId:e.renter_id,renterName:e.renter_name,stayStart:e.stay_start,stayEnd:e.stay_end,nights:e.nights,pricePerNight:e.price_per_night,status:e.status??"pending",createdAt:e.created_at,paymentStatus:e.payment_status,paymentDueAt:e.payment_due_at,paymentIntentId:e.payment_intent_id,paymentClientSecret:e.payment_client_secret,hasCheckInPhoto:!!e.has_checkin_photo,payoutStatus:e.payout_status,payoutReleasedAt:e.payout_released_at}),Jl=e=>e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:null,kk=e=>{if(!e)return[];const t=new Set;return e.forEach(n=>{if(!n)return;const r=n.trim();r&&t.add(r)}),Array.from(t)},zm=e=>e.replace(/[%_]/g,t=>`\\${t}`).replace(/,/g,"\\,"),oB=e=>{if(!e)return[];const t=new Set;return e.forEach(n=>{if(!n)return;const r=n.trim();r&&t.add(r)}),Array.from(t)},aB=24*60*60*1e3,Hm=e=>{const t=new Date(e);if(Number.isNaN(t.getTime())){const n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()}return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()},ux=(e,t)=>{const n=Hm(e);return n>t?n:t+aB},Nk=async e=>{const t={couch_id:e.couchId,couch_title:e.couchTitle,host_id:Jl(e.hostId),host_name:e.hostEmail??e.hostName,renter_id:Jl(e.renterId),renter_name:e.renterName,stay_start:e.stayStart,stay_end:e.stayEnd,nights:e.nights,price_per_night:e.pricePerNight,status:e.status??"pending"};e.createdAt&&(t.created_at=e.createdAt);const{data:n,error:r}=await le.from("booking_requests").insert(t).select("*").single();if(r)throw r;return Ai(n)},If=async(e,t)=>{const n=Jl(e),r=kk(t);if(!n&&!r.length)return[];let s=le.from("booking_requests").select("*").order("created_at",{ascending:!1});const o=[];n&&o.push(`renter_id.eq.${n}`),r.forEach(c=>{o.push(`renter_name.ilike.%${zm(c)}%`)}),o.length===1&&o[0].startsWith("renter_id.eq.")?s=s.eq("renter_id",n):o.length>0&&(s=s.or(o.join(",")));const{data:a,error:i}=await s;if(i)throw i;return(a??[]).map(Ai)},iB=async(e,t,n)=>{const r=Jl(e),s=kk(t),o=oB(n);if(!r&&!s.length&&!o.length)return[];let a=le.from("booking_requests").select("*").order("created_at",{ascending:!1});const i=[];r&&i.push(`host_id.eq.${r}`),s.forEach(d=>{i.push(`host_name.ilike.%${zm(d)}%`)}),o.forEach(d=>{i.push(`couch_id.eq.${zm(d)}`)}),i.length===1&&i[0].startsWith("host_id.eq.")?a=a.eq("host_id",r):i.length>0&&(a=a.or(i.join(",")));const{data:c,error:u}=await a;if(u)throw u;return(c??[]).map(Ai)},lB=async(e,t)=>{const{data:n,error:r}=await le.from("booking_requests").select("*").eq("id",e).single();if(r)throw r;if(!n)throw new Error("Booking request not found.");if(t==="approved"&&n.couch_id&&n.stay_start&&n.stay_end){const{data:i,error:c}=await le.from("booking_requests").select("id, stay_start, stay_end").eq("couch_id",n.couch_id).eq("status","approved").neq("id",e);if(c)throw c;const u=Hm(n.stay_start),d=ux(n.stay_end,u);if((i??[]).some(p=>{const m=Hm(p.stay_start),w=ux(p.stay_end,m);return u<w&&d>m}))throw new Error("Another booking has already been approved for this listing during the selected dates.")}const s={status:t};if(t==="approved"){const i=new Date(Date.now()+sB*60*60*1e3).toISOString();s.payment_status="pending",s.payment_due_at=i}else n.payment_status!=="paid"&&(s.payment_status=null,s.payment_due_at=null);const{data:o,error:a}=await le.from("booking_requests").update(s).eq("id",e).select("*").single();if(a)throw a;return Ai(o)},cB=async(e,t)=>{if(!Jl(t))throw new Error("Sign in to cancel your booking request.");const{data:r,error:s}=await le.functions.invoke("cancel-booking",{body:{requestId:e}});if(s)throw s;if(!(r!=null&&r.booking))throw new Error("Unable to cancel booking request.");return Ai(r.booking)},jk=async(e,t)=>{const{data:n,error:r}=await le.from("direct_messages").select("id, sender_id, receiver_id, content, created_at").or(`and(sender_id.eq.${e},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${e})`).order("created_at",{ascending:!0});if(r)throw r;return n??[]},Pk=async(e,t,n)=>{const{data:r,error:s}=await le.from("direct_messages").insert({sender_id:e,receiver_id:t,content:n}).select().single();if(s)throw s;return r??null},uB=async e=>{const{data:t,error:n}=await le.from("direct_messages").select("id, sender_id, receiver_id, content, created_at").or(`sender_id.eq.${e},receiver_id.eq.${e}`).order("created_at",{ascending:!1}).limit(200);if(n)throw n;const r=new Map;return(t??[]).forEach(s=>{const o=s.sender_id===e?s.receiver_id:s.sender_id;r.has(o)||r.set(o,s)}),Array.from(r.entries()).map(([s,o])=>({otherUserId:s,lastMessage:o}))},dB={bsc:"Bachelor (BSc)",msc:"Master (MSc)",phd:"Doctorate (PhD)",other:"Other program"},fB=e=>{if(!(e!=null&&e.start)||!(e!=null&&e.end))return null;const t=At(new Date(e.start)),n=bv(new Date(e.end));return Number.isNaN(t.getTime())||Number.isNaN(n.getTime())?null:{start:t,end:n}},dx=(e,t)=>{if(!(e!=null&&e.from)||!(e!=null&&e.to))return!1;const n=At(new Date),r=At(e.from),s=bv(e.to);return Zo(r,n)?!1:t?!Zo(r,t.start)&&!Kl(s,t.end):!0},fx=(e,t)=>{const n=At(e),r=At(new Date);return Zo(n,r)?!0:t?Zo(n,t.start)||Kl(n,t.end):!1},hB=[Jo,hd,pd,md,gd,vd],pB=e=>{if(!(e!=null&&e.start)||!(e!=null&&e.end))return"Flexible availability";const t=new Date(e.start),n=new Date(e.end);if(Number.isNaN(t.getTime())||Number.isNaN(n.getTime()))return"Flexible availability";const r=t.getMonth()===n.getMonth(),s=Me(t,"MMM d"),o=r?Me(n,"d"):Me(n,"MMM d");return`${s}-${o}`},mB=e=>{if(!e)return"$0";const t=e.trim();return t?t.startsWith("$")?t:`$${t}`:"$0"},Qh=e=>e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:null,gB=()=>{var mo,go;const e=dr(),t=ia(),n=ID(),r=(mo=t.state)==null?void 0:mo.couch,{toast:s}=ur(),{profile:o,session:a}=Nn(),i=Fv(o,a),[c,u]=f.useState(),[d,h]=f.useState(!1),[p,m]=f.useState(r??null),[w,v]=f.useState(!r),[y,x]=f.useState(null),[g,b]=f.useState(null),[S,_]=f.useState(null),[C,N]=f.useState([]),[T,L]=f.useState(!1),[$,V]=f.useState(null),[F,I]=f.useState(""),[j,z]=f.useState(!1),[A,M]=f.useState(!1),[E,R]=f.useState(!1),[W,J]=f.useState(!1),[Y,ce]=f.useState(!1),[B,D]=f.useState(0),U=p,H=U?fB(U.availability):null,ie=(c==null?void 0:c.from)&&(c==null?void 0:c.to),ye=ie?dx(c,H):!1,he=ie?Math.max(1,Ln(At(c.to),At(c.from))):0,xe=f.useCallback(async()=>{if(g!=null&&g.hostId)return g;if(!U)throw new Error("Listing details are not available yet.");const pe=U.host??"Host",Ie=U.hostEmail??null,Oe=Qh(U.hostId??null);if(Oe)return{hostId:Oe,hostName:pe,hostEmail:Ie};const te=await Kh({listingId:U.id,hostEmail:Ie,hostName:pe});if(te!=null&&te.hostId){const re=Qh(te.hostId);if(re)return{hostId:re,hostName:te.hostName??pe,hostEmail:te.hostEmail??Ie}}throw new Error("Unable to determine host details for this listing.")},[U,g]);if(f.useEffect(()=>{if(r){m(r),v(!1);return}const pe=n.id;if(!pe){x("Missing listing identifier."),v(!1);return}let Ie=!0;return(async()=>{try{v(!0);const{data:te,error:re}=await le.from("listings").select("id, user_id, host_name, host_email, address, property_type, price_per_night, check_in_time, availability_start, availability_end, photos, documents, created_at").eq("id",pe).maybeSingle();if(re)throw re;if(!te)throw new Error("Listing not found.");const oe=te.availability_start&&te.availability_end?{start:te.availability_start,end:te.availability_end}:null,_e=Array.isArray(te.photos)?te.photos:[],et=_e[0]??hB[0],ht=te.property_type?`${te.property_type==="house"?"House":"Flat"} couch`:"Community couch",Pt={id:te.id,image:et,price:mB(te.price_per_night?String(te.price_per_night):"$0"),title:ht,host:te.host_name??"Community host",hostEmail:te.host_email??null,location:te.address??"Address shared after booking",country:null,city:null,addressLine:te.address??null,availableDates:oe?pB(oe):te.check_in_time?`Check-in after ${te.check_in_time}`:"Flexible availability",description:te.created_at?`Listing published on ${new Date(te.created_at).toLocaleDateString()}`:"Listing added by our host community.",hostId:te.user_id??null,availability:oe,coordinates:null,gallery:_e.length?_e:et?[et]:[]};Ie&&(m(Pt),x(null))}catch(te){if(!Ie)return;const re=te instanceof Error?te.message:"Unable to load listing.";x(re),m(null)}finally{Ie&&v(!1)}})(),()=>{Ie=!1}},[r,n.id]),f.useEffect(()=>{y&&s({title:"Listing unavailable",description:y,variant:"destructive"})},[y,s]),f.useEffect(()=>{if(typeof window>"u")return;let pe=!0;const Ie=async()=>{if(!i||!(U!=null&&U.id)){pe&&M(!1);return}R(!0);try{const te=await kd(i);if(!pe)return;const re=Cd(U.id),oe=te.some(_e=>_e.couchId===U.id||_e.storageId===re);M(oe)}catch(te){pe&&(console.warn("Unable to sync wishlist state",te),M(!1))}finally{pe&&R(!1)}};Ie();const Oe=()=>Ie();return window.addEventListener("wishlist-updated",Oe),()=>{pe=!1,window.removeEventListener("wishlist-updated",Oe)}},[U==null?void 0:U.id,i]),f.useEffect(()=>{if(!U)return;let pe=!0;return(async()=>{var Oe;try{const te=await xe();if(!pe)return;b(te);try{const oe=await I3(te.hostId);if(!pe)return;_({name:(Oe=oe==null?void 0:oe.full_name)!=null&&Oe.trim()?oe.full_name:(oe==null?void 0:oe.email)??te.hostName,role:(oe==null?void 0:oe.user_role)??null,university:(oe==null?void 0:oe.university)??null,programName:(oe==null?void 0:oe.program_name)??null,programType:(oe==null?void 0:oe.program_type)??null,programYear:(oe==null?void 0:oe.program_year)??null,avatarUrl:(oe==null?void 0:oe.avatar_url)??null})}catch(oe){console.warn("Failed to fetch host profile",oe),pe&&_({name:te.hostName,role:null,university:null,programName:null,programType:null,programYear:null,avatarUrl:null})}if(!(o!=null&&o.id))return;L(!0);const re=await jk(o.id,te.hostId);if(!pe)return;N(re),V(null)}catch(te){if(!pe)return;const re=te instanceof Error?te.message:"Unable to load conversation.";V(re)}finally{pe&&L(!1)}})(),()=>{pe=!1}},[U,o==null?void 0:o.id,xe]),f.useEffect(()=>{if(!(o!=null&&o.id)||!(g!=null&&g.hostId))return;const pe=le.channel(`direct-messages-${o.id}-${g.hostId}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},Ie=>{const Oe=Ie.new;(Oe.sender_id===o.id&&Oe.receiver_id===g.hostId||Oe.sender_id===g.hostId&&Oe.receiver_id===o.id)&&N(te=>te.some(re=>re.id===Oe.id)?te:[...te,Oe])}).subscribe();return()=>{le.removeChannel(pe)}},[o==null?void 0:o.id,g==null?void 0:g.hostId]),w)return l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading listing"})});if(!U)return l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Listing not available"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:y??"We couldn't find that couch."}),l.jsx(Se,{variant:"outline",onClick:()=>e("/listings",{replace:!0}),children:"Back to listings"})]})});const ue=80,O=U.location.length>ue,G=O&&!Y?`${U.location.slice(0,ue).trimEnd()}`:U.location,ne=pe=>{if(!O)return null;const Ie=pe==="light"?"text-xs font-semibold text-white underline underline-offset-4":"text-xs font-semibold text-sketch-blue underline underline-offset-4";return l.jsx("button",{type:"button",className:`ml-2 ${Ie}`,onClick:()=>ce(Oe=>!Oe),children:Y?"Hide full address":"Show full address"})},we=async()=>{var re,oe;if(!(c!=null&&c.from)||!(c!=null&&c.to)){s({title:"Select stay dates",description:"Pick your check-in and check-out dates before requesting a booking.",variant:"destructive"});return}if(!dx(c,H)){s({title:"Dates unavailable",description:"Please choose dates within the host's availability window.",variant:"destructive"});return}if(!(o!=null&&o.id)){s({title:"Sign in required",description:"Sign in to request a booking.",variant:"destructive"});return}const pe=At(new Date),Ie=At(c.from);if(Zo(Ie,pe)){s({title:"Choose future dates",description:"Bookings can only be requested for future stays.",variant:"destructive"});return}h(!0);const Oe=At(c.from).toISOString(),te=bv(c.to).toISOString();try{const _e=g??await Kh({listingId:U.id,hostEmail:U.hostEmail??null,hostName:U.host});if(!_e||!_e.hostId)throw new Error("We couldn't find a host for this listing. Try refreshing the listings page.");const et=g??{hostId:_e.hostId,hostName:_e.hostName??U.host??"Host",hostEmail:_e.hostEmail??U.hostEmail??null},ht=(re=o.id)==null?void 0:re.trim(),Pt=(oe=et.hostId)==null?void 0:oe.trim();if(ht&&Pt&&ht===Pt){s({title:"This is your couch",description:"Hosts can't request bookings for their own listings.",variant:"destructive"});return}g||b(et),await Nk({couchId:U.id,couchTitle:U.title,hostId:et.hostId,hostName:et.hostName,hostEmail:et.hostEmail??void 0,renterId:Qh(o.id),renterName:o.full_name??o.email??"Guest renter",stayStart:Oe,stayEnd:te,nights:he,pricePerNight:U.price,status:"pending",createdAt:new Date().toISOString()}),s({title:"Booking request sent",description:"We'll share your booking request with the host."}),u(void 0)}catch(_e){console.error("Failed to create booking request",_e),s({title:"Request failed",description:_e instanceof Error?_e.message:"We couldn't share your request. Please try again.",variant:"destructive"})}finally{h(!1)}},Ze=async pe=>{if(pe.preventDefault(),!(o!=null&&o.id)){V("Sign in to message the host.");return}let Ie=g;if(!Ie){const te=await Kh({listingId:U.id,hostEmail:U.hostEmail??null,hostName:U.host});if(!te||!te.hostId){V("Unable to load host details.");return}Ie={hostId:te.hostId,hostName:te.hostName??U.host??"Host",hostEmail:te.hostEmail??U.hostEmail??null},b(Ie)}if(!Ie)return;if(o.id===Ie.hostId){V("You cannot message yourself as the host.");return}const Oe=F.trim();if(!Oe){V("Please enter a message.");return}z(!0),V(null);try{const te=await Pk(o.id,Ie.hostId,Oe);te&&N(re=>[...re,te]),I("")}catch(te){const re=te instanceof Error?te.message:"Failed to send message.";V(re)}finally{z(!1)}},Dt=ie?`${Me(c.from,"MMM d, yyyy")}  ${Me(c.to,"MMM d, yyyy")}`:"Select stay dates",pn=c!=null&&c.from?Me(c.from,"EEE, MMM d"):"Pick a start date",Dr=c!=null&&c.to?Me(c.to,"EEE, MMM d"):c!=null&&c.from?"Select an end date":"Pick an end date",mn=ye?`${he}`:"",jt=(go=S==null?void 0:S.name)!=null&&go.trim()?S.name:U.host,Qt=jt?jt.charAt(0).toUpperCase():"H",cs=(S==null?void 0:S.role)??"Community host",hr=(S==null?void 0:S.avatarUrl)??null,Ve=(S==null?void 0:S.university)??null,Jt=(S==null?void 0:S.programName)??null,Lr=S!=null&&S.programType?dB[S.programType]??S.programType:null,$r=S!=null&&S.programYear?`Year ${S.programYear}`:null;U.availability;const xt=f.useMemo(()=>{var Ie;if(!U)return[];if(Array.isArray(U.gallery)&&U.gallery.length)return U.gallery;const pe=(Ie=U.availability)==null?void 0:Ie.photos;return Array.isArray(pe)&&pe.length?pe:U.image?[U.image]:[]},[U]),Mi=xt.length>1,us=xt[B]??(U==null?void 0:U.image)??Jo;f.useEffect(()=>{D(0)},[U==null?void 0:U.id,xt.length]);const jn=f.useCallback(()=>{D(pe=>xt.length?(pe-1+xt.length)%xt.length:0)},[xt.length]),pr=f.useCallback(()=>{D(pe=>xt.length?(pe+1)%xt.length:0)},[xt.length]),da=!!(g!=null&&g.hostId&&(o!=null&&o.id)&&o.id!==g.hostId),Hn=!!(g!=null&&g.hostId&&(o!=null&&o.id)&&o.id===g.hostId),ds=()=>u(void 0),po=async()=>{if(U){if(!i){s({title:"Sign in to save couches",description:"Create an account or sign in to keep a wishlist.",variant:"destructive"});return}J(!0);try{A?(await Uv(i,U.id),M(!1),s({title:"Removed from wishlist",description:`${U.title} is no longer saved.`})):(await nC(i,U.id,zC(U)),M(!0),s({title:"Saved to wishlist",description:`${U.title} was added for later.`}))}catch(pe){console.error("Wishlist update failed",pe),s({title:"Unable to update wishlist",description:"Please try again shortly.",variant:"destructive"})}finally{J(!1)}}};return l.jsxs("main",{className:"dreamy-bg min-h-screen",children:[l.jsx("header",{className:"border-b border-sketch/70 bg-white/90 backdrop-blur-sm",children:l.jsxs("div",{className:"mx-auto flex max-w-6xl items-center gap-3 px-4 py-3",children:[l.jsxs(Se,{variant:"ghost",size:"icon",onClick:()=>e("/listings"),className:"rounded-full border border-transparent hover:border-sketch/70",children:[l.jsx(SI,{className:"h-5 w-5 text-sketch-blue"}),l.jsx("span",{className:"sr-only",children:"Back to listings"})]}),l.jsx("p",{className:"hidden text-sm text-muted-foreground sm:block",children:"Browse more community couches"})]})}),l.jsxs("div",{className:"mx-auto max-w-6xl space-y-10 px-4 py-8",children:[l.jsx("section",{className:"overflow-hidden rounded-[32px] border-2 border-sketch bg-white shadow-[0_25px_80px_rgba(30,64,175,0.12)]",children:l.jsxs("div",{className:"relative h-[260px] sm:h-[360px]",children:[l.jsx("img",{src:us,alt:U.title,className:"h-full w-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/75 via-black/10 to-transparent"}),Mi&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:jn,className:"absolute left-4 top-1/2 hidden -translate-y-1/2 rounded-full border border-white/50 bg-white/70 p-2 text-slate-700 shadow-md transition hover:bg-white sm:flex",children:[l.jsx("span",{className:"sr-only",children:"Previous photo"}),l.jsx(k_,{className:"h-4 w-4"})]}),l.jsxs("button",{type:"button",onClick:pr,className:"absolute right-4 top-1/2 hidden -translate-y-1/2 rounded-full border border-white/50 bg-white/70 p-2 text-slate-700 shadow-md transition hover:bg-white sm:flex",children:[l.jsx("span",{className:"sr-only",children:"Next photo"}),l.jsx(Zg,{className:"h-4 w-4"})]}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-2 rounded-full bg-black/40 px-3 py-1 text-xs font-medium text-white",children:[l.jsxs("span",{children:["Photo ",B+1]}),l.jsxs("span",{className:"opacity-70",children:["/ ",xt.length]})]})]}),l.jsx("div",{className:"absolute right-5 top-5 flex gap-2",children:l.jsxs("button",{type:"button",onClick:po,disabled:W||E,className:`rounded-full border border-white/50 bg-black/30 p-3 text-white backdrop-blur transition hover:bg-black/50 ${A?"text-rose-400":""}`,children:[l.jsx(od,{className:`h-5 w-5 ${A?"fill-rose-400":""}`}),l.jsx("span",{className:"sr-only",children:A?"Remove from wishlist":"Save to wishlist"})]})}),l.jsxs("div",{className:"absolute inset-x-0 bottom-0 space-y-6 px-6 pb-6 pt-10 text-white sm:px-10",children:[l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/70",children:"Community stay"}),l.jsx("h1",{className:"text-3xl font-semibold sm:text-4xl",children:U.title})]}),l.jsxs("div",{className:"text-4xl font-bold",children:[U.price,l.jsx("span",{className:"ml-1 text-sm font-normal text-white/80",children:"/night"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/40 bg-white/10 px-4 py-1.5 font-medium backdrop-blur",children:[l.jsx(ev,{className:"h-4 w-4"}),l.jsxs("span",{className:"flex items-center gap-2",children:[G,ne("light")]})]}),jt&&l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/40 bg-white/10 px-4 py-1.5 font-medium backdrop-blur",children:[l.jsx(NI,{className:"h-4 w-4"}),"Hosted by ",jt]})]})]})]})}),l.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1.7fr,1fr]",children:[l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-6 rounded-[28px] border-2 border-sketch bg-white/95 p-6 shadow-sm",children:[l.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(_k,{className:"h-14 w-14 border border-sketch/30",children:[l.jsx(Ek,{src:hr??void 0,alt:`${jt} profile photo`,className:"h-full w-full object-cover"}),l.jsx(Ck,{className:"bg-sketch-blue/10 text-xl font-semibold text-sketch-blue",children:Qt})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Host"}),l.jsx("p",{className:"text-xl font-semibold text-sketch-dark",children:jt}),cs&&l.jsx("p",{className:"text-sm text-muted-foreground",children:cs})]})]})}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Location"}),l.jsxs("p",{className:"text-base font-semibold text-sketch-dark",children:[G,ne("dark")]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Exact address shared after booking"})]}),l.jsxs("div",{className:"rounded-2xl border border-dashed border-sketch/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Price"}),l.jsx("p",{className:"text-lg font-semibold text-sketch-dark",children:U.price}),l.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Per night"})]}),(Ve||Jt||Lr)&&l.jsxs("div",{className:"rounded-2xl border border-dashed border-sketch/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Student profile"}),l.jsx("p",{className:"text-lg font-semibold text-sketch-dark",children:Ve??"University not shared yet"}),l.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[Jt??"Program details coming soon",Lr&&`  ${Lr}`,$r&&`  ${$r}`]})]})]}),l.jsxs("div",{className:"rounded-[28px] border-2 border-sketch bg-white p-6 space-y-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-sketch-dark",children:"About this couch"}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:U.description})]})]}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-5 rounded-[28px] border-2 border-sketch bg-white p-6 shadow-lg shadow-sketch-blue/5",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Request a stay"}),l.jsx("h3",{className:"text-2xl font-semibold text-sketch-dark",children:"Plan your visit"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:ye&&ie?`${he} night${he===1?"":"s"}`:"Flexible"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("p",{children:"Select a start and end date for your stay."}),ie&&l.jsx("button",{type:"button",onClick:ds,className:"text-xs font-medium uppercase tracking-wide text-sketch-blue hover:underline",children:"Clear"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"sm:hidden",children:l.jsxs(EE,{children:[l.jsx(CE,{asChild:!0,children:l.jsx(Se,{variant:"outline",className:"w-full justify-between text-left font-normal",children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Jg,{className:"h-4 w-4"}),Dt]})})}),l.jsx(Ov,{align:"start",className:"p-0",children:l.jsx(xd,{initialFocus:!0,mode:"range",numberOfMonths:1,selected:c,onSelect:u,disabled:pe=>fx(pe,H)})})]})}),l.jsx("div",{className:"hidden rounded-2xl border border-dashed border-sketch/60 bg-muted/40 p-3 sm:block",children:l.jsx(xd,{initialFocus:!0,mode:"range",numberOfMonths:2,selected:c,onSelect:u,disabled:pe=>fx(pe,H)})})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-2xl border border-dashed border-sketch/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Check-in"}),l.jsx("p",{className:"text-base font-semibold text-sketch-dark",children:pn})]}),l.jsxs("div",{className:"rounded-2xl border border-dashed border-sketch/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Check-out"}),l.jsx("p",{className:"text-base font-semibold text-sketch-dark",children:Dr})]}),l.jsxs("div",{className:"rounded-2xl border border-dashed border-sketch/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Nights"}),l.jsx("p",{className:"text-3xl font-semibold text-sketch-dark",children:mn})]})]}),ie&&ye&&l.jsxs("div",{className:"rounded-2xl bg-muted/40 px-4 py-2 text-sm text-muted-foreground",children:["You're requesting ",he," night",he===1?"":"s"," from ",Me(c.from,"MMM d")," to ",Me(c.to,"MMM d"),"."]}),ie&&!ye&&l.jsx("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/10 px-4 py-2 text-sm text-destructive",children:"The selected dates are outside the host's availability."}),l.jsx(Se,{className:"w-full rounded-full text-base font-semibold",size:"lg",onClick:we,disabled:!ye||d,children:d?"Sending request...":"Request booking"})]}),l.jsxs("section",{className:"space-y-4 rounded-[28px] border-2 border-sketch bg-white p-6",children:[l.jsxs("header",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:["Chat with ",jt]}),l.jsx("h3",{className:"text-xl font-semibold text-sketch-dark",children:"Coordinate details"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Start a direct conversation with the host to make sure the stay fits what you need."})]}),!(g!=null&&g.hostId)&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Messaging is unavailable for this listing."}),Hn&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"You are viewing your own listing. Guests will be able to message you here."}),da&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"h-64 space-y-3 overflow-y-auto rounded-2xl border border-dashed border-sketch/60 bg-muted/40 p-3",children:[T&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading conversation"}),!T&&C.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet. Say hello!"}),C.map(pe=>l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-3 py-2 text-sm shadow-sm ${pe.sender_id===o.id?"ml-auto bg-primary text-primary-foreground":"mr-auto bg-card"}`,children:[l.jsx("p",{className:"whitespace-pre-line break-words",children:pe.content}),l.jsx("p",{className:"mt-1 text-[11px] opacity-70",children:Me(new Date(pe.created_at),"MMM d, yyyy  h:mm a")})]},pe.id))]}),l.jsxs("form",{onSubmit:Ze,className:"space-y-2",children:[l.jsx(Ti,{value:F,onChange:pe=>{I(pe.target.value),$&&V(null)},placeholder:"Write a message to the host",rows:3}),$&&l.jsx("p",{className:"text-sm text-destructive",children:$}),l.jsx(Se,{type:"submit",disabled:j||!F.trim(),children:j?"Sending":"Send message"})]})]}),!(o!=null&&o.id)&&(g==null?void 0:g.hostId)&&!Hn&&l.jsx("p",{className:"text-sm text-destructive",children:"Sign in to start a conversation with this host."})]})]})]})]})]})},Gv=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Gv.displayName="Card";const Tk=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));Tk.displayName="CardHeader";const qv=f.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));qv.displayName="CardTitle";const Qv=f.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));Qv.displayName="CardDescription";const Rk=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...t}));Rk.displayName="CardContent";const vB=f.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...t}));vB.displayName="CardFooter";var Jh="rovingFocusGroup.onEntryFocus",yB={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[Vm,Ik,wB]=nf(Nc),[xB,Of]=Kt(Nc,[wB]),[bB,SB]=xB(Nc),Ok=f.forwardRef((e,t)=>l.jsx(Vm.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Vm.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(_B,{...e,ref:t})})}));Ok.displayName=Nc;var _B=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=Ce(t,p),w=_c(o),[v,y]=os({prop:a,defaultProp:i??null,onChange:c,caller:Nc}),[x,g]=f.useState(!1),b=at(u),S=Ik(n),_=f.useRef(!1),[C,N]=f.useState(0);return f.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Jh,b),()=>T.removeEventListener(Jh,b)},[b]),l.jsx(bB,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:f.useCallback(T=>y(T),[y]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(T=>T+1),[]),onFocusableItemRemove:f.useCallback(()=>N(T=>T-1),[]),children:l.jsx(fe.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{_.current=!0}),onFocus:Q(e.onFocus,T=>{const L=!_.current;if(T.target===T.currentTarget&&L&&!x){const $=new CustomEvent(Jh,yB);if(T.currentTarget.dispatchEvent($),!$.defaultPrevented){const V=S().filter(A=>A.focusable),F=V.find(A=>A.active),I=V.find(A=>A.id===v),z=[F,I,...V].filter(Boolean).map(A=>A.ref.current);Dk(z,d)}}_.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),Ak="RovingFocusGroupItem",Mk=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...i}=e,c=Tr(),u=o||c,d=SB(Ak,n),h=d.currentTabStopId===u,p=Ik(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:v}=d;return f.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),l.jsx(Vm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:Q(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=kB(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(y.currentTarget);b=d.loop?NB(b,S+1):b.slice(S+1)}setTimeout(()=>Dk(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});Mk.displayName=Ak;var EB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kB(e,t,n){const r=CB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EB[r]}function Dk(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Lk=Ok,$k=Mk,Jv="Radio",[jB,Fk]=Kt(Jv),[PB,TB]=jB(Jv),Uk=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:i="on",onCheck:c,form:u,...d}=e,[h,p]=f.useState(null),m=Ce(t,y=>p(y)),w=f.useRef(!1),v=h?u||!!h.closest("form"):!0;return l.jsxs(PB,{scope:n,checked:s,disabled:a,children:[l.jsx(fe.button,{type:"button",role:"radio","aria-checked":s,"data-state":Hk(s),"data-disabled":a?"":void 0,disabled:a,value:i,...d,ref:m,onClick:Q(e.onClick,y=>{s||c==null||c(),v&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),v&&l.jsx(zk,{control:h,bubbles:!w.current,name:r,value:i,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});Uk.displayName=Jv;var Bk="RadioIndicator",Wk=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=TB(Bk,n);return l.jsx(_t,{present:r||o.checked,children:l.jsx(fe.span,{"data-state":Hk(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Wk.displayName=Bk;var RB="RadioBubbleInput",zk=f.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const a=f.useRef(null),i=Ce(a,o),c=Bv(n),u=cv(t);return f.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[c,n,r]),l.jsx(fe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zk.displayName=RB;function Hk(e){return e?"checked":"unchecked"}var IB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Af="RadioGroup",[OB,Lz]=Kt(Af,[Of,Fk]),Vk=Of(),Yk=Fk(),[AB,MB]=OB(Af),Kk=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:i=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,m=Vk(n),w=_c(u),[v,y]=os({prop:o,defaultProp:s??null,onChange:h,caller:Af});return l.jsx(AB,{scope:n,name:r,required:a,disabled:i,value:v,onValueChange:y,children:l.jsx(Lk,{asChild:!0,...m,orientation:c,dir:w,loop:d,children:l.jsx(fe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":i?"":void 0,dir:w,...p,ref:t})})})});Kk.displayName=Af;var Gk="RadioGroupItem",qk=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=MB(Gk,n),a=o.disabled||r,i=Vk(n),c=Yk(n),u=f.useRef(null),d=Ce(t,u),h=o.value===s.value,p=f.useRef(!1);return f.useEffect(()=>{const m=v=>{IB.includes(v.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),l.jsx($k,{asChild:!0,...i,focusable:!a,active:h,children:l.jsx(Uk,{disabled:a,required:o.required,checked:h,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:Q(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Q(s.onFocus,()=>{var m;p.current&&((m=u.current)==null||m.click())})})})});qk.displayName=Gk;var DB="RadioGroupIndicator",Qk=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=Yk(n);return l.jsx(Wk,{...s,...r,ref:t})});Qk.displayName=DB;var Jk=Kk,Xk=qk,LB=Qk;const Xv=f.forwardRef(({className:e,...t},n)=>l.jsx(Jk,{className:ge("grid gap-2",e),...t,ref:n}));Xv.displayName=Jk.displayName;const Rd=f.forwardRef(({className:e,...t},n)=>l.jsx(Xk,{ref:n,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(LB,{className:"flex items-center justify-center",children:l.jsx(N_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rd.displayName=Xk.displayName;const Zk=f.createContext(void 0),Zv=()=>{const e=f.useContext(Zk);if(!e)throw new Error("useSession must be used within a SessionProvider");return e},eN=e=>({id:e.id,email:e.email,full_name:e.full_name,user_role:e.user_role??"renter",avatar_url:e.avatar_url,bio:e.bio,student_id_url:e.student_id_url,university:e.university,program_name:e.program_name,program_year:e.program_year,program_type:e.program_type,payout_account_holder:e.payout_account_holder,payout_account_number:e.payout_account_number,payout_bank_name:e.payout_bank_name,payout_bank_country:e.payout_bank_country,created_at:e.created_at,updated_at:e.updated_at}),tN=async e=>{const{data:t,error:n}=await le.from("user_profiles").select("*").eq("id",e).maybeSingle();if(n)throw n;return t?eN(t):null},ey=async e=>{const t={id:e.id,email:e.email,full_name:e.full_name??null,user_role:e.user_role??"renter",avatar_url:e.avatar_url??null,bio:e.bio??null,student_id_url:e.student_id_url??null,university:e.university??null,program_name:e.program_name??null,program_year:e.program_year??null,program_type:e.program_type??null,payout_account_holder:e.payout_account_holder??null,payout_account_number:e.payout_account_number??null,payout_bank_name:e.payout_bank_name??null,payout_bank_country:e.payout_bank_country??null,updated_at:new Date().toISOString()},{data:n,error:r}=await le.from("user_profiles").upsert(t,{onConflict:"id"}).select("*").single();if(r)throw r;return eN(n)},$B=["Harvard University","Stanford University","Massachusetts Institute of Technology","University of Cambridge","University of Oxford","Columbia University","University of California, Berkeley","University of Chicago","Princeton University","Yale University","University of Pennsylvania","California Institute of Technology","University of California, Los Angeles","Imperial College London","University College London","ETH Zrich","cole Polytechnique Fdrale de Lausanne","University of Toronto","McGill University","University of British Columbia","University of Melbourne","Australian National University","University of Sydney","University of New South Wales","National University of Singapore","Nanyang Technological University","Peking University","Tsinghua University","University of Tokyo","Kyoto University","Seoul National University","University of Hong Kong","University of Michigan","University of Washington","New York University","University of Illinois Urbana-Champaign","University of WisconsinMadison","University of Texas at Austin","Duke University","Johns Hopkins University","Cornell University","Carnegie Mellon University","Georgia Institute of Technology","University of Edinburgh","University of Manchester","University of Bristol","University of Glasgow","University of Warwick","University of Leeds","Trinity College Dublin","University of Copenhagen","University of Helsinki","University of Oslo","University of Stockholm","University of Amsterdam","Leiden University","University of Groningen","KU Leuven","Ghent University","Ludwig Maximilian University of Munich","Technical University of Munich","University of Heidelberg","University of Freiburg","University of Bonn","Sorbonne University","Universit PSL","cole Polytechnique","University of Barcelona","University of Madrid (Complutense)","University of Lisbon","University of Porto","University of So Paulo","Pontifical Catholic University of Chile","University of Buenos Aires","University of Cape Town","American University in Cairo","King Saud University","University of Zurich","University of Geneva","University of Bern","University of St. Gallen","University of Basel","University of Lausanne","University of Fribourg","University of Neuchtel"],nN=(e,t=6)=>{const n=e.trim().toLowerCase();return n?$B.filter(r=>r.toLowerCase().includes(n)).slice(0,t):[]},Id="profile-photos",FB="student-ids",UB="selfies",rN=e=>{const t=e.name.split(".").pop();return`${typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2)}${t?`.${t}`:""}`},sN=async(e,t)=>{const n=rN(t),r=`${e}/${FB}/${n}`,{error:s}=await le.storage.from(Id).upload(r,t,{cacheControl:"3600",upsert:!0});if(s)throw new Error(s.message??"Failed to upload student ID.");const{data:o}=le.storage.from(Id).getPublicUrl(r);if(!(o!=null&&o.publicUrl))throw new Error("Unable to fetch uploaded student ID URL.");return o.publicUrl},BB=async(e,t)=>{const n=rN(t),r=`${e}/${UB}/${n}`,{error:s}=await le.storage.from(Id).upload(r,t,{cacheControl:"3600",upsert:!0});if(s)throw new Error(s.message??"Failed to upload selfie.");const{data:o}=le.storage.from(Id).getPublicUrl(r);if(!(o!=null&&o.publicUrl))throw new Error("Unable to fetch uploaded selfie URL.");return o.publicUrl};var Mf="Checkbox",[WB,$z]=Kt(Mf),[zB,ty]=WB(Mf);function HB(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:i,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[p,m]=os({prop:n,defaultProp:s??!1,onChange:c,caller:Mf}),[w,v]=f.useState(null),[y,x]=f.useState(null),g=f.useRef(!1),b=w?!!a||!!w.closest("form"):!0,S={checked:p,disabled:o,setChecked:m,control:w,setControl:v,name:i,form:a,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Js(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:x};return l.jsx(zB,{scope:t,...S,children:VB(h)?h(S):r})}var oN="CheckboxTrigger",aN=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:a,disabled:i,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:w}=ty(oN,e),v=Ce(s,d),y=f.useRef(c);return f.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const g=()=>h(y.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[o,h]),l.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":Js(c)?"mixed":c,"aria-required":u,"data-state":dN(c),"data-disabled":i?"":void 0,disabled:i,value:a,...r,ref:v,onKeyDown:Q(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Q(n,x=>{h(g=>Js(g)?!0:!g),w&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});aN.displayName=oN;var ny=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:i,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(HB,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:i,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(aN,{...h,ref:t,__scopeCheckbox:n}),p&&l.jsx(uN,{__scopeCheckbox:n})]})})});ny.displayName=Mf;var iN="CheckboxIndicator",lN=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=ty(iN,n);return l.jsx(_t,{present:r||Js(o.checked)||o.checked===!0,children:l.jsx(fe.span,{"data-state":dN(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});lN.displayName=iN;var cN="CheckboxBubbleInput",uN=f.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:i,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:m}=ty(cN,e),w=Ce(n,m),v=Bv(o),y=cv(r);f.useEffect(()=>{const g=p;if(!g)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,C=!s.current;if(v!==o&&_){const N=new Event("click",{bubbles:C});g.indeterminate=Js(o),_.call(g,Js(o)?!1:o),g.dispatchEvent(N)}},[p,v,o,s]);const x=f.useRef(Js(o)?!1:o);return l.jsx(fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:i,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uN.displayName=cN;function VB(e){return typeof e=="function"}function Js(e){return e==="indeterminate"}function dN(e){return Js(e)?"indeterminate":e?"checked":"unchecked"}const fN=f.forwardRef(({className:e,...t},n)=>l.jsx(ny,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(lN,{className:ge("flex items-center justify-center text-current"),children:l.jsx(Xg,{className:"h-4 w-4"})})}));fN.displayName=ny.displayName;function YB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var ry="ScrollArea",[hN,Fz]=Kt(ry),[KB,zn]=hN(ry),pN=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...a}=e,[i,c]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,w]=f.useState(null),[v,y]=f.useState(null),[x,g]=f.useState(0),[b,S]=f.useState(0),[_,C]=f.useState(!1),[N,T]=f.useState(!1),L=Ce(t,V=>c(V)),$=_c(s);return l.jsx(KB,{scope:n,type:r,dir:$,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:T,onCornerWidthChange:g,onCornerHeightChange:S,children:l.jsx(fe.div,{dir:$,...a,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});pN.displayName=ry;var mN="ScrollAreaViewport",gN=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,a=zn(mN,n),i=f.useRef(null),c=Ce(t,i,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gN.displayName=mN;var Mr="ScrollAreaScrollbar",sy=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(Mr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,i=e.orientation==="horizontal";return f.useEffect(()=>(i?o(!0):a(!0),()=>{i?o(!1):a(!1)}),[i,o,a]),s.type==="hover"?l.jsx(GB,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(qB,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(vN,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(oy,{...r,ref:t}):null});sy.displayName=Mr;var GB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(Mr,e.__scopeScrollArea),[o,a]=f.useState(!1);return f.useEffect(()=>{const i=s.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(_t,{present:n||o,children:l.jsx(vN,{"data-state":o?"visible":"hidden",...r,ref:t})})}),qB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(Mr,e.__scopeScrollArea),o=e.orientation==="horizontal",a=Lf(()=>c("SCROLL_END"),100),[i,c]=YB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,c,a]),l.jsx(_t,{present:n||i!=="hidden",children:l.jsx(oy,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vN=f.forwardRef((e,t)=>{const n=zn(Mr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,a]=f.useState(!1),i=e.orientation==="horizontal",c=Lf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(i?u:d)}},10);return yi(n.viewport,c),yi(n.content,c),l.jsx(_t,{present:r||o,children:l.jsx(oy,{"data-state":o?"visible":"hidden",...s,ref:t})})}),oy=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=zn(Mr,e.__scopeScrollArea),o=f.useRef(null),a=f.useRef(0),[i,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=SN(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,m){return t6(p,a.current,i,m)}return n==="horizontal"?l.jsx(QB,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=hx(p,i,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?l.jsx(JB,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=hx(p,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),QB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=zn(Mr,e.__scopeScrollArea),[a,i]=f.useState(),c=f.useRef(null),u=Ce(t,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(wN,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Df(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),EN(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ad(a.paddingLeft),paddingEnd:Ad(a.paddingRight)}})}})}),JB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=zn(Mr,e.__scopeScrollArea),[a,i]=f.useState(),c=f.useRef(null),u=Ce(t,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(wN,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Df(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),EN(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ad(a.paddingTop),paddingEnd:Ad(a.paddingBottom)}})}})}),[XB,yN]=hN(Mr),wN=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,m=zn(Mr,n),[w,v]=f.useState(null),y=Ce(t,L=>v(L)),x=f.useRef(null),g=f.useRef(""),b=m.viewport,S=r.content-r.viewport,_=at(d),C=at(c),N=Lf(h,10);function T(L){if(x.current){const $=L.clientX-x.current.left,V=L.clientY-x.current.top;u({x:$,y:V})}}return f.useEffect(()=>{const L=$=>{const V=$.target;(w==null?void 0:w.contains(V))&&_($,S)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,w,S,_]),f.useEffect(C,[r,C]),yi(w,N),yi(m.content,N),l.jsx(XB,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:at(o),onThumbPointerUp:at(a),onThumbPositionChange:C,onThumbPointerDown:at(i),children:l.jsx(fe.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Q(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),x.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(L))}),onPointerMove:Q(e.onPointerMove,T),onPointerUp:Q(e.onPointerUp,L=>{const $=L.target;$.hasPointerCapture(L.pointerId)&&$.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Od="ScrollAreaThumb",xN=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yN(Od,e.__scopeScrollArea);return l.jsx(_t,{present:n||s.hasThumb,children:l.jsx(ZB,{ref:t,...r})})}),ZB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=zn(Od,n),a=yN(Od,n),{onThumbPositionChange:i}=a,c=Ce(t,h=>a.onThumbChange(h)),u=f.useRef(void 0),d=Lf(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=n6(h,i);u.current=m,i()}};return i(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,i]),l.jsx(fe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,v=h.clientY-m.top;a.onThumbPointerDown({x:w,y:v})}),onPointerUp:Q(e.onPointerUp,a.onThumbPointerUp)})});xN.displayName=Od;var ay="ScrollAreaCorner",bN=f.forwardRef((e,t)=>{const n=zn(ay,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(e6,{...e,ref:t}):null});bN.displayName=ay;var e6=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=zn(ay,n),[o,a]=f.useState(0),[i,c]=f.useState(0),u=!!(o&&i);return yi(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),yi(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?l.jsx(fe.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ad(e){return e?parseInt(e,10):0}function SN(e,t){const n=e/t;return isNaN(n)?0:n}function Df(e){const t=SN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function t6(e,t,n,r="ltr"){const s=Df(n),o=s/2,a=t||o,i=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return _N([c,u],h)(e)}function hx(e,t,n="ltr"){const r=Df(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,a=t.content-t.viewport,i=o-r,c=n==="ltr"?[0,a]:[a*-1,0],u=Lm(e,c);return _N([0,a],[0,i])(u)}function _N(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EN(e,t){return e>0&&e<t}var n6=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,i=n.top!==o.top;(a||i)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Lf(e,t){const n=at(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function yi(e,t){const n=at(t);lt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var CN=pN,r6=gN,s6=bN;const iy=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(CN,{ref:r,className:ge("relative overflow-hidden",e),...n,children:[l.jsx(r6,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(kN,{}),l.jsx(s6,{})]}));iy.displayName=CN.displayName;const kN=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(sy,{ref:r,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(xN,{className:"relative flex-1 rounded-full bg-border"})}));kN.displayName=sy.displayName;const o6=`
Terms and Conditions for Couch-Share.com

Last updated: December 2025

Please read these terms and conditions carefully before using Couch-Share.com ("the Service"). By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the Terms then you may not access the Service.

1. Overview
Couch-Share.com is an online platform that connects hosts and renters for temporary housing. Couch-Share.com acts solely as a neutral marketplace. Hosts and renters are independent parties and are solely responsible for the agreements they enter into and the experiences they provide or receive.

2. Eligibility
You must be at least 18 years old and legally able to enter into binding contracts to use Couch-Share.com. By registering you represent and warrant that the information you provide is accurate and truthful.

3. User Accounts
You must provide accurate, complete, and current information when creating your account. Your login credentials are personal and non-transferable. You are responsible for safeguarding your account and for any actions taken under your account. Couch-Share.com is not responsible for any loss or damage arising from unauthorized use of your credentials.

4. Listings and Reservations
Hosts are solely responsible for the accuracy of their listings, including availability, pricing, and applicable house rules. Renters are responsible for reviewing the listing details before submitting booking requests. By submitting a booking request the renter confirms they understand the price, dates, and house rules. Couch-Share.com does not guarantee that listings are accurate, safe, or suitable for any purpose.

5. Payments
All payments are processed by Stripe or another third-party payment provider. Couch-Share.com does not hold funds on behalf of users. Stripe processes the payment using the host's account and payouts are governed by Stripe's policies. Couch-Share.com is not responsible for payment failures or disputes. Refunds, cancellations, and disputes must be resolved directly between hosts and renters.

6. Identity Verification
Couch-Share.com requires users to upload identification and a selfie for verification purposes. However, Couch-Share.com makes no guarantees concerning the authenticity of documents provided by users. You are responsible for conducting your own due diligence and exercising caution when interacting with other users.

7. Conduct
Users agree not to:
 Violate any laws, rules, or regulations.
 Provide false or misleading information.
 Use the Service for any harmful or unlawful purpose.
 Discriminate against or harass other users.
 Damage property or engage in unsafe behavior during stays.

Couch-Share.com may suspend or terminate accounts that violate these Terms at its sole discretion.

8. Limitation of Liability
Couch-Share.com, including its owners, employees, and affiliates, is not liable for any direct, indirect, incidental, consequential, special, exemplary, or punitive damages arising from or relating to your use of the Service, including but not limited to personal injury, property damage, disputes between users, or legal claims. Couch-Share.com provides the platform "as is" without warranties of any kind.

9. Indemnification
You agree to indemnify and hold Couch-Share.com harmless from any claims, losses, liabilities, damages, costs, or expenses (including legal fees) arising from your use of the Service, your breach of these Terms, or your violation of any law or rights of a third party.

10. Dispute Resolution
Couch-Share.com is not a party to disputes between users. Hosts and renters must resolve disputes directly. Couch-Share.com may, at its sole discretion, facilitate communication between parties but has no obligation to mediate or resolve disputes.

11. Termination
We may terminate or suspend your account at any time, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. Upon termination your right to use the Service will immediately cease.

12. Changes to Terms
We may modify these Terms at any time by posting an updated version on Couch-Share.com. Your continued use of the Service constitutes acceptance of the revised Terms.

13. Governing Law
These Terms are governed by the laws applicable to Couch-Share.com. Any legal action or proceeding arising under these Terms will be brought exclusively in the courts located in the jurisdiction of Couch-Share.com.

14. Contact Us
If you have any questions about these Terms, please contact Couch-Share.com using our support channels.`,a6=()=>{const[e,t]=f.useState(!1);return l.jsxs(Tf,{open:e,onOpenChange:t,children:[l.jsx("button",{type:"button",className:"text-xs font-semibold underline",onClick:()=>t(!0),children:"View terms and conditions"}),l.jsxs(Ec,{className:"max-w-3xl",children:[l.jsx(Cc,{children:l.jsx(kc,{children:"Terms & Conditions"})}),l.jsx(iy,{className:"max-h-[60vh] rounded-md border p-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm leading-6 text-slate-700",children:o6})})]})]})},px=(e,t)=>typeof e.addEventListener=="function"?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t)),NN=()=>{const[e,t]=f.useState(!1);return f.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function"){t(!1);return}const n=window.matchMedia("(min-width: 640px)"),r=window.matchMedia("(prefers-reduced-motion: reduce)"),s=()=>{t(n.matches&&!r.matches)};s();const o=px(n,s),a=px(r,s);return()=>{o(),a()}},[]),e},mx=f.lazy(()=>lo(()=>import("./Iridescence-Dx18FabJ.js"),__vite__mapDeps([2,3]))),Xh="focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900/40",i6=`
  @keyframes auroraFloat {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(0,-18px,0) scale(1.05); }
    100% { transform: translate3d(0,0,0) scale(1); }
  }

  @keyframes softDrift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
`,l6=[{top:"10%",left:"5%",size:220,opacity:.35,delay:"0s"},{top:"60%",left:"70%",size:260,opacity:.25,delay:"-3s"},{top:"75%",left:"20%",size:180,opacity:.3,delay:"-5s"}],c6=[{value:"bsc",label:"Bachelor (BSc)"},{value:"msc",label:"Master (MSc)"},{value:"phd",label:"Doctorate (PhD)"},{value:"other",label:"Other program"}],u6=["1","2","3","4","5"],d6=()=>{const e=dr(),{toast:t}=ur(),{user:n,loading:r,signOut:s}=Zv(),{refreshUser:o}=Nn(),[a,i]=f.useState("signin"),[c,u]=f.useState(""),[d,h]=f.useState(""),[p,m]=f.useState(""),[w,v]=f.useState("renter"),[y,x]=f.useState(null),[g,b]=f.useState(null),[S,_]=f.useState(!1),[C,N]=f.useState(""),[T,L]=f.useState(""),[$,V]=f.useState(""),[F,I]=f.useState(""),[j,z]=f.useState(null),[A,M]=f.useState(null),[E,R]=f.useState(!1),W=NN(),J=f.useMemo(()=>a==="signup"?nN(C):[],[a,C]),Y=f.useMemo(()=>a==="signin"?"Welcome back":"",[a]),ce=async()=>{await s(),t({title:"Signed out"})},B=async D=>{D.preventDefault(),_(!0),x(null),b(null);try{if(a==="signup"){if(d.length<6){b("Password must be at least 6 characters long."),_(!1);return}if(!j){b("Upload your student ID to continue."),_(!1);return}if(!A){b("Upload an image of your face to continue."),_(!1);return}if(!E){b("Accept the terms and conditions to continue."),_(!1);return}const H=C.trim();if(!H){b("Add your university."),_(!1);return}const ie=T.trim();if(!ie){b("Enter your program name."),_(!1);return}if(!$){b("Select your program type."),_(!1);return}if(!F){b("Select your year in the program."),_(!1);return}const ye=Number(F),he=$;if(!Number.isFinite(ye)||ye<1||ye>5){b("Choose a valid program year."),_(!1);return}const xe={data:{full_name:p,user_role:w}};typeof window<"u"&&(xe.emailRedirectTo=`${window.location.origin}/auth`);const{data:ue,error:O}=await le.auth.signUp({email:c,password:d,options:xe});if(O)throw O;const G=ue.user;if(G){const ne=await sN(G.id,j),we=await BB(G.id,A);await ey({id:G.id,email:G.email??c,full_name:p||null,user_role:w,avatar_url:we,bio:null,student_id_url:ne,university:H,program_name:ie,program_year:ye,program_type:he})}await o(),x("Check your email inbox and verify within 24 hours to keep your account."),t({title:"Verify your email",description:"A confirmation email is on its way. Verify within 24 hours to keep your account active."}),e("/listings",{replace:!0});return}const{error:U}=await le.auth.signInWithPassword({email:c,password:d});if(U)throw U;await o(),x("Signed in successfully."),t({title:"Signed in"}),e("/listings",{replace:!0})}catch(U){const H=U instanceof Error?U.message:"Authentication failed.";b(H)}finally{_(!1)}};return f.useEffect(()=>{!r&&n&&e("/listings",{replace:!0})},[r,n,e]),r?l.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-[#dbe8ff] to-white",children:[W&&l.jsx(f.Suspense,{fallback:null,children:l.jsx(mx,{color:[1.2,1.35,1.5],mouseReact:!1,amplitude:.4,speed:1.2,className:"pointer-events-none"})}),l.jsx("p",{className:"text-sm text-slate-500",children:"Loading session"})]}):l.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-[#cfdcff] via-[#e0eafe] to-[#c5d8ff] text-slate-900",children:[l.jsx("style",{children:i6}),W&&l.jsx(f.Suspense,{fallback:null,children:l.jsx(mx,{color:[1.4,1.15,1.65],mouseReact:!0,amplitude:.4,speed:1.2,className:"pointer-events-none opacity-70 mix-blend-screen"})}),l.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[l.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"linear-gradient(130deg, rgba(147,197,253,0.35), rgba(219,234,254,0.45), rgba(191,219,254,0.35))",backgroundSize:"200% 200%",animation:"softDrift 36s ease-in-out infinite"}}),l6.map(D=>l.jsx("span",{className:"absolute rounded-full bg-gradient-to-br from-white/80 via-blue-50/70 to-blue-200/40",style:{top:D.top,left:D.left,width:D.size,height:D.size,opacity:D.opacity,animation:"auroraFloat 20s ease-in-out infinite",animationDelay:D.delay}},`${D.top}-${D.left}`))]}),l.jsx("main",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-3xl flex-col justify-center px-4 py-12 sm:px-6 lg:px-8",children:l.jsx("section",{className:"relative rounded-[2rem] border border-white/60 bg-white/95 p-6 shadow-2xl backdrop-blur-xl",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[Y&&l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:Y}),l.jsx(qv,{className:"text-3xl mt-1",children:a==="signin"?"Sign in":"Create account"}),l.jsx(Qv,{className:"mt-1 text-sm",children:a==="signin"?"Enter your credentials to pick up where you left off.":"Complete the details below to create your account."})]}),l.jsx("div",{className:"flex gap-2",children:["signin","signup"].map(D=>l.jsx("button",{type:"button",onClick:()=>i(D),className:`rounded-full px-2.5 py-1 text-xs font-semibold transition sm:px-4 sm:py-2 sm:text-sm ${a===D?"bg-slate-900 text-white shadow-lg":"border border-slate-200 text-slate-500 hover:border-slate-400"} ${Xh}`,children:D==="signin"?"Sign in":"Sign up"},D))})]}),n?l.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/70 p-6",children:[l.jsxs("p",{className:"text-sm",children:["Signed in as ",l.jsx("span",{className:"font-semibold",children:n.email})]}),l.jsx(Se,{onClick:ce,variant:"destructive",className:`w-full ${Xh}`,children:"Sign out"})]}):l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"email",children:"Email"}),l.jsx(Be,{id:"email",type:"email",value:c,onChange:D=>u(D.target.value),placeholder:"you@example.com",required:!0,className:"h-11 rounded-2xl border-slate-200 bg-white/80"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"password",children:"Password"}),l.jsx(Be,{id:"password",type:"password",value:d,onChange:D=>h(D.target.value),placeholder:"",required:!0,className:"h-11 rounded-2xl border-slate-200 bg-white/80"})]}),a==="signup"&&l.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-blue-50/40 p-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"fullName",children:"Full name"}),l.jsx(Be,{id:"fullName",value:p,onChange:D=>m(D.target.value),placeholder:"Jane Doe",className:"h-11 rounded-2xl border-slate-200 bg-white"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"User role"}),l.jsx(Xv,{value:w,onValueChange:D=>v(D),className:"flex gap-3 rounded-full bg-white/70 p-1",children:[{id:"role-renter",label:"Renter",value:"renter"},{id:"role-host",label:"Host",value:"host"}].map(D=>l.jsxs("div",{className:"flex flex-1 items-center justify-center",children:[l.jsx(Rd,{value:D.value,id:D.id,className:"peer sr-only","aria-label":D.label}),l.jsx("label",{htmlFor:D.id,className:`w-full cursor-pointer rounded-full px-3 py-2 text-center text-sm font-medium transition ${w===D.value?"bg-slate-900 text-white":"text-slate-500"}`,children:D.label})]},D.value))})]}),l.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-100 bg-white/80 p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Student verification"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Every account must belong to an active student community."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"universitySignup",children:"University"}),l.jsx(Be,{id:"universitySignup",value:C,onChange:D=>N(D.target.value),placeholder:"Start typing your university",autoComplete:"off",className:"h-11 rounded-2xl border-slate-200 bg-white"}),(()=>{const D=C.trim();return!D||!J.length||J.some(H=>H.toLowerCase()===D.toLowerCase())&&J.length===1?null:l.jsx("div",{className:"max-h-32 overflow-y-auto rounded-2xl border border-slate-200 bg-white",children:J.map(H=>l.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm transition hover:bg-blue-50",onClick:()=>N(H),children:H},H))})})()]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"programNameSignup",children:"Program"}),l.jsx(Be,{id:"programNameSignup",value:T,onChange:D=>L(D.target.value),placeholder:"e.g. Computer Science",className:"h-11 rounded-2xl border-slate-200 bg-white"})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Program type"}),l.jsxs(Us,{value:$,onValueChange:D=>V(D),children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:"Select type"})}),l.jsx(Xr,{children:c6.map(D=>l.jsx(nr,{value:D.value,children:D.label},D.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Program year"}),l.jsxs(Us,{value:F,onValueChange:D=>I(D),children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:"Select year"})}),l.jsx(Xr,{children:u6.map(D=>l.jsxs(nr,{value:D,children:["Year ",D]},D))})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Te,{htmlFor:"studentId",children:["Student ID ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Be,{id:"studentId",type:"file",accept:"image/*,.pdf",onChange:D=>{var U;return z(((U=D.target.files)==null?void 0:U[0])??null)},required:!0,className:"cursor-pointer rounded-2xl border-slate-200 bg-white"}),l.jsx("p",{className:"text-xs text-slate-500",children:"We only share this with adminsnever with other users."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Te,{htmlFor:"selfiePhoto",children:["Upload an image of your face ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Be,{id:"selfiePhoto",type:"file",accept:"image/*",onChange:D=>{var U;return M(((U=D.target.files)==null?void 0:U[0])??null)},required:!0,className:"cursor-pointer rounded-2xl border-slate-200 bg-white"}),l.jsx("p",{className:"text-xs text-slate-500",children:"We use this to verify your identity and retain the safety within the platform."})]})]})]}),a==="signup"&&l.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 text-xs text-slate-600 space-y-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(fN,{id:"terms",checked:E,onCheckedChange:D=>R(!!D)}),l.jsxs("label",{htmlFor:"terms",className:"text-xs",children:["I agree to the ",l.jsx("span",{className:"font-semibold",children:"Couch-Share.com Terms & Conditions"}),"."," ",l.jsx(a6,{})]})]})}),l.jsx(Se,{type:"submit",className:`w-full rounded-full py-2.5 text-sm sm:py-3 sm:text-base ${Xh}`,disabled:S,children:S?"Please wait":a==="signin"?"Sign in":"Create account"}),l.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/70 p-4 text-xs text-slate-500",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(CI,{className:"h-4 w-4"})," Encrypted authentication  No spam"]})}),y&&l.jsx("p",{className:"text-sm text-emerald-600 text-center",children:y}),g&&l.jsx("p",{className:"text-sm text-rose-500 text-center",children:g})]})]})})})]})},f6=async()=>{try{const{error:e}=await le.from("notes").select("id",{count:"exact",head:!0});return e?`Supabase error: ${e.message}`:"Supabase connected & RLS OK"}catch(e){return`Supabase error: ${e instanceof Error?e.message:String(e)}`}},h6=f.lazy(()=>lo(()=>import("./Iridescence-Dx18FabJ.js"),__vite__mapDeps([2,3]))),Zh="focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400/60",p6=[{title:"Student exclusive",copy:"Access for students only"},{title:"Security",copy:"Users, hosts are verified students"},{title:"Student prices",copy:"A break from housing crisis"}],m6=`
  @keyframes floatyOrb {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-18px) scale(1.08); }
    100% { transform: translateY(0) scale(1); }
  }

  @keyframes auroraPulse {
    0% { opacity: 0.25; filter: blur(36px); }
    50% { opacity: 0.6; filter: blur(46px); }
    100% { opacity: 0.25; filter: blur(36px); }
  }

  @keyframes backgroundDrift {
    0% {
      background-position: 0% 50%;
      transform: translate3d(0,0,0);
    }
    50% {
      background-position: 100% 50%;
      transform: translate3d(0,-8px,0);
    }
    100% {
      background-position: 0% 50%;
      transform: translate3d(0,0,0);
    }
  }
`,g6=[{top:"15%",left:"10%",size:"220px",opacity:.35,delay:"0s"},{top:"45%",left:"75%",size:"260px",opacity:.25,delay:"-4s"},{top:"70%",left:"20%",size:"180px",opacity:.3,delay:"-2s"},{top:"30%",left:"55%",size:"150px",opacity:.2,delay:"-6s"}],v6=()=>{const e=dr(),{user:t,loading:n}=Nn(),[r,s]=f.useState(null),[o,a]=f.useState(!0),i=!n,c=i&&!t,u=NN();return f.useEffect(()=>{(async()=>{a(!0);const h=await f6();s(h),a(!1)})()},[]),l.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-[#cfdcff] via-[#dfe9ff] to-[#c5d8ff] text-slate-900",children:[l.jsx("style",{children:m6}),u&&l.jsx(f.Suspense,{fallback:null,children:l.jsx(h6,{color:[1.4,1.18,1.65],mouseReact:!0,amplitude:.45,speed:1.4,className:"pointer-events-none opacity-80 mix-blend-screen"})}),l.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[l.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"linear-gradient(125deg, rgba(99,179,237,0.35), rgba(191,219,254,0.45), rgba(147,197,253,0.35))",backgroundSize:"200% 200%",animation:"backgroundDrift 45s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-x-0 -top-32 h-72 bg-gradient-to-b from-[#7fb3ff]/40 via-transparent to-transparent blur-[80px]"}),l.jsx("div",{className:"absolute bottom-0 left-0 h-96 w-96 rounded-full bg-gradient-to-br from-[#60a5fa]/40 via-[#93c5fd]/30 to-transparent blur-[160px]"}),g6.map(d=>l.jsx("span",{className:"absolute rounded-full bg-gradient-to-br from-white/80 via-[#e0f2ff]/60 to-[#93c5fd]/40",style:{top:d.top,left:d.left,width:d.size,height:d.size,opacity:d.opacity,animation:"floatyOrb 18s ease-in-out infinite",animationDelay:d.delay}},`${d.top}-${d.left}`)),l.jsx("div",{className:"absolute top-1/3 right-10 h-48 w-48 rounded-full bg-gradient-to-br from-[#bfdbfe]/70 via-[#c7d2fe]/60 to-transparent",style:{animation:"auroraPulse 14s ease-in-out infinite"}})]}),l.jsx("header",{className:"relative z-10 border-b border-white/50 bg-gradient-to-r from-white/80 via-blue-50/70 to-white/80 backdrop-blur-2xl",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-5 flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-slate-500",children:"COUCH-SHARING"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Student-Student Exclusive"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-emerald-400","aria-hidden":!0}),o?"Connecting to Supabase":r??"Supabase connected"]})]})}),l.jsx("main",{className:"relative z-10 px-4 sm:px-6 lg:px-8 py-16",children:l.jsxs("section",{className:"max-w-3xl mx-auto space-y-8 text-center",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-slate-500",children:"Made in Switzerland"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-semibold tracking-tight text-slate-900",children:"Housing built by students"}),l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:"Couch-share is a trusted, student-only platform where students help students find affordable places to stay  from couches and floor spots to entire rooms and apartments. Simple, safe, and made for student budgets."})]}),l.jsxs("div",{className:"rounded-[36px] border border-white/60 bg-gradient-to-br from-white/80 via-blue-50/70 to-white/70 px-12 py-8 text-left shadow-2xl backdrop-blur-2xl",children:[l.jsx("p",{className:"text-base uppercase tracking-[0.55em] text-slate-500",children:"What you get"}),l.jsx("ul",{className:"mt-4 space-y-4",children:p6.map(d=>l.jsxs("li",{className:"space-y-1 border-l border-blue-200/50 pl-4",children:[l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:d.title}),l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:d.copy})]},d.title))})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[l.jsx(Se,{className:`rounded-full bg-gradient-to-r from-[#2563eb] via-[#3b82f6] to-[#6366f1] px-6 py-2 text-sm font-semibold shadow-lg shadow-blue-500/30 transition hover:shadow-blue-500/50 sm:px-10 sm:py-3 sm:text-base ${Zh}`,disabled:n,onClick:()=>e(t?"/dashboard":"/auth"),children:t?"Enter CouchStay":"Sign in"}),c&&l.jsxs(Se,{variant:"outline",className:`rounded-full border-blue-200/70 bg-white/70 px-5 py-2 text-sm text-slate-600 shadow-inner shadow-blue-100 sm:px-8 sm:py-3 sm:text-base ${Zh}`,onClick:()=>e("/auth"),children:["Create account ",l.jsx(_I,{className:"ml-2 h-4 w-4"})]}),l.jsx(Se,{variant:"ghost",className:`rounded-full px-4 py-2 text-sm text-slate-600 sm:px-6 sm:py-3 sm:text-base ${Zh}`,onClick:()=>e("/listings"),children:"Browse listings"})]}),!i&&l.jsx("p",{className:"text-xs text-slate-500",children:"Checking your account"})]})})]})};var jN={exports:{}},y6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w6=y6,x6=w6;function PN(){}function TN(){}TN.resetWarningCache=PN;var b6=function(){function e(r,s,o,a,i,c){if(c!==x6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TN,resetWarningCache:PN};return n.PropTypes=n,n};jN.exports=b6();var S6=jN.exports;const He=Jm(S6);function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(n),!0).forEach(function(r){RN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function RN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function E6(e,t){if(e==null)return{};var n=_6(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IN(e,t){return C6(e)||k6(e,t)||N6(e,t)||j6()}function C6(e){if(Array.isArray(e))return e}function k6(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,o=!1,a,i;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(c){o=!0,i=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function N6(e,t){if(e){if(typeof e=="string")return yx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(e,t)}}function yx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $t=function(t,n,r){var s=!!r,o=K.useRef(r);K.useEffect(function(){o.current=r},[r]),K.useEffect(function(){if(!s||!t)return function(){};var a=function(){o.current&&o.current.apply(o,arguments)};return t.on(n,a),function(){t.off(n,a)}},[s,n,t,o])},Ym=function(t){var n=K.useRef(t);return K.useEffect(function(){n.current=t},[t]),n.current},wi=function(t){return t!==null&&Iu(t)==="object"},P6=function(t){return wi(t)&&typeof t.then=="function"},T6=function(t){return wi(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},wx="[object Object]",R6=function e(t,n){if(!wi(t)||!wi(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var o=Object.prototype.toString.call(t)===wx,a=Object.prototype.toString.call(n)===wx;if(o!==a)return!1;if(!o&&!r)return t===n;var i=Object.keys(t),c=Object.keys(n);if(i.length!==c.length)return!1;for(var u={},d=0;d<i.length;d+=1)u[i[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var p=Object.keys(u);if(p.length!==i.length)return!1;var m=t,w=n,v=function(x){return e(m[x],w[x])};return p.every(v)},ON=function(t,n,r){return wi(t)?Object.keys(t).reduce(function(s,o){var a=!wi(n)||!R6(t[o],n[o]);return r.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):a?vx(vx({},s||{}),{},RN({},o,t[o])):s},null):null},AN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",xx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AN;if(t===null||T6(t))return t;throw new Error(n)},I6=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AN;if(P6(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return xx(s,n)})};var r=xx(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},O6=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),t.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},$f=K.createContext(null);$f.displayName="ElementsContext";var MN=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},DN=function(t){var n=t.stripe,r=t.options,s=t.children,o=K.useMemo(function(){return I6(n)},[n]),a=K.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),i=IN(a,2),c=i[0],u=i[1];K.useEffect(function(){var p=!0,m=function(v){u(function(y){return y.stripe?y:{stripe:v,elements:v.elements(r)}})};return o.tag==="async"&&!c.stripe?o.stripePromise.then(function(w){w&&p&&m(w)}):o.tag==="sync"&&!c.stripe&&m(o.stripe),function(){p=!1}},[o,c,r]);var d=Ym(n);K.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=Ym(r);return K.useEffect(function(){if(c.elements){var p=ON(r,h,["clientSecret","fonts"]);p&&c.elements.update(p)}},[r,h,c.elements]),K.useEffect(function(){O6(c.stripe)},[c.stripe]),K.createElement($f.Provider,{value:c},s)};DN.propTypes={stripe:He.any,options:He.object};var A6=function(t){var n=K.useContext($f);return MN(n,t)},M6=function(){var t=A6("calls useElements()"),n=t.elements;return n};He.func.isRequired;var LN=K.createContext(null);LN.displayName="CheckoutContext";He.any,He.shape({clientSecret:He.oneOfType([He.string,He.instanceOf(Promise)]).isRequired,elementsOptions:He.object}).isRequired;var Km=function(t){var n=K.useContext(LN),r=K.useContext($f);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return MN(r,t)},D6=["mode"],L6=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},fn=function(t,n){var r="".concat(L6(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,p=h===void 0?{}:h,m=c.onBlur,w=c.onFocus,v=c.onReady,y=c.onChange,x=c.onEscape,g=c.onClick,b=c.onLoadError,S=c.onLoaderStart,_=c.onNetworksChange,C=c.onConfirm,N=c.onCancel,T=c.onShippingAddressChange,L=c.onShippingRateChange,$=c.onSavedPaymentMethodRemove,V=c.onSavedPaymentMethodUpdate,F=Km("mounts <".concat(r,">")),I="elements"in F?F.elements:null,j="checkoutState"in F?F.checkoutState:null,z=(j==null?void 0:j.type)==="success"||(j==null?void 0:j.type)==="loading"?j.sdk:null,A=K.useState(null),M=IN(A,2),E=M[0],R=M[1],W=K.useRef(null),J=K.useRef(null);$t(E,"blur",m),$t(E,"focus",w),$t(E,"escape",x),$t(E,"click",g),$t(E,"loaderror",b),$t(E,"loaderstart",S),$t(E,"networkschange",_),$t(E,"confirm",C),$t(E,"cancel",N),$t(E,"shippingaddresschange",T),$t(E,"shippingratechange",L),$t(E,"savedpaymentmethodremove",$),$t(E,"savedpaymentmethodupdate",V),$t(E,"change",y);var Y;v&&(t==="expressCheckout"?Y=v:Y=function(){v(E)}),$t(E,"ready",Y),K.useLayoutEffect(function(){if(W.current===null&&J.current!==null&&(I||z)){var B=null;if(z)switch(t){case"paymentForm":B=z.createPaymentFormElement();break;case"payment":B=z.createPaymentElement(p);break;case"address":if("mode"in p){var D=p.mode,U=E6(p,D6);if(D==="shipping")B=z.createShippingAddressElement(U);else if(D==="billing")B=z.createBillingAddressElement(U);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":B=z.createExpressCheckoutElement(p);break;case"currencySelector":B=z.createCurrencySelectorElement();break;case"taxId":B=z.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(B=I.create(t,p));W.current=B,R(B),B&&B.mount(J.current)}},[I,z,p]);var ce=Ym(p);return K.useEffect(function(){if(W.current){var B=ON(p,ce,["paymentRequest"]);B&&"update"in W.current&&W.current.update(B)}},[p,ce]),K.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),K.createElement("div",{id:u,className:d,ref:J})},o=function(c){Km("mounts <".concat(r,">"));var u=c.id,d=c.className;return K.createElement("div",{id:u,className:d})},a=n?o:s;return a.propTypes={id:He.string,className:He.string,onChange:He.func,onBlur:He.func,onFocus:He.func,onReady:He.func,onEscape:He.func,onClick:He.func,onLoadError:He.func,onLoaderStart:He.func,onNetworksChange:He.func,onConfirm:He.func,onCancel:He.func,onShippingAddressChange:He.func,onShippingRateChange:He.func,onSavedPaymentMethodRemove:He.func,onSavedPaymentMethodUpdate:He.func,options:He.object},a.displayName=r,a.__elementType=t,a},hn=typeof window>"u",$6=K.createContext(null);$6.displayName="EmbeddedCheckoutProviderContext";var F6=function(){var t=Km("calls useStripe()"),n=t.stripe;return n};fn("auBankAccount",hn);fn("card",hn);fn("cardNumber",hn);fn("cardExpiry",hn);fn("cardCvc",hn);fn("iban",hn);var U6=fn("payment",hn);fn("expressCheckout",hn);fn("paymentRequestButton",hn);fn("linkAuthentication",hn);fn("address",hn);fn("shippingAddress",hn);fn("paymentMethodMessaging",hn);fn("taxId",hn);var $N="clover",B6=function(t){return t===3?"v3":t},FN="https://js.stripe.com",W6="".concat(FN,"/").concat($N,"/stripe.js"),z6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,H6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,bx="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",V6=function(t){return z6.test(t)||H6.test(t)},Y6=function(){for(var t=document.querySelectorAll('script[src^="'.concat(FN,'"]')),n=0;n<t.length;n++){var r=t[n];if(V6(r.src))return r}return null},Sx=function(t){var n="",r=document.createElement("script");r.src="".concat(W6).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},K6=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:n})},Ji=null,cu=null,uu=null,G6=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},q6=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Q6=function(t){return Ji!==null?Ji:(Ji=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(bx),window.Stripe){n(window.Stripe);return}try{var s=Y6();if(s&&t)console.warn(bx);else if(!s)s=Sx(t);else if(s&&uu!==null&&cu!==null){var o;s.removeEventListener("load",uu),s.removeEventListener("error",cu),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=Sx(t)}uu=q6(n,r),cu=G6(r),s.addEventListener("load",uu),s.addEventListener("error",cu)}catch(a){r(a);return}}),Ji.catch(function(n){return Ji=null,Promise.reject(n)}))},J6=function(t,n,r){if(t===null)return null;var s=n[0],o=s.match(/^pk_test/),a=B6(t.version),i=$N;o&&a!==i&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return K6(c,r),c},Xi,UN=!1,BN=function(){return Xi||(Xi=Q6(null).catch(function(t){return Xi=null,Promise.reject(t)}),Xi)};Promise.resolve().then(function(){return BN()}).catch(function(e){UN||console.warn(e)});var X6=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];UN=!0;var s=Date.now();return BN().then(function(o){return J6(o,n,s)})};const WN="pk_test_51SbObe1iaTLobM1h9AqE3AcfCfUEPeJvWO7ZreHNy6DIDXLDZMEF17qlduSZAzNouH393aUJQy9aU0Plix7p24a900ijJeqax6";let ep=null;const Z6=()=>typeof window>"u"?null:(ep||(ep=X6(WN)),ep),eW=!!WN,tW=({amountLabel:e,paymentDueLabel:t,onPaymentSuccess:n})=>{const r=F6(),s=M6(),[o,a]=f.useState(!1),[i,c]=f.useState(null),u=async d=>{var p;if(d.preventDefault(),!r||!s)return;a(!0),c(null);const h=typeof window<"u"?`${window.location.origin}/renter-dashboard`:void 0;try{const m=await r.confirmPayment({elements:s,confirmParams:h?{return_url:h}:void 0,redirect:"if_required"});m.error?c(m.error.message??"The payment could not be completed."):((p=m.paymentIntent)==null?void 0:p.status)==="succeeded"?(c("Payment successful! You're all set."),await(n==null?void 0:n())):c("Your payment is processing. We'll update you shortly.")}catch(m){const w=m instanceof Error?m.message:"Unexpected issue while confirming the payment.";c(w)}finally{a(!1)}};return l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"rounded-md border border-dashed border-muted-foreground/40 bg-muted/20 p-3 text-sm text-muted-foreground",children:[l.jsxs("p",{className:"font-semibold text-sketch-dark text-base text-left",children:["Total due: ",e]}),t&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pay before ",t," to keep your approved stay."]})]}),l.jsx(U6,{options:{layout:"tabs"}}),l.jsx(Se,{type:"submit",className:"w-full",disabled:!r||o,children:o?"Processing":`Pay ${e}`}),i&&l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:i})]})},zN=({open:e,onOpenChange:t,booking:n,clientSecret:r,amountLabel:s,paymentDueAt:o,onPaymentSuccess:a})=>{const i=Z6(),c=f.useMemo(()=>{if(!o)return null;const m=new Date(o);return Number.isNaN(m.getTime())?null:Me(m,"MMM d, yyyy HH:mm")},[o]),u=!!(e&&n&&r&&i),d=n?`Pay ${n.couchTitle??"for your stay"}`:"Complete payment";let h=null;eW?e&&!r&&(h="We couldn't create a payment session. Close this window and try again."):h="Stripe is not configured in this environment. Add VITE_STRIPE_PUBLISHABLE_KEY to your environment variables.";const p=u?{clientSecret:r,appearance:{theme:"stripe",labels:"floating"}}:void 0;return l.jsx(Tf,{open:e,onOpenChange:m=>{t(m)},children:l.jsxs(Ec,{className:"max-w-md",children:[l.jsxs(Cc,{children:[l.jsx(kc,{children:d}),l.jsx(Rf,{children:"Complete payment to confirm your approved stay. We only charge after the host accepts your request."})]}),!u||h?l.jsx("div",{className:"rounded-md border border-dashed border-muted-foreground/40 bg-muted/30 p-4 text-sm text-muted-foreground",children:h??"Preparing checkout"}):l.jsx(DN,{stripe:i,options:p,children:l.jsx(tW,{amountLabel:s,paymentDueLabel:c,onPaymentSuccess:a})},r)]})})},HN=async e=>{if(!e.bookingId)throw new Error("Booking request is missing");const t=Number(e.amount);if(!Number.isFinite(t)||t<=0)throw new Error("A positive payment amount is required");const{data:n,error:r}=await le.functions.invoke("create-payment-intent",{body:{bookingId:e.bookingId,amount:t,renterEmail:e.renterEmail??void 0}});if(r)throw r;if(!(n!=null&&n.clientSecret))throw new Error("We couldn't start checkout. Please try again.");return n},tp="CHF",nW=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const n=t.replace(/[^0-9.,-]/g,"");if(!n)return null;const r=n.includes(","),s=n.includes(".");let o=n;r&&s?o=o.replace(/,/g,""):r&&!s&&(o=o.replace(/,/g,"."));const a=Number(o);return!Number.isFinite(a)||a<=0?null:a},rW=e=>{if(!e)return tp;const t=e.trim();if(!t)return tp;const n=t.match(/^[^0-9-]+/),r=n?n[0].trim():"";return r||(t.startsWith("$")?"$":tp)},sW=(e,t)=>{const n=rW(e),r=/[A-Za-z]/.test(n)&&n.length>1;return`${n?`${n}${r?" ":""}`:""}${t.toFixed(2)}`},Md=(e,t)=>{const n=nW(e);if(!n)return null;const r=typeof t=="number"?t:Number(t??0),s=Math.max(1,Number.isFinite(r)?r:1),o=n*s;return{nightlyRate:n,nights:s,totalDue:o,amountLabel:sW(e,o)}},oW=(e,t)=>{const n={text:e??"",senderRole:"renter",senderName:t.renterName??t.hostName??null,senderId:null,hostName:t.hostName??null,hostEmail:null,renterName:t.renterName??null,renterEmail:null};if(!e)return{...n,rawBody:""};try{const r=JSON.parse(e);if(typeof r!="object"||r===null)return{...n,rawBody:e};const s=typeof r.text=="string"?r.text:n.text,o=r.senderRole==="host"?"host":"renter",a=typeof r.senderName=="string"?r.senderName:n.senderName,i=typeof r.senderId=="string"?r.senderId:null,c=typeof r.hostName=="string"?r.hostName:n.hostName,u=typeof r.hostEmail=="string"?r.hostEmail:null,d=typeof r.renterName=="string"?r.renterName:n.renterName,h=typeof r.renterEmail=="string"?r.renterEmail:null;return{text:s,senderRole:o,senderName:a,senderId:i,hostName:c,hostEmail:u,renterName:d,renterEmail:h,rawBody:e}}catch{return{...n,rawBody:e}}},ly=e=>{const t=oW(e.body,{hostName:e.host_name,renterName:e.renter_name});return{id:e.id,couchId:e.couch_id,hostId:e.host_id,hostName:t.hostName,hostEmail:t.hostEmail,renterId:e.renter_id,renterName:t.renterName,renterEmail:t.renterEmail,text:t.text,rawBody:t.rawBody??e.body??"",senderRole:t.senderRole,senderName:t.senderName,senderId:t.senderId,sentAt:e.sent_at??e.created_at??new Date().toISOString()}},Ou=e=>e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)?e:null,aW=e=>{if(!e)return[];const t=new Set;return e.forEach(n=>{if(!n)return;const r=n.trim();r&&t.add(r)}),Array.from(t)},iW=e=>e.replace(/[%_]/g,t=>`\\${t}`).replace(/,/g,"\\,"),VN=async e=>{var c;const t=e.senderRole??"renter",n=e.senderName??(t==="host"?e.hostEmail??e.hostName:e.renterName),r=Ou(e.senderId),s={version:1,text:e.body,senderRole:t,senderName:n,senderId:r,hostName:e.hostEmail??e.hostName,hostEmail:e.hostEmail??null,renterName:e.renterName,renterEmail:e.renterEmail??((c=e.renterName)!=null&&c.includes("@")?e.renterName:null)},o={couch_id:e.couchId,host_id:Ou(e.hostId),host_name:e.hostEmail??e.hostName,renter_id:Ou(e.renterId),renter_name:e.renterName,body:JSON.stringify(s),sent_at:e.sentAt??new Date().toISOString()},{data:a,error:i}=await le.from("messages").insert(o).select().single();if(i)throw i;return ly(a)},YN=async(e,t)=>{const n=Ou(e),r=aW(t),s=[];if(n&&s.push(`renter_id.eq.${n}`),r.forEach(c=>{s.push(`renter_name.ilike.%${iW(c)}%`)}),s.length===0)return[];let o=le.from("messages").select("*").order("sent_at",{ascending:!0});s.length===1&&s[0].startsWith("renter_id.eq.")?o=o.eq("renter_id",n):o=o.or(s.join(","));const{data:a,error:i}=await o;if(i)throw i;return(a??[]).map(ly)},lW=({open:e,onOpenChange:t,thread:n,currentUserRole:r,onSendMessage:s,sending:o=!1})=>{const[a,i]=f.useState(""),c=f.useMemo(()=>n?[...n.messages].sort((h,p)=>new Date(h.sentAt).getTime()-new Date(p.sentAt).getTime()):[],[n]),u=async()=>{a.trim()&&(await s(a.trim()),i(""))},d=f.useMemo(()=>n?`Chat with ${r==="host"?n.renterName??"Guest":n.hostName??"Host"}`:"Conversation",[n,r]);return l.jsx(Tf,{open:e,onOpenChange:h=>{i(""),t(h)},children:l.jsxs(Ec,{className:"max-w-lg",children:[l.jsxs(Cc,{children:[l.jsx(kc,{children:d}),(n==null?void 0:n.couchId)&&l.jsxs(Rf,{className:"text-xs text-muted-foreground",children:["Couch reference: ",n.couchId]})]}),l.jsx(iy,{className:"max-h-80 rounded-md border border-sketch p-3 bg-background/50",children:l.jsxs("div",{className:"space-y-3",children:[c.map(h=>{const p=h.senderRole===r;return l.jsxs("div",{className:`flex flex-col ${p?"items-end":"items-start"}`,children:[l.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm shadow-sm ${p?"bg-sketch-blue text-white":"bg-muted"}`,children:l.jsx("p",{className:"whitespace-pre-line leading-relaxed",children:h.text})}),l.jsxs("span",{className:"mt-1 text-[10px] uppercase tracking-wide text-muted-foreground",children:[p?"You":h.senderName??(p?"You":"Partner")," "," ",Me(new Date(h.sentAt),"MMM d, yyyy HH:mm")]})]},h.id)}),!c.length&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Start the conversation by sending a message."})]})}),l.jsxs(Yv,{className:"flex flex-col gap-3 sm:flex-col",children:[l.jsx(Ti,{value:a,onChange:h=>i(h.target.value),placeholder:"Type your message...",rows:3}),l.jsx(Se,{onClick:u,disabled:o||!a.trim(),children:o?"Sending...":"Send message"})]})]})})},cW=({queryKey:e,matcher:t})=>{const n=ji(),r=JSON.stringify(e);f.useEffect(()=>{const s=`messages-${r}-${Math.random().toString(36).slice(2)}`,o=le.channel(s),a=i=>{const c=i.new;if(!c)return;const u=ly(c);t(u)&&n.invalidateQueries({queryKey:e})};return o.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},a).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},a).subscribe(),()=>{le.removeChannel(o)}},[r,t,n,e])},Gm=({queryKey:e,matcher:t})=>{const n=ji(),r=JSON.stringify(e);f.useEffect(()=>{const s=`booking-requests-${r}-${Math.random().toString(36).slice(2)}`,o=le.channel(s),a=i=>{if(!i.new)return;const c=Ai(i.new);t(c)&&n.invalidateQueries({queryKey:e})};return o.on("postgres_changes",{event:"INSERT",schema:"public",table:"booking_requests"},a).on("postgres_changes",{event:"UPDATE",schema:"public",table:"booking_requests"},a).subscribe(),()=>{le.removeChannel(o)}},[r,t,n,e])},uW=()=>{const{profile:e}=Nn(),t=dr(),n=ji(),{toast:r}=ur(),s=(e==null?void 0:e.id)??null,o=f.useMemo(()=>{const I=new Set,j=z=>{if(!z)return;const A=z.trim();A&&I.add(A)};return j(e==null?void 0:e.full_name),e!=null&&e.full_name&&j(e.full_name.split(" ")[0]),j(e==null?void 0:e.email),e!=null&&e.email&&j(e.email.split("@")[0]),Array.from(I)},[e==null?void 0:e.full_name,e==null?void 0:e.email]),a=o.join("|"),i=f.useMemo(()=>o.map(I=>I.toLowerCase()),[o]),c=f.useCallback(I=>{const j=s&&I.renterId&&I.renterId===s,z=(I.renterName??"").toLowerCase(),A=(I.renterEmail??"").toLowerCase(),M=i.some(E=>z.includes(E)||A.includes(E));return!!(j||M)},[s,i]),u=f.useCallback(I=>{const j=s&&I.renterId&&I.renterId===s,z=(I.renterName??"").toLowerCase(),A=i.some(M=>z.includes(M));return!!(j||A)},[s,i]),d=yl({queryKey:["booking-requests",s,a],queryFn:()=>If(s,o),enabled:!!(s||o.length)}),h=yl({queryKey:["messages",s,a],queryFn:()=>YN(s,o),enabled:!!(s||o.length)});cW({queryKey:["messages",s,a],matcher:c}),Gm({queryKey:["booking-requests",s,a],matcher:u});const[p,m]=f.useState(null),[w,v]=f.useState(!1),[y,x]=f.useState(!1),[g,b]=f.useState({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null}),S=wl({mutationFn:async({thread:I,text:j})=>{const z=I.hostName??"Host",A=(e==null?void 0:e.full_name)??(e==null?void 0:e.email)??I.renterName??"You";await VN({couchId:I.couchId??`thread-${I.threadKey}`,hostId:I.hostId,hostName:z,hostEmail:I.hostEmail??null,renterId:e==null?void 0:e.id,renterName:A,renterEmail:(e==null?void 0:e.email)??null,body:j,senderRole:"renter",senderId:e==null?void 0:e.id,senderName:A})},onSuccess:()=>{n.invalidateQueries({queryKey:["messages",s,a]})},onError:I=>{console.error("Failed to send message",I),r({title:"Unable to send",description:"We couldn't deliver your message. Please try again.",variant:"destructive"})}}),_=wl({mutationFn:async({request:I,summary:j})=>{if(I.paymentStatus==="paid")throw new Error("This stay has already been paid for.");return I.paymentClientSecret&&I.paymentStatus!=="expired"?{clientSecret:I.paymentClientSecret,paymentDue:I.paymentDueAt??void 0}:HN({bookingId:I.id,amount:j.totalDue,renterEmail:(e==null?void 0:e.email)??null})},onSuccess:(I,j)=>{b({booking:j.request,clientSecret:I.clientSecret,amountLabel:j.summary.amountLabel,paymentDueAt:I.paymentDue??j.request.paymentDueAt??null}),x(!0),n.invalidateQueries({queryKey:["booking-requests",s,a]})},onError:I=>{const j=I instanceof Error?I.message:"We couldn't start checkout.";r({title:"Payment unavailable",description:j,variant:"destructive"})}}),C=f.useMemo(()=>d.data??[],[d.data]),N=f.useMemo(()=>h.data??[],[h.data]),T=f.useMemo(()=>{const I=new Map;return N.forEach(j=>{const z=j.hostName??"Host",A=j.renterName??(e==null?void 0:e.full_name)??"You",E=[j.couchId??"general",z??"host",A??"you"].join("::"),R=I.get(E);R?R.messages.push(j):I.set(E,{threadKey:E,couchId:j.couchId,hostId:j.hostId,hostName:z,hostEmail:j.hostEmail,renterId:(e==null?void 0:e.id)??j.renterId,renterName:A,renterEmail:j.renterEmail??(e==null?void 0:e.email)??null,messages:[j]})}),Array.from(I.values()).sort((j,z)=>{const A=j.messages[j.messages.length-1],M=z.messages[z.messages.length-1];return new Date(M.sentAt).getTime()-new Date(A.sentAt).getTime()})},[N,e==null?void 0:e.full_name,e==null?void 0:e.email,e==null?void 0:e.id]),L=I=>{m(I),v(!0)},$=async I=>{p&&await S.mutateAsync({thread:p,text:I})},V=f.useCallback(I=>{if(I.status!=="approved"){r({title:"Host approval pending",description:"Your host needs to approve the stay before you can pay."});return}if(I.paymentStatus==="paid"){r({title:"Already paid",description:"Thanks! We've already received payment for this stay."});return}if(I.paymentStatus==="expired"){r({title:"Payment window expired",description:"Ask your host to re-approve the booking to reopen payment.",variant:"destructive"});return}const j=Md(I.pricePerNight??null,I.nights);if(!j){r({title:"Payment unavailable",description:"We couldn't calculate the total for this stay yet. Please check with your host.",variant:"destructive"});return}_.mutate({request:I,summary:j})},[_,r]),F=(I,j)=>{const z=I?new Date(I):null;return!z||Number.isNaN(z.getTime())?"Unknown date":Me(z,j)};return l.jsxs("main",{className:"dreamy-bg min-h-screen px-4 py-6",children:[l.jsxs("header",{className:"mb-8 flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-sketch-dark",children:"Your dashboard"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Track booking status and keep conversations going with hosts."})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Se,{variant:"outline",size:"sm",onClick:()=>t("/listings"),children:"Back to listings"})})]}),!s&&l.jsx("div",{className:"sketch-card p-4 text-center text-sm text-muted-foreground",children:"Sign in as a renter to view your requests and messages."}),s&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-sketch-dark",children:"Booking requests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending stays you've requested from hosts."})]}),d.isLoading&&l.jsx("div",{className:"sketch-card p-4 text-sm text-muted-foreground",children:"Loading your booking requests..."}),d.isError&&l.jsx("div",{className:"sketch-card p-4 text-sm text-destructive",children:"Unable to load booking requests right now. Please refresh the page."}),!d.isLoading&&!d.isError&&C.length===0&&l.jsx("div",{className:"sketch-card p-4 text-sm text-muted-foreground",children:"You haven't sent any booking requests yet."}),!d.isLoading&&!d.isError&&C.length>0&&l.jsx("div",{className:"space-y-3",children:C.map(I=>{var J;const j=Md(I.pricePerNight??null,I.nights),z=I.paymentDueAt?F(I.paymentDueAt,"MMM d, yyyy HH:mm"):null,A=I.paymentStatus,M=_.isPending&&((J=_.variables)==null?void 0:J.request.id)===I.id,E=A==="paid",R=I.status==="approved"&&!E,W=A==="paid"?"Payment received. You're all set!":A==="failed"?"Your last payment attempt failed. Try again when you're ready.":A==="pending"?z?`Finish payment by ${z} to keep this reservation.`:"Finish payment to confirm your stay.":A==="expired"?"Payment window expired. Ask your host to reopen it.":"Complete payment to confirm your approved stay.";return l.jsxs("div",{className:"sketch-card p-4 grid gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-base font-semibold text-sketch-dark",children:I.couchTitle??"Couch request"}),l.jsx("span",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:I.status})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:I.hostName?`Host: ${I.hostName}`:"Host details pending"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[F(I.stayStart,"MMM d, yyyy"),"  ",F(I.stayEnd,"MMM d, yyyy"),"  ",I.nights??"?"," night",I.nights===1?"":"s"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Requested on ",F(I.createdAt,"MMM d, yyyy")]}),(R||E)&&l.jsxs("div",{className:"rounded-xl border border-emerald-200/70 bg-emerald-50/40 p-4 space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:E?"Payment complete":"Payment required"}),l.jsx("p",{className:"text-xs text-emerald-800",children:W}),E&&l.jsxs("p",{className:"text-xs font-medium text-emerald-900",children:["Reserved for ",F(I.stayStart,"MMM d, yyyy"),"  Arrival ",F(I.stayStart,"HH:mm")]})]}),j&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-base font-semibold text-emerald-900",children:j.amountLabel}),l.jsxs("p",{className:"text-xs text-emerald-800",children:[j.nights," night",j.nights===1?"":"s"," at ",I.pricePerNight??""]})]})]}),R&&j&&l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Se,{size:"sm",className:"rounded-full",disabled:M,onClick:()=>V(I),children:M?"Preparing checkout":"Pay now"})}),!j&&l.jsx("p",{className:"text-xs text-emerald-800",children:"The host hasn't set a nightly rate yet, so we can't calculate the total."}),A==="expired"&&l.jsx("p",{className:"text-xs text-rose-700",children:"Payment window expired. Ask the host to re-approve the request to try again."}),A==="failed"&&l.jsx("p",{className:"text-xs text-rose-700",children:"Payment failed. Double-check your card or try another method."})]})]},I.id)})})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-sketch-dark",children:"Conversations"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat with hosts in real time."})]}),h.isLoading&&l.jsx("div",{className:"sketch-card p-4 text-sm text-muted-foreground",children:"Loading your messages..."}),h.isError&&l.jsx("div",{className:"sketch-card p-4 text-sm text-destructive",children:"Unable to load your messages right now. Please refresh the page."}),!h.isLoading&&!h.isError&&T.length===0&&l.jsx("div",{className:"sketch-card p-4 text-sm text-muted-foreground",children:"Send a note from a couch detail page to start a conversation."}),!h.isLoading&&!h.isError&&T.length>0&&l.jsx("div",{className:"space-y-3",children:T.map(I=>{const j=I.messages[I.messages.length-1],z=j.senderRole==="renter"?"You:":`${I.hostName??"Host"}:`;return l.jsx("button",{onClick:()=>L(I),className:"w-full text-left sketch-card p-4 hover:bg-sketch-light transition",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sketch-dark text-sm",children:I.hostName??"Host"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[z," ",j.text]})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:Me(new Date(j.sentAt),"MMM d, HH:mm")})]})},I.threadKey)})})]})]}),l.jsx(lW,{open:w,onOpenChange:I=>{v(I),I||m(null)},thread:p,currentUserRole:"renter",onSendMessage:$,sending:S.isPending}),l.jsx(zN,{open:y,onOpenChange:I=>{x(I),I||b({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null})},booking:g.booking,clientSecret:g.clientSecret,amountLabel:g.amountLabel,paymentDueAt:g.paymentDueAt,onPaymentSuccess:async()=>{var j;const I=(j=g.booking)==null?void 0:j.id;if(I){const z=A=>Array.isArray(A)?A.map(M=>M.id===I?{...M,paymentStatus:"paid",status:"approved"}:M):A;n.setQueryData(["booking-requests",s,a],z),n.setQueryData(["host-manage-renter",s,a],z)}r({title:"Payment successful",description:"Your stay is confirmedcheck your email for the receipt."}),x(!1),b({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null})}})]})},dW=[{value:"bsc",label:"Bachelor (BSc)"},{value:"msc",label:"Master (MSc)"},{value:"phd",label:"Doctorate (PhD)"},{value:"other",label:"Other program"}],fW={bsc:"Bachelor (BSc)",msc:"Master (MSc)",phd:"Doctorate (PhD)",other:"Other program"},hW=["1","2","3","4","5"],_x="couch-photos",pW=e=>{const t=e.name.split(".").pop();return`${typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2)}${t?`.${t}`:""}`},mW=async(e,t)=>{const n=pW(t),r=`avatars/${e}/${n}`,{error:s}=await le.storage.from(_x).upload(r,t,{cacheControl:"3600",upsert:!0});if(s)throw new Error(s.message??"Failed to upload profile photo.");const{data:o}=le.storage.from(_x).getPublicUrl(r);if(!(o!=null&&o.publicUrl))throw new Error("Unable to fetch uploaded profile photo URL.");return o.publicUrl},gW=()=>{var R,W,J,Y,ce;const{profile:e,refreshUser:t}=Nn(),n=dr(),{toast:r}=ur(),[s,o]=f.useState({fullName:"",userRole:"renter",avatarUrl:"",bio:"",university:"",programName:"",programYear:"",programType:"",studentIdUrl:"",payoutAccountHolder:"",payoutAccountNumber:"",payoutBankName:"",payoutBankCountry:""}),[a,i]=f.useState(!0),[c,u]=f.useState(!1),[d,h]=f.useState(null),[p,m]=f.useState(null),[w,v]=f.useState(""),y=f.useRef(null),x=(e==null?void 0:e.email)??"",g=!!(e!=null&&e.user_role);f.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){i(!1);return}try{const D=await tN(e.id).catch(()=>null),U=(D==null?void 0:D.program_year)??e.program_year??null,H={fullName:(D==null?void 0:D.full_name)??e.full_name??"",userRole:(D==null?void 0:D.user_role)??e.user_role??"renter",avatarUrl:(D==null?void 0:D.avatar_url)??e.avatar_url??"",bio:(D==null?void 0:D.bio)??"",university:(D==null?void 0:D.university)??e.university??"",programName:(D==null?void 0:D.program_name)??e.program_name??"",programYear:U?String(U):"",programType:(D==null?void 0:D.program_type)??e.program_type??"",studentIdUrl:(D==null?void 0:D.student_id_url)??e.student_id_url??"",payoutAccountHolder:(D==null?void 0:D.payout_account_holder)??e.payout_account_holder??"",payoutAccountNumber:(D==null?void 0:D.payout_account_number)??e.payout_account_number??"",payoutBankName:(D==null?void 0:D.payout_bank_name)??e.payout_bank_name??"",payoutBankCountry:(D==null?void 0:D.payout_bank_country)??e.payout_bank_country??""};o(H),v(H.avatarUrl??""),h(null),y.current&&(URL.revokeObjectURL(y.current),y.current=null)}catch(D){console.warn("Failed to fetch profile",D),(e.full_name||e.avatar_url)&&(o({fullName:e.full_name??"",userRole:e.user_role??"renter",avatarUrl:e.avatar_url??"",bio:e.bio??"",university:e.university??"",programName:e.program_name??"",programYear:e.program_year?String(e.program_year):"",programType:e.program_type??"",studentIdUrl:e.student_id_url??"",payoutAccountHolder:e.payout_account_holder??"",payoutAccountNumber:e.payout_account_number??"",payoutBankName:e.payout_bank_name??"",payoutBankCountry:e.payout_bank_country??""}),v(e.avatar_url??""),h(null))}finally{i(!1)}})()},[e==null?void 0:e.avatar_url,e==null?void 0:e.bio,e==null?void 0:e.full_name,e==null?void 0:e.id,e==null?void 0:e.user_role]),f.useEffect(()=>()=>{y.current&&URL.revokeObjectURL(y.current)},[]);const b=f.useMemo(()=>e?(s.fullName??"")!==(e.full_name??"")||s.userRole!==(e.user_role??"renter")||(s.avatarUrl??"")!==(e.avatar_url??"")||(s.bio??"")!==(e.bio??"")||(s.university??"")!==(e.university??"")||(s.programName??"")!==(e.program_name??"")||(s.programYear??"")!==(e.program_year?String(e.program_year):"")||(s.programType??"")!==(e.program_type??"")||(s.studentIdUrl??"")!==(e.student_id_url??"")||(s.payoutAccountHolder??"")!==(e.payout_account_holder??"")||(s.payoutAccountNumber??"")!==(e.payout_account_number??"")||(s.payoutBankName??"")!==(e.payout_bank_name??"")||(s.payoutBankCountry??"")!==(e.payout_bank_country??"")||!!d||!!p:!0,[s,e,d,p]),S=(B,D)=>{o(U=>({...U,[B]:D}))},_=async B=>{if(B.preventDefault(),!!e){u(!0);try{let D=s.avatarUrl;d&&(D=await mW(e.id,d));let U=s.studentIdUrl;p&&(U=await sN(e.id,p));const H=g?e.user_role??s.userRole:s.userRole,ie=s.programYear?Number(s.programYear):null,ye=ie&&Number.isFinite(ie)?ie:null,he=s.university.trim(),xe=s.programName.trim(),ue=s.payoutAccountHolder.trim(),O=s.payoutAccountNumber.trim(),G=s.payoutBankName.trim(),ne=s.payoutBankCountry.trim();if(H==="host"&&(!ue||!O||!G||!ne)){r({title:"Add payout details",description:"Hosts need to provide all payout fields to receive Stripe transfers.",variant:"destructive"}),u(!1);return}const we=await ey({id:e.id,email:e.email,full_name:s.fullName||null,user_role:H,avatar_url:D||null,bio:s.bio?s.bio.slice(0,100):null,student_id_url:U||null,university:he||null,program_name:xe||null,program_year:ye??null,program_type:s.programType||null,payout_account_holder:ue||null,payout_account_number:O||null,payout_bank_name:G||null,payout_bank_country:ne||null});o({fullName:we.full_name??"",userRole:we.user_role,avatarUrl:we.avatar_url??"",bio:we.bio??"",university:we.university??"",programName:we.program_name??"",programYear:we.program_year?String(we.program_year):"",programType:we.program_type??"",studentIdUrl:we.student_id_url??"",payoutAccountHolder:we.payout_account_holder??"",payoutAccountNumber:we.payout_account_number??"",payoutBankName:we.payout_bank_name??"",payoutBankCountry:we.payout_bank_country??""}),h(null),m(null),y.current&&(URL.revokeObjectURL(y.current),y.current=null),v(we.avatar_url??""),await t(),r({title:"Profile updated",description:"Your information is now up to date."})}catch(D){console.error("Failed to update profile",D),r({title:"Update failed",description:"We couldn't save your changes. Please try again.",variant:"destructive"})}finally{u(!1)}}},C=B=>{var H;const D=(H=B.target.files)==null?void 0:H[0];if(!D)return;h(D),y.current&&(URL.revokeObjectURL(y.current),y.current=null);const U=URL.createObjectURL(D);y.current=U,v(U)},N=B=>{var U;const D=((U=B.target.files)==null?void 0:U[0])??null;m(D)},T=()=>{m(null)},L=()=>{y.current&&(URL.revokeObjectURL(y.current),y.current=null),h(null),v(s.avatarUrl||(e==null?void 0:e.avatar_url)||"")},$=g?(e==null?void 0:e.user_role)??s.userRole:s.userRole,V=$==="host"?"Host":"Renter",F=(((R=s.fullName)==null?void 0:R.trim())||((W=e==null?void 0:e.full_name)==null?void 0:W.trim())||x||"Student").trim(),I=F.charAt(0).toUpperCase()||"S",j=[!!((J=s.fullName)!=null&&J.trim()),!!w,!!((Y=s.bio)!=null&&Y.trim()),!!((ce=s.university)!=null&&ce.trim())],z=Math.round(j.filter(Boolean).length/j.length*100),A=f.useMemo(()=>nN(s.university),[s.university]),M=s.programType?fW[s.programType]:"Add your program",E=s.programYear?`Year ${s.programYear}`:"Add your year";return e?l.jsx("main",{className:"dreamy-bg min-h-screen px-4 py-10",children:l.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-6",children:[l.jsx(Se,{variant:"ghost",className:"w-fit rounded-full bg-white/70 px-4 py-2 text-sm text-slate-600 shadow-sm",onClick:()=>n(-1),children:" Back to dashboard"}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,1.5fr]",children:[l.jsxs("div",{className:"rounded-[2rem] border border-white/60 bg-white/85 p-6 shadow-2xl shadow-blue-100/50 backdrop-blur",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-full border-4 border-white shadow-lg shadow-blue-100",children:w?l.jsx("img",{src:w,alt:"Profile",className:"h-full w-full object-cover",onError:()=>v("")}):l.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-br from-blue-200 to-indigo-300 text-2xl font-semibold text-white",children:I})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Profile overview"}),l.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:F}),l.jsx("p",{className:"text-sm text-slate-500",children:x})]})]}),l.jsxs("div",{className:"mt-6 rounded-[1.5rem] border border-slate-100 bg-slate-50/80 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-slate-600",children:[l.jsx("span",{children:"Profile completeness"}),l.jsxs("span",{children:[z,"%"]})]}),l.jsx("div",{className:"mt-2 h-2 rounded-full bg-white/70",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-500",style:{width:`${z}%`}})}),l.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Finish your name, photo, and bio to help students recognize you faster."})]}),l.jsxs("dl",{className:"mt-6 grid gap-4 text-sm text-slate-600",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white/70 px-4 py-3",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs uppercase tracking-wide text-slate-400",children:"User role"}),l.jsx("dd",{className:"text-base font-semibold text-slate-900",children:V})]}),l.jsx("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-500",children:V==="Host"?"Hosting couches":"Seeking couches"})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/70 px-4 py-3",children:[l.jsx("dt",{className:"text-xs uppercase tracking-wide text-slate-400",children:"University"}),l.jsx("dd",{className:"mt-1 text-base font-semibold text-slate-900",children:s.university.trim()||"Add your university"})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/70 px-4 py-3",children:[l.jsx("dt",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Program"}),l.jsxs("dd",{className:"mt-1 space-y-1 text-sm text-slate-600",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:s.programName.trim()||"Add your program"}),l.jsxs("p",{className:"text-xs text-slate-500",children:[s.programType?M:"Choose program type","  ",s.programYear?E:"Select your year"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/70 px-4 py-3",children:[l.jsx("dt",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Student ID"}),l.jsxs("dd",{className:"mt-1 flex items-center justify-between text-sm text-slate-600",children:[l.jsx("span",{children:s.studentIdUrl?"Uploaded":"Waiting for upload"}),s.studentIdUrl&&l.jsx("a",{href:s.studentIdUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-semibold text-indigo-600 underline",children:"View"})]})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/70 px-4 py-3",children:[l.jsx("dt",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Tips"}),l.jsxs("dd",{className:"mt-2 space-y-2 text-sm",children:[l.jsx("p",{children:" Add a friendly bio so hosts know how to welcome you."}),l.jsx("p",{children:" Upload a clear profile photo to build trust."})]})]})]})]}),l.jsxs(Gv,{className:"rounded-[2rem] border border-white/70 bg-white/95 shadow-2xl shadow-blue-100/60",children:[l.jsxs(Tk,{className:"pb-4",children:[l.jsx(qv,{className:"text-2xl font-semibold text-slate-900",children:"Edit your profile"}),l.jsx(Qv,{className:"text-sm text-slate-500",children:"Update how other students see you. Your email stays the same for sign in."})]}),l.jsx(Rk,{children:a?l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading your profile"}):l.jsxs("form",{className:"space-y-8",onSubmit:_,children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Account"}),l.jsx("p",{className:"text-sm text-slate-500",children:"We use this info to keep your account secure."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"email",children:"Email"}),l.jsx(Be,{id:"email",value:x,disabled:!0,className:"bg-slate-50 text-slate-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email can't be changed."})]})]}),$==="host"&&l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Payout information"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Payment information stays private and is never shown to the public."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"payoutAccountHolder",children:"Account holder name"}),l.jsx(Be,{id:"payoutAccountHolder",value:s.payoutAccountHolder,onChange:B=>S("payoutAccountHolder",B.target.value),placeholder:"Name on bank account"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"payoutAccountNumber",children:"IBAN or account number"}),l.jsx(Be,{id:"payoutAccountNumber",value:s.payoutAccountNumber,onChange:B=>S("payoutAccountNumber",B.target.value),placeholder:"e.g. CH12 1234 5678 9012 3456 7"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"payoutBankName",children:"Bank name"}),l.jsx(Be,{id:"payoutBankName",value:s.payoutBankName,onChange:B=>S("payoutBankName",B.target.value),placeholder:"Bank where you receive payouts"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"payoutBankCountry",children:"Bank country"}),l.jsx(Be,{id:"payoutBankCountry",value:s.payoutBankCountry,onChange:B=>S("payoutBankCountry",B.target.value),placeholder:"Country where your bank is located"}),l.jsx("p",{className:"text-xs text-slate-500",children:"This helps Stripe route payouts to the right region."})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Public profile"}),l.jsx("p",{className:"text-sm text-slate-500",children:"These details are visible when students connect with you."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"fullName",children:"Full name"}),l.jsx(Be,{id:"fullName",value:s.fullName,placeholder:"Your full name",onChange:B=>S("fullName",B.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"User type"}),g?l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/80 px-4 py-3 text-sm text-slate-600",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:V}),l.jsx("p",{className:"text-xs text-slate-500",children:"Contact support if you need to change this later."})]}):l.jsxs(Xv,{value:s.userRole,onValueChange:B=>S("userRole",B),className:"flex flex-wrap gap-4 rounded-2xl border border-slate-100 bg-slate-50/80 p-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 rounded-full bg-white px-3 py-2 shadow-sm",children:[l.jsx(Rd,{id:"role-renter",value:"renter"}),l.jsx(Te,{htmlFor:"role-renter",className:"text-sm",children:"Renter"})]}),l.jsxs("div",{className:"flex items-center space-x-2 rounded-full bg-white px-3 py-2 shadow-sm",children:[l.jsx(Rd,{id:"role-host",value:"host"}),l.jsx(Te,{htmlFor:"role-host",className:"text-sm",children:"Host"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Te,{htmlFor:"profilePhoto",children:"Profile photo"}),l.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-slate-100 bg-slate-50/80 p-4 sm:flex-row sm:items-center",children:[l.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-full border border-white shadow",children:w?l.jsx("img",{src:w,alt:"Profile preview",className:"h-full w-full object-cover"}):l.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-br from-blue-200 to-indigo-300 text-xl font-semibold text-white",children:I})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Be,{id:"profilePhoto",type:"file",accept:"image/*",onChange:C,className:"cursor-pointer bg-white"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Upload a clear square image (PNG or JPG)."}),d&&l.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"px-0 text-xs text-slate-600",onClick:L,children:"Remove selected photo"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Student verification"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Add your university details so hosts know you're an active student."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"university",children:"University"}),l.jsx(Be,{id:"university",value:s.university,onChange:B=>S("university",B.target.value),placeholder:"Start typing your university name",autoComplete:"off",className:"h-11 rounded-2xl border-slate-200 bg-white"}),(()=>{const B=s.university.trim();return!B||!A.length||A.some(U=>U.toLowerCase()===B.toLowerCase())&&A.length===1?null:l.jsx("div",{className:"max-h-36 overflow-y-auto rounded-2xl border border-slate-200 bg-white",children:A.map(U=>l.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm transition hover:bg-blue-50",onClick:()=>S("university",U),children:U},U))})})()]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"programName",children:"Program name"}),l.jsx(Be,{id:"programName",value:s.programName,onChange:B=>S("programName",B.target.value),placeholder:"e.g. Computer Science",className:"h-11 rounded-2xl border-slate-200 bg-white"})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Program type"}),l.jsxs(Us,{value:s.programType,onValueChange:B=>S("programType",B),children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:"Select type"})}),l.jsx(Xr,{children:dW.map(B=>l.jsx(nr,{value:B.value,children:B.label},B.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Year in program"}),l.jsxs(Us,{value:s.programYear,onValueChange:B=>S("programYear",B),children:[l.jsx(Jr,{className:"rounded-2xl border-slate-200 bg-white",children:l.jsx(Bs,{placeholder:"Select year"})}),l.jsx(Xr,{children:hW.map(B=>l.jsxs(nr,{value:B,children:["Year ",B]},B))})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"studentIdUpload",children:"Student ID"}),l.jsxs("div",{className:"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/80 p-4",children:[l.jsx(Be,{id:"studentIdUpload",type:"file",accept:"image/*,.pdf",onChange:N,className:"cursor-pointer bg-white"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Upload updated, new student ID."}),p&&l.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"px-0 text-xs text-slate-600",onClick:T,children:"Remove selected document"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"bio",children:"Bio"}),l.jsx(Ti,{id:"bio",rows:4,value:s.bio,placeholder:"Share a bit about yourself",maxLength:100,onChange:B=>S("bio",B.target.value),className:"rounded-2xl"}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("p",{children:"Keep it friendlyother students will see this when they interact with you."}),l.jsxs("span",{children:[s.bio.length,"/100"]})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-3 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsx(Se,{type:"button",variant:"outline",onClick:()=>n(-1),className:"rounded-full px-6",children:"Cancel"}),l.jsx(Se,{type:"submit",disabled:c||!b,className:"rounded-full px-6",children:c?"Saving":"Save changes"})]})]})})]})]})]})}):l.jsxs("main",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[l.jsx("p",{className:"text-muted-foreground",children:"Sign in to edit your profile."}),l.jsx(Se,{onClick:()=>n("/auth"),children:"Go to sign in"})]})},vW=()=>{const{profile:e,session:t}=Nn(),n=dr(),{toast:r}=ur(),s=Fv(e,t),[o,a]=f.useState([]),[i,c]=f.useState(!0);f.useEffect(()=>{(async()=>{c(!0);try{const v=await kd(s);a(v)}finally{c(!1)}})()},[s]),f.useEffect(()=>{if(typeof window>"u")return;const w=()=>{s&&kd(s).then(a).catch(()=>{})};return window.addEventListener("wishlist-updated",w),()=>window.removeEventListener("wishlist-updated",w)},[s]);const u=async w=>{if(s){a(v=>v.filter(y=>y.couchId!==w.couchId));try{await Uv(s,w.couchId)}catch(v){console.error("Failed to remove wishlist item",v),r({title:"Couldn't remove",description:"Please try again.",variant:"destructive"}),a(y=>[w,...y])}}},d=f.useMemo(()=>o.map(w=>{const v=w.snapshot??{id:w.couchId,image:Jo,price:"$0",title:"Saved couch",host:"Community host",hostEmail:null,location:"Location shared after booking",availableDates:"Flexible availability",description:"",hostId:null,availability:null,coordinates:null};return{...w,snapshot:{...v,id:v.id??w.couchId,image:v.image||Jo,title:v.title||"Saved couch",price:v.price||"$0",host:v.host||"Community host",location:v.location||"Location shared after booking",availableDates:v.availableDates||"Flexible availability",description:v.description??""}}}).filter(w=>{var v;return!!((v=w.snapshot)!=null&&v.id)}),[o]),h=f.useMemo(()=>!i&&d.length===0,[i,d]);if(!s)return l.jsxs("main",{className:"min-h-screen flex flex-col items-center justify-center gap-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to build your wishlist."}),l.jsx(Se,{onClick:()=>n("/auth"),children:"Go to sign in"})]});const p=()=>l.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:Array.from({length:4}).map((w,v)=>l.jsxs("div",{className:"animate-pulse rounded-[2rem] border border-white/70 bg-white/60 p-4 shadow-lg shadow-blue-100/30",children:[l.jsx("div",{className:"h-48 rounded-2xl bg-slate-200"}),l.jsx("div",{className:"mt-4 h-4 rounded bg-slate-200"}),l.jsx("div",{className:"mt-2 h-3 rounded bg-slate-200"})]},`wishlist-skeleton-${v}`))}),m=()=>l.jsxs("div",{className:"rounded-[2.5rem] border border-dashed border-white/70 bg-white/70 p-10 text-center shadow-xl shadow-blue-100/50",children:[l.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-blue-50 text-blue-500",children:l.jsx(od,{className:"h-8 w-8"})}),l.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Start building your wishlist"}),l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Tap the heart icon on any couch to keep it handy. Well sync them across all your devices."}),l.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-3",children:[l.jsx(Se,{className:"rounded-full px-6",onClick:()=>n("/listings"),children:"Browse calming couches"}),l.jsx(Se,{variant:"outline",className:"rounded-full px-6",onClick:()=>n("/profile"),children:"Update profile"})]})]});return l.jsx("main",{className:"dreamy-bg min-h-screen px-4 py-10",children:l.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-8",children:[l.jsxs("section",{className:"rounded-[2.5rem] border border-white/60 bg-white/85 p-6 backdrop-blur-lg shadow-2xl shadow-blue-100/50",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-slate-500",children:"Collection"}),l.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Your wishlist"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Save cozy couches as you browse. You can come back anytime to compare and decide."})]}),l.jsx("div",{className:"mt-6",children:l.jsx(Se,{variant:"outline",className:"rounded-full border-white/70 bg-white/90",onClick:()=>n("/profile"),children:"Update profile"})})]}),i&&p(),h&&!i&&m(),!i&&d.length>0&&l.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:d.map(w=>l.jsxs(Gv,{className:"group relative overflow-hidden rounded-[2.5rem] border border-white/70 bg-white/95 shadow-2xl shadow-blue-100/40 transition hover:-translate-y-1.5",children:[l.jsxs("button",{type:"button",onClick:()=>u(w),className:"absolute right-4 top-4 z-10 rounded-full bg-white/90 p-2 text-rose-500 shadow",children:[l.jsx(od,{className:"h-5 w-5 fill-rose-500"}),l.jsx("span",{className:"sr-only",children:"Remove from wishlist"})]}),l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:w.snapshot.image,alt:w.snapshot.title,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/0"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-between px-5 pb-4 text-white",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold",children:w.snapshot.price}),l.jsx("p",{className:"text-xs text-white/70",children:w.snapshot.host})]}),l.jsx("span",{className:"rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-slate-800",children:"Saved couch"})]})]}),l.jsxs("div",{className:"space-y-4 p-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:w.snapshot.title}),l.jsxs("p",{className:"mt-1 flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(ev,{className:"h-4 w-4"}),w.snapshot.location]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-medium text-slate-600",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[l.jsx(Jg,{className:"h-3 w-3"})," ",w.snapshot.availableDates]}),w.snapshot.description&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[w.snapshot.description.slice(0,32),w.snapshot.description.length>32?"":""]})]}),l.jsx(Se,{className:"flex-1 rounded-full",onClick:()=>n(`/couch/${w.snapshot.id}`,{state:{couch:w.snapshot}}),children:"View details"})]})]},w.id))})]})})},yW=of("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function KN({className:e,variant:t,...n}){return l.jsx("div",{className:ge(yW({variant:t}),e),...n})}const Dd="couch-photos",GN="checkins",qN=(e,t)=>`${GN}/${e}/${t}`,QN=async(e,t)=>{const n=(()=>{const i=t.name.split("."),c=i.length>1?i.pop():null;return c?c.toLowerCase():"jpg"})(),r=`${Date.now()}-${Math.random().toString(36).slice(2)}.${n}`,s=qN(e,r),{error:o}=await le.storage.from(Dd).upload(s,t,{cacheControl:"3600",upsert:!1,contentType:t.type||"image/jpeg"});if(o)throw o;const{data:a}=le.storage.from(Dd).getPublicUrl(s);if(!(a!=null&&a.publicUrl))throw new Error("Unable to resolve uploaded photo URL.");return await le.from("booking_requests").update({has_checkin_photo:!0}).eq("id",e),a.publicUrl},wW=async e=>{const t=`${GN}/${e}`,{data:n,error:r}=await le.storage.from(Dd).list(t,{limit:50,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r){if(r.status===404)return[];throw r}return(n??[]).filter(s=>s.name).map(s=>le.storage.from(Dd).getPublicUrl(qN(e,s.name)).data.publicUrl).filter(s=>!!s)},xW=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Declined",value:"declined"},{label:"Cancelled",value:"cancelled"}],bW={pending:"bg-amber-100 text-amber-700",approved:"bg-emerald-100 text-emerald-700",declined:"bg-rose-100 text-rose-700",cancelled:"bg-slate-100 text-slate-500"},du=4,SW=()=>{var xe,ue;const{profile:e,session:t}=Nn(),n=dr(),r=ji(),{toast:s}=ur(),o=((xe=t==null?void 0:t.user)==null?void 0:xe.id)??(e==null?void 0:e.id)??null,a=((ue=t==null?void 0:t.user)==null?void 0:ue.id)??(e==null?void 0:e.id)??null,i=yl({queryKey:["host-requests-listings",o],queryFn:()=>o?$5(o):[],enabled:!!o,staleTime:1e3*30}),c=f.useMemo(()=>i.data??[],[i.data]),u=f.useMemo(()=>{const O=new Set,G=ne=>{if(!ne)return;const we=ne.trim();we&&O.add(we)};return G(e==null?void 0:e.full_name),e!=null&&e.full_name&&G(e.full_name.split(" ")[0]),G(e==null?void 0:e.email),e!=null&&e.email&&G(e.email.split("@")[0]),c.forEach(ne=>{G(ne.hostName),G(ne.hostEmail)}),Array.from(O)},[c,e==null?void 0:e.email,e==null?void 0:e.full_name]),d=f.useMemo(()=>{const O=new Set;return c.forEach(G=>{G.id&&O.add(G.id)}),Array.from(O)},[c]),h=u.join("|"),p=d.join("|"),m=f.useMemo(()=>u.map(O=>O.toLowerCase()),[u]),w=f.useMemo(()=>new Set(d.filter(Boolean)),[d]),v=f.useMemo(()=>{const O=new Set,G=ne=>{if(!ne)return;const we=ne.trim();we&&O.add(we)};return G(e==null?void 0:e.full_name),e!=null&&e.full_name&&G(e.full_name.split(" ")[0]),G(e==null?void 0:e.email),e!=null&&e.email&&G(e.email.split("@")[0]),Array.from(O)},[e==null?void 0:e.email,e==null?void 0:e.full_name]),y=v.join("|"),x=f.useMemo(()=>v.map(O=>O.toLowerCase()),[v]),g=yl({queryKey:["host-manage-requests",o,h,p],queryFn:()=>iB(o,u,d),enabled:!!(o||u.length||d.length)}),b=yl({queryKey:["host-manage-renter",a,y],queryFn:()=>If(a,v),enabled:!!(a||v.length)}),S=f.useCallback(O=>{const G=o&&O.hostId&&O.hostId===o,ne=(O.hostName??"").toLowerCase(),we=m.some(Dt=>ne.includes(Dt)),Ze=O.couchId?w.has(O.couchId):!1;return!!(G||we||Ze)},[o,m,w]),_=f.useCallback(O=>{const G=a&&O.renterId&&O.renterId===a,ne=(O.renterName??"").toLowerCase(),we=x.some(Ze=>ne.includes(Ze));return!!(G||we)},[a,x]);Gm({queryKey:["host-manage-requests",o,h,p],matcher:S}),Gm({queryKey:["host-manage-renter",a,y],matcher:_});const C=wl({mutationFn:({id:O,status:G})=>lB(O,G),onSuccess:(O,G)=>{r.invalidateQueries({queryKey:["host-manage-requests",o,h,p]}),s({title:"Request updated",description:`Marked request as ${G.status}.`})},onError:O=>{console.error("Failed to update booking request",O);const G=O instanceof Error&&/approved for this listing during the selected dates/i.test(O.message);s({title:G?"Booking dates overlap":"Update failed",description:G?"Another reservation has already been approved for these dates. Choose a different request or adjust the stay.":"We couldn't change that booking request. Please try again.",variant:"destructive"})}}),N=wl({mutationFn:O=>cB(O,a),onSuccess:O=>{r.setQueryData(["host-manage-renter",a,y],G=>Array.isArray(G)?G.map(ne=>ne.id===O.id?O:ne):G),r.setQueryData(["host-manage-requests",o,h,p],G=>Array.isArray(G)?G.map(ne=>ne.id===O.id?O:ne):G),s({title:"Request cancelled",description:"This booking request was cancelled."})},onError:O=>{console.error("Failed to cancel booking request",O),s({title:"Unable to cancel",description:"We couldn't cancel that request. Please refresh and try again.",variant:"destructive"})}}),T=wl({mutationFn:async({request:O,summary:G})=>{if(O.paymentStatus==="paid")throw new Error("This stay has already been paid for.");return O.paymentClientSecret&&O.paymentStatus!=="expired"?{clientSecret:O.paymentClientSecret,paymentDue:O.paymentDueAt??void 0}:HN({bookingId:O.id,amount:G.totalDue,renterEmail:(e==null?void 0:e.email)??null})},onSuccess:(O,G)=>{R({booking:G.request,clientSecret:O.clientSecret,amountLabel:G.summary.amountLabel,paymentDueAt:O.paymentDue??G.request.paymentDueAt??null}),M(!0),r.invalidateQueries({queryKey:["host-manage-renter",a,y]}),r.invalidateQueries({queryKey:["booking-requests",a,y]})},onError:O=>{const G=O instanceof Error?O.message:"We couldn't start checkout.";s({title:"Payment unavailable",description:G,variant:"destructive"})}}),[L,$]=f.useState("pending"),V=!!o&&(e==null?void 0:e.user_role)==="host",[F,I]=f.useState(V?"host":"renter"),[j,z]=f.useState({host:du,renter:du}),[A,M]=f.useState(!1),[E,R]=f.useState({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null}),[W,J]=f.useState({});f.useEffect(()=>{V||I("renter")},[V]);const Y=V?[{label:"Received",value:"host"},{label:"Sent",value:"renter"}]:[{label:"Your requests",value:"renter"}],ce=f.useMemo(()=>g.data??[],[g.data]),B=f.useMemo(()=>ce.filter(O=>{const G=o&&O.hostId===o,ne=O.couchId?w.has(O.couchId):!1;return!!(G||ne)}),[ce,w,o]),D=f.useMemo(()=>b.data??[],[b.data]);f.useEffect(()=>{z(O=>({...O,[F]:du}))},[F,L,B.length,D.length]);const U=f.useMemo(()=>{const O=F==="host"?B:D;return L==="all"?O:O.filter(G=>G.status===L)},[B,D,L,F]),H=f.useCallback((O,G)=>{if(F!=="host"){if(G!=="cancelled"||O.status==="cancelled"||N.isPending)return;N.mutate(O.id);return}if(O.status==="declined"&&G==="approved"){s({title:"Can't approve a declined request",description:"Declined bookings stay closed. Ask the renter to submit a new request if plans change."});return}const ne=O.status==="approved"&&G==="declined"?"cancelled":G;O.status!==ne&&C.mutate({id:O.id,status:ne})},[N,s,C,F]),ie=f.useCallback(O=>{if(O.status!=="approved"){s({title:"Host approval pending",description:"Your host needs to approve the stay before you can pay."});return}if(O.paymentStatus==="paid"){s({title:"Already paid",description:"Thanks! We've already received payment for this stay."});return}if(O.paymentStatus==="expired"){s({title:"Payment window expired",description:"Ask your host to re-approve the booking to reopen payment.",variant:"destructive"});return}const G=Md(O.pricePerNight??null,O.nights);if(!G){s({title:"Payment unavailable",description:"We couldn't calculate the total for this stay yet. Please check with your host.",variant:"destructive"});return}T.mutate({request:O,summary:G})},[T,s]),ye=f.useCallback(async(O,G)=>{if(G){J(ne=>({...ne,[O.id]:!0}));try{await QN(O.id,G),s({title:"Photo uploaded",description:"Check-in proof added."}),r.invalidateQueries({queryKey:["host-manage-requests",o,h,p]}),r.invalidateQueries({queryKey:["booking-requests",a,y]})}catch(ne){console.error("check-in upload failed",ne),s({title:"Upload failed",description:ne instanceof Error?ne.message:"Unable to upload check-in photo",variant:"destructive"})}finally{J(ne=>({...ne,[O.id]:!1}))}}},[p,o,h,r,a,y,s]),he=(O,G)=>{const ne=new Date(O);return Number.isNaN(ne.getTime())?"Unknown":Me(ne,G)};return o?l.jsxs("main",{className:"dreamy-bg min-h-screen px-4 py-10",children:[l.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-6",children:[l.jsx("header",{className:"rounded-[2rem] border border-white/60 bg-white/85 p-6 shadow-lg shadow-blue-100/50",children:l.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-muted-foreground",children:"Manage"}),l.jsx("h1",{className:"text-3xl font-semibold text-sketch-dark",children:"Booking requests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Review every booking in one place and respond when you're ready."})]})})}),l.jsxs("section",{className:"rounded-[2rem] border border-white/60 bg-white/80 p-6 shadow-xl shadow-blue-100/40 space-y-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(O=>{const G=F===O.value;return l.jsx("button",{type:"button",onClick:()=>I(O.value),className:`rounded-full px-4 py-1.5 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400 ${G?"bg-slate-900 text-white shadow-lg shadow-blue-200/60":"border border-slate-200/80 bg-white/80 text-slate-600"}`,children:O.label},O.value)})}),l.jsx("div",{className:"flex flex-wrap gap-2",children:xW.map(O=>{const G=L===O.value;return l.jsx("button",{type:"button",onClick:()=>$(O.value),className:`rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400 ${G?"bg-blue-600 text-white shadow":"border border-slate-200/70 bg-white/80 text-slate-500"}`,children:O.label},O.value)})})]}),!V&&l.jsx("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-5 text-sm text-slate-600 shadow",children:"Only approved hosts can manage booking requests from this page. If you need hosting enabled on your account, reach out to our team."}),V&&i.isSuccess&&c.length===0&&l.jsxs("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-5 text-sm text-slate-600 shadow space-y-3",children:[l.jsx("p",{children:"You haven't published a couch yet. Add one so renters can get in touch."}),l.jsx(Se,{variant:"outline",size:"sm",className:"rounded-full",onClick:()=>n("/listings",{state:{listingScope:"mine"}}),children:"Go to your listing"})]}),F==="host"&&g.isLoading&&l.jsx("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-5 text-sm text-slate-600 shadow",children:"Loading your booking requests"}),F==="renter"&&b.isLoading&&l.jsx("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-5 text-sm text-slate-600 shadow",children:"Loading your sent requests"}),F==="host"&&g.isError&&l.jsx("div",{className:"rounded-[1.75rem] border border-rose-200 bg-white/90 p-5 text-sm text-rose-600 shadow",children:"We couldn't load booking requests. Please refresh and try again."}),F==="renter"&&b.isError&&l.jsx("div",{className:"rounded-[1.75rem] border border-rose-200 bg-white/90 p-5 text-sm text-rose-600 shadow",children:"We couldn't load your reservations. Please refresh and try again."}),!g.isLoading&&!g.isError&&!b.isLoading&&!b.isError&&U.length===0&&l.jsx("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-5 text-sm text-slate-600 shadow",children:F==="host"?L==="pending"?"You're all caught up! New booking requests will appear here.":"No requests match this filter.":L==="pending"?"You haven't sent any booking requests yet.":"No sent requests match this filter."}),!g.isLoading&&!g.isError&&!b.isLoading&&!b.isError&&U.length>0&&l.jsxs("div",{className:"space-y-4",children:[U.slice(0,j[F]).map(O=>l.jsxs("div",{className:"rounded-[1.75rem] border border-white/60 bg-white/85 p-6 shadow-lg shadow-blue-100/40 space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-muted-foreground",children:F==="host"?"Host booking":"Sent booking"}),l.jsx("h3",{className:"text-lg font-semibold text-sketch-dark",children:O.couchTitle??"Couch request"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:F==="host"?`Requested by ${O.renterName??"Unknown renter"}`:`Hosted by ${O.hostName??"Unknown host"}`})]}),l.jsx(KN,{className:`rounded-full px-3 py-1 text-xs uppercase tracking-wide ${bW[O.status]}`,children:O.status})]}),l.jsxs("div",{className:"grid gap-2 text-sm text-muted-foreground sm:grid-cols-2",children:[l.jsxs("span",{children:["Price per night: ",O.pricePerNight??""]}),l.jsxs("span",{children:["Submitted: ",he(O.createdAt,"MMM d, yyyy HH:mm")]}),l.jsxs("span",{children:["Stay: ",he(O.stayStart,"MMM d, yyyy"),"  ",he(O.stayEnd,"MMM d, yyyy"),O.nights?`  ${O.nights} night${O.nights===1?"":"s"}`:""]}),l.jsx("span",{children:F==="host"?`Host: ${O.hostName??"You"}`:`Host: ${O.hostName??"Unknown"}`}),F==="renter"&&l.jsxs("span",{children:["Renter: ",O.renterName??"You"]})]}),F==="host"&&O.status==="approved"&&l.jsxs("div",{className:"rounded-xl border border-dashed border-slate-200/70 bg-slate-50/60 p-4 space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Check-in photo"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Upload a photo when the renter arrives. Payment information stays private and is never shown to the public."}),l.jsx(Be,{type:"file",accept:"image/*",disabled:W[O.id],onChange:G=>{var we;const ne=((we=G.target.files)==null?void 0:we[0])??null;ne&&ye(O,ne),G.target.value=""}}),W[O.id]&&l.jsx("p",{className:"text-xs text-slate-500",children:"Uploading photo"})]}),F==="renter"&&(()=>{var mn;const G=Md(O.pricePerNight??null,O.nights),ne=O.paymentStatus,we=O.paymentDueAt?he(O.paymentDueAt,"MMM d, yyyy HH:mm"):null,Ze=T.isPending&&((mn=T.variables)==null?void 0:mn.request.id)===O.id,Dt=ne==="paid",pn=O.status==="approved"&&!Dt;if(!pn&&!Dt)return null;const Dr=ne==="paid"?"Payment received. You're all set!":ne==="failed"?"Your last payment attempt failed. Try again when you're ready.":ne==="pending"?we?`Finish payment by ${we} to keep this reservation.`:"Finish payment to confirm your stay.":ne==="expired"?"Payment window expired. Ask your host to reopen it.":"Complete payment to confirm your approved stay.";return l.jsxs("div",{className:"rounded-xl border border-emerald-200/70 bg-emerald-50/40 p-4 space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:Dt?"Payment complete":"Payment required"}),l.jsx("p",{className:"text-xs text-emerald-800",children:Dr}),ne==="paid"&&l.jsxs("p",{className:"text-xs font-medium text-emerald-900",children:["Reserved for ",he(O.stayStart,"MMM d, yyyy"),"  Arrival ",he(O.stayStart,"HH:mm")]})]}),G&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-base font-semibold text-emerald-900",children:G.amountLabel}),l.jsxs("p",{className:"text-xs text-emerald-800",children:[G.nights," night",G.nights===1?"":"s"," at ",O.pricePerNight??""]})]})]}),pn&&G&&l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Se,{size:"sm",className:"rounded-full",disabled:Ze,onClick:()=>ie(O),children:Ze?"Preparing checkout":"Pay now"})}),!G&&l.jsx("p",{className:"text-xs text-emerald-800",children:"The host hasn't set a nightly rate yet, so we can't calculate the total."}),ne==="expired"&&l.jsx("p",{className:"text-xs text-rose-700",children:"Payment window expired. Ask the host to re-approve the request to try again."}),ne==="failed"&&l.jsx("p",{className:"text-xs text-rose-700",children:"Payment failed. Double-check your card or try another method."})]})})(),F==="host"?l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Se,{size:"sm",className:"rounded-full",disabled:O.status==="approved"||O.status==="declined"||O.status==="cancelled"||C.isPending,onClick:()=>H(O,"approved"),children:"Approve"}),l.jsx(Se,{size:"sm",variant:"outline",className:"rounded-full",disabled:O.status==="declined"||O.status==="cancelled"||C.isPending,onClick:()=>H(O,"declined"),children:"Decline"})]}):l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Se,{size:"sm",variant:"outline",className:"rounded-full",disabled:O.status!=="pending"||N.isPending,onClick:()=>H(O,"cancelled"),children:"Cancel request"})})]},O.id)),j[F]<U.length&&l.jsx("div",{className:"pt-2 text-center",children:l.jsx(Se,{variant:"outline",size:"sm",onClick:()=>z(O=>({...O,[F]:Math.min(O[F]+du,U.length)})),children:"Show more"})})]})]}),l.jsx(zN,{open:A,onOpenChange:O=>{M(O),O||R({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null})},booking:E.booking,clientSecret:E.clientSecret,amountLabel:E.amountLabel,paymentDueAt:E.paymentDueAt,onPaymentSuccess:async()=>{var G;const O=(G=E.booking)==null?void 0:G.id;if(O){const ne=we=>Array.isArray(we)?we.map(Ze=>Ze.id===O?{...Ze,paymentStatus:"paid",status:"approved"}:Ze):we;r.setQueryData(["host-manage-renter",a,y],ne),r.setQueryData(["host-manage-requests",o,h,p],ne),r.setQueryData(["booking-requests",a,y],ne)}s({title:"Payment successful",description:"Your stay is confirmedcheck your email for the receipt."}),M(!1),R({booking:null,clientSecret:null,amountLabel:"",paymentDueAt:null})}})]}):l.jsxs("main",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to manage booking requests."}),l.jsx(Se,{onClick:()=>n("/auth"),children:"Go to sign in"})]})},_W=async e=>{const{data:t,error:n}=await le.functions.invoke("transform-note",{body:{content:e}});if(n)throw n;return t},EW=()=>{const{user:e,loading:t}=Zv(),[n,r]=f.useState([]),[s,o]=f.useState(""),[a,i]=f.useState(null),[c,u]=f.useState(null),[d,h]=f.useState(null),[p,m]=f.useState(!1),[w,v]=f.useState(!1),y=f.useCallback(async()=>{if(!e){r([]);return}m(!0),i(null);const{data:b,error:S}=await le.from("notes").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);S?(i(S.message),r([])):r(b??[]),m(!1)},[e]);f.useEffect(()=>{t||y()},[t,y]);const x=async b=>{if(b.preventDefault(),!e){u("You must be signed in to add a note.");return}const S=s.trim();if(!S){u("Please enter some text before adding a note.");return}v(!0),u(null),h(null);try{const _=await _W(S);h(_.message??"Note added successfully."),o(""),_.note?r(C=>[_.note,...C].slice(0,20)):await y()}catch(_){const C=_ instanceof Error?_.message:"Failed to add note";u(C)}v(!1)},g=f.useMemo(()=>n.map(b=>({...b,formattedDate:new Date(b.created_at).toLocaleString()})),[n]);return t?l.jsx("main",{className:"dreamy-bg min-h-screen flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Checking session"})}):e?l.jsx("main",{className:"dreamy-bg min-h-screen px-4 py-8",children:l.jsxs("div",{className:"mx-auto w-full max-w-2xl space-y-8",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold text-sketch-dark",children:"Notes demo"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Add personal notes stored in Supabase. Only you can see your entries."})]}),l.jsxs("form",{onSubmit:x,className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Be,{value:s,onChange:b=>o(b.target.value),placeholder:"Write a note",className:"flex-1"}),l.jsx(Se,{type:"submit",disabled:w,children:w?"Adding":"Add note"})]}),c&&l.jsx("p",{className:"text-sm text-destructive",children:c}),d&&l.jsx("p",{className:"text-sm text-emerald-600",children:d})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Latest notes"}),l.jsx(Se,{variant:"outline",size:"sm",onClick:y,disabled:p,children:p?"Refreshing":"Refresh"})]}),a&&l.jsx("p",{className:"text-sm text-destructive",children:a}),!a&&g.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No notes yet. Add your first one above!"}),l.jsx("ul",{className:"space-y-3",children:g.map(b=>l.jsxs("li",{className:"sketch-card p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:b.formattedDate}),l.jsx("p",{className:"text-base text-sketch-dark whitespace-pre-line break-words",children:b.content})]},b.id))})]})]})}):l.jsx("main",{className:"dreamy-bg min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Sign in required"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Visit the sign-in page to receive a magic link, then return to test notes."})]})})},np=e=>{if(!e)return"Member";if(e.name)return e.name;if(e.email){const[t]=e.email.split("@");return t||"Member"}return"Member"},CW=()=>{var I;const{user:e,loading:t}=Zv(),[n,r]=f.useState([]),[s,o]=f.useState({}),[a,i]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(null),[p,m]=f.useState([]),[w,v]=f.useState(!1),[y,x]=f.useState(null),[g,b]=f.useState(""),[S,_]=f.useState(!1),[C,N]=f.useState(""),T=(e==null?void 0:e.id)??null,L=(d==null?void 0:d.otherUserId)??null;f.useEffect(()=>{if(!T){r([]),o({});return}let j=!0;return(async()=>{try{i(!0);const A=await uB(T);if(!j)return;r(A);const M=A.map(E=>E.otherUserId);if(M.length){const E=await uk(M);if(!j)return;o(E.reduce((R,W)=>(R[W.id]={id:W.id,name:W.full_name??"",role:W.user_role??null,email:W.email??null},R),{}))}h(E=>E??A[0]??null),u(null)}catch(A){const M=A instanceof Error?A.message:"Unable to load conversations.";u(M)}finally{j&&i(!1)}})(),()=>{j=!1}},[T]),f.useEffect(()=>{if(!T||!L){m([]);return}let j=!0;(async()=>{try{v(!0);const M=await jk(T,L);if(!j)return;m(M),x(null)}catch(M){const E=M instanceof Error?M.message:"Unable to load messages.";j&&(x(E),m([]))}finally{j&&v(!1)}})();const A=le.channel(`dm-center-${T}-${L}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},M=>{const E=M.new;(E.sender_id===T&&E.receiver_id===L||E.sender_id===L&&E.receiver_id===T)&&m(R=>R.some(W=>W.id===E.id)?R:[...R,E])}).subscribe();return()=>{j=!1,le.removeChannel(A)}},[L,T]);const $=f.useMemo(()=>{const j=C.trim().toLowerCase();return j?n.filter(z=>{var R;const A=s[z.otherUserId];if(!A)return!1;const M=np(A).toLowerCase(),E=((R=A.role)==null?void 0:R.toLowerCase())??"";return M.includes(j)||E.includes(j)}):n},[n,s,C]),V=j=>{h(j),x(null),b("")},F=async j=>{if(j.preventDefault(),!e||!d)return;const z=g.trim();if(!z){x("Please enter a message.");return}_(!0),x(null);try{const A=await Pk(e.id,d.otherUserId,z);A&&m(M=>[...M,A]),b("")}catch(A){const M=A instanceof Error?A.message:"Failed to send message.";x(M)}finally{_(!1)}};return t?l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading session"})}):e?l.jsx("main",{className:"dreamy-bg min-h-screen px-4 py-10",children:l.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8",children:[l.jsxs("section",{className:"rounded-[2.5rem] border border-white/60 bg-white/85 p-6 backdrop-blur-lg shadow-2xl shadow-blue-100/50",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-slate-500",children:"Conversations"}),l.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Message center"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Keep calm chats organized. Search your hosts, continue planning, and never lose a thread."})]}),l.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row",children:[l.jsxs("aside",{className:"w-full rounded-[2rem] border border-white/70 bg-white/95 p-5 shadow-xl shadow-blue-100/40 lg:max-w-xs",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Be,{value:C,onChange:j=>N(j.target.value),placeholder:"Search by name",className:"rounded-full bg-slate-50 text-sm"}),c&&l.jsx("p",{className:"text-sm text-destructive",children:c})]}),l.jsxs("ul",{className:"mt-4 space-y-2 overflow-y-auto pr-1",style:{maxHeight:"70vh"},children:[a&&l.jsx("li",{className:"text-sm text-muted-foreground",children:"Loading conversations"}),!a&&$.length===0&&l.jsx("li",{className:"text-sm text-muted-foreground",children:"No conversations yet."}),$.map(j=>{const z=s[j.otherUserId],A=j.lastMessage,M=A.content.length>60?`${A.content.slice(0,57)}`:A.content,E=Me(new Date(A.created_at),"MMM d, h:mm a"),R=(d==null?void 0:d.otherUserId)===j.otherUserId;return l.jsx("li",{children:l.jsxs("button",{type:"button",onClick:()=>V(j),className:`w-full rounded-2xl border px-4 py-3 text-left transition hover:border-blue-200 hover:bg-blue-50 ${R?"border-blue-400 bg-blue-50":"border-white/80 bg-white"}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:np(z)}),(z==null?void 0:z.role)&&l.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:z.role})]}),l.jsx("span",{className:"text-[11px] text-slate-400",children:E})]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:M})]})},j.otherUserId)})]})]}),l.jsx("section",{className:"flex-1",children:d?l.jsxs("div",{className:"flex h-full flex-col rounded-[2rem] border border-white/70 bg-white/95 p-6 shadow-2xl shadow-blue-100/40",children:[l.jsxs("header",{className:"mb-4 flex flex-wrap items-center justify-between gap-3 border-b pb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-400",children:"Chatting with"}),l.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:np(s[d.otherUserId])}),l.jsx("p",{className:"text-sm text-slate-500",children:((I=s[d.otherUserId])==null?void 0:I.role)??"Community member"})]}),l.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:"Direct messages"})]}),l.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto pr-2",children:[w&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading messages"}),!w&&p.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet. Start the conversation!"}),p.map(j=>l.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-2 text-sm shadow-sm ${j.sender_id===e.id?"ml-auto bg-blue-600 text-white":"mr-auto bg-slate-100 text-slate-800"}`,children:[l.jsx("p",{className:"whitespace-pre-line break-words",children:j.content}),l.jsx("p",{className:"mt-1 text-[11px] opacity-70",children:Me(new Date(j.created_at),"MMM d, yyyy  h:mm a")})]},j.id))]}),l.jsxs("form",{onSubmit:F,className:"mt-4 space-y-2",children:[l.jsx(Ti,{value:g,onChange:j=>{b(j.target.value),y&&x(null)},placeholder:"Write your message",rows:3,className:"rounded-2xl"}),y&&l.jsx("p",{className:"text-sm text-destructive",children:y}),l.jsx(Se,{type:"submit",disabled:S||!g.trim(),className:"rounded-full px-6",children:S?"Sending":"Send message"})]})]}):l.jsx("div",{className:"flex h-full items-center justify-center rounded-[2rem] border border-dashed border-white/70 bg-white/80 p-10 text-center shadow-2xl shadow-blue-100/30",children:l.jsx("p",{className:"text-sm text-slate-500",children:"Select a conversation on the left to view messages."})})})]})]})}):l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Sign in required"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Visit the sign-in page to view your conversations."})]})})},kW={pending:"bg-amber-100 text-amber-700",approved:"bg-emerald-100 text-emerald-700",declined:"bg-rose-100 text-rose-700",cancelled:"bg-muted text-muted-foreground"},NW=e=>{const[t,n]=f.useState([]),[r,s]=f.useState(!1),o=f.useCallback(async()=>{if(e){s(!0);try{const a=await wW(e);n(a)}catch(a){console.warn("Failed to load check-in photos",a)}finally{s(!1)}}},[e]);return f.useEffect(()=>{o()},[o]),{photos:t,loading:r,refresh:o}},Ex=({photos:e,loading:t,emptyLabel:n})=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-sketch-dark",children:"Check-in photos"}),t?l.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading check-in photos"}):e.length===0?l.jsx("p",{className:"text-xs text-muted-foreground",children:n}):l.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(r=>l.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"block overflow-hidden rounded-md border",children:l.jsx("img",{src:r,alt:"Check-in",className:"h-32 w-full object-cover"})},r))})]}),jW=({request:e})=>{const{toast:t}=ur(),{photos:n,loading:r,refresh:s}=NW(e.id),[o,a]=f.useState(!1),[i,c]=f.useState(!1),u=new Date(e.stayStart),d=new Date(e.stayEnd),h=e.status==="approved",p=f.useMemo(()=>{var y;const w=(y=e.hostName)==null?void 0:y.trim();if(!w)return"Community host";if(/\S+@\S+\.\S+/.test(w)){const x=w.split("@")[0].split(".")[0];return x.charAt(0).toUpperCase()+x.slice(1)}return w.split(" ")[0]},[e.hostName]),m=async w=>{var y;const v=(y=w.target.files)==null?void 0:y[0];if(v)try{a(!0),await QN(e.id,v),t({title:"Photo uploaded",description:"Thanks for checking in!"}),s()}catch(x){const g=x instanceof Error?x.message:"We couldn't upload that photo.";t({title:"Upload failed",description:g,variant:"destructive"})}finally{a(!1),w.target.value=""}};return l.jsxs("div",{className:"rounded-2xl border border-white/60 bg-gradient-to-br from-white/80 via-blue-50/80 to-white/70 p-4 shadow-sm shadow-blue-100/70 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-sketch-dark",children:e.couchTitle??"Couch request"}),l.jsx(KN,{className:kW[e.status],children:e.status.toUpperCase()})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsxs("p",{children:["Host: ",p]}),l.jsxs("p",{children:["Stay: ",Me(u,"MMM d, yyyy"),"  ",Me(d,"MMM d, yyyy")]}),l.jsxs("p",{className:"text-xs",children:["Requested ",Me(new Date(e.createdAt),"MMM d, yyyy h:mm a")]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("p",{children:h?"Check-in photos available":"Waiting for host approval"}),l.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full px-3 py-1 text-sm font-medium text-slate-600",onClick:()=>c(w=>!w),children:["Details",l.jsx(af,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})]})]}),i&&h&&l.jsxs("div",{className:"space-y-2 rounded-md border border-dashed border-muted-foreground/40 p-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-sketch-dark",children:"Upload a check-in photo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Snap a quick photo once you're at the couch. Hosts will see it instantly."}),l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:m,disabled:o}),o&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading"})]}),l.jsx(Ex,{photos:n,loading:r,emptyLabel:"No check-in photos uploaded yet."})]}),i&&!h&&l.jsx(Ex,{photos:n,loading:r,emptyLabel:"Check-in photos become available once the host approves your stay."})]})},rp=4,Cx=()=>{var x;const{profile:e,session:t}=Nn(),n=dr(),[r,s]=f.useState([]),[o,a]=f.useState(!1),[i,c]=f.useState(null),[u,d]=f.useState(rp),h=((x=t==null?void 0:t.user)==null?void 0:x.id)??(e==null?void 0:e.id)??null,p=(e==null?void 0:e.user_role)==="host",m=f.useMemo(()=>[(e==null?void 0:e.full_name)??"",(e==null?void 0:e.email)??""],[e==null?void 0:e.full_name,e==null?void 0:e.email]),w=f.useCallback(async()=>{if(!h){s([]);return}a(!0);try{const g=await If(h,m);s(g),d(rp),c(null)}catch(g){const b=g instanceof Error?g.message:"Unable to load requests.";c(b)}finally{a(!1)}},[m,h]);if(f.useEffect(()=>{w()},[w]),f.useEffect(()=>{p&&n("/host-requests",{replace:!0})},[p,n]),p)return null;const v=f.useMemo(()=>{if(!h)return l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in as a renter to view your requests."});if(o)return l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading your requests"});if(i)return l.jsx("p",{className:"text-sm text-destructive",children:i});if(!r.length)return l.jsx("p",{className:"text-sm text-muted-foreground",children:"You have not submitted any booking requests yet."});const g=r.slice(0,u),b=u<r.length;return l.jsxs("div",{className:"space-y-3",children:[g.map(S=>l.jsx(jW,{request:S},S.id)),b&&l.jsx("div",{className:"pt-2 text-center",children:l.jsx(Se,{variant:"outline",size:"sm",onClick:()=>d(S=>Math.min(S+rp,r.length)),children:"Show more"})})]})},[i,o,h,r,u]);return l.jsx("main",{className:"dreamy-bg min-h-screen px-4 py-8",children:l.jsxs("div",{className:"mx-auto w-full max-w-4xl space-y-6",children:[l.jsx("header",{className:"space-y-4 rounded-2xl border bg-card/70 p-6 shadow-sm",children:l.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-muted-foreground",children:"Welcome back"}),l.jsx("h1",{className:"text-2xl font-bold text-sketch-dark",children:"Reservations"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Track every request and know when hosts approve your stay."})]})})}),l.jsxs("section",{className:"rounded-xl border bg-card/60 p-4 shadow-sm",children:[l.jsx("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-sketch-dark",children:"Your bookings"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Track every request and share check-in photos with hosts."})]})}),v]})]})})},Zi="booking_requests",PW="messages_",JN="legacy-sync-v1",kx="listing_",XN="legacy-listings-v1",TW=async()=>{const e=["booking_requests","messages","user_listings"],t=[];return await Promise.all(e.map(async n=>{const{error:r}=await le.from(n).select("id").limit(1);r&&t.push({table:n,error:r.message??"Unknown error"})})),{ok:t.length===0,issues:t}},RW=e=>localStorage.getItem(`${JN}-${e}`)==="complete",IW=e=>{localStorage.setItem(`${JN}-${e}`,"complete")},OW=e=>localStorage.getItem(`${XN}-${e}`)==="complete",Nx=e=>{localStorage.setItem(`${XN}-${e}`,"complete")},Au=e=>{if(!e)return new Date().toISOString();const t=new Date(e);return Number.isNaN(t.getTime())?new Date().toISOString():t.toISOString()},AW=e=>new Set(e.map(t=>`${t.couchId??""}|${t.stayStart}|${t.stayEnd}|${t.status}`)),MW=e=>new Set(e.map(t=>`${t.hostId??""}|${t.sentAt}|${t.text}`)),DW=async e=>{const t=localStorage.getItem(Zi);if(!t)return 0;let n=[];try{const i=JSON.parse(t);n=Array.isArray(i)?i:[]}catch(i){return console.error("Failed to parse legacy booking requests",i),localStorage.removeItem(Zi),0}if(!Array.isArray(n)||n.length===0)return localStorage.removeItem(Zi),0;let r=[];try{r=await If(e.id,[e.full_name??void 0,e.email??void 0])}catch(i){console.warn("Unable to load existing booking requests from Supabase",i),r=[]}const s=AW(r);let o=0;const a=[];for(const i of n){if(i!=null&&i.renterId&&i.renterId!==e.id)continue;const c=Au((i==null?void 0:i.stayStart)??(i==null?void 0:i.start)??(i==null?void 0:i.checkIn)),u=Au((i==null?void 0:i.stayEnd)??(i==null?void 0:i.end)??(i==null?void 0:i.checkOut)??(i==null?void 0:i.checkout)),d=`${(i==null?void 0:i.couchId)??""}|${c}|${u}|${(i==null?void 0:i.status)??"pending"}`;if(s.has(d))continue;const h=(i==null?void 0:i.nights)??Math.max(1,Ln(new Date(u),new Date(c)));try{await Nk({couchId:(i==null?void 0:i.couchId)??"legacy-couch",couchTitle:(i==null?void 0:i.couchTitle)??(i==null?void 0:i.title)??"Couch booking",hostId:(i==null?void 0:i.hostId)??null,hostName:(i==null?void 0:i.hostEmail)??(i==null?void 0:i.hostName)??"Community Host",hostEmail:(i==null?void 0:i.hostEmail)??null,renterId:e.id,renterName:(i==null?void 0:i.renterName)??e.full_name??e.email??"Renter",stayStart:c,stayEnd:u,nights:h,pricePerNight:(i==null?void 0:i.pricePerNight)??(i==null?void 0:i.price)??"$0",status:(i==null?void 0:i.status)??"pending",createdAt:Au((i==null?void 0:i.createdAt)??(i==null?void 0:i.created_at)??(i==null?void 0:i.submittedAt))}),s.add(d),o+=1}catch(p){console.error("Failed to migrate legacy booking request",p),a.push(i)}}return a.length?localStorage.setItem(Zi,JSON.stringify(a)):localStorage.removeItem(Zi),o},LW=async e=>{const t=[];for(let o=0;o<localStorage.length;o++){const a=localStorage.key(o);a&&a.startsWith(PW)&&t.push(a)}if(!t.length)return 0;const n=await YN(e.id,[e.full_name??void 0,e.email??void 0]),r=MW(n);let s=0;for(const o of t){const a=localStorage.getItem(o);if(!a)continue;let i=[];try{const u=JSON.parse(a);i=Array.isArray(u)?u:[]}catch(u){console.error("Failed to parse legacy messages",u),localStorage.removeItem(o);continue}if(!Array.isArray(i)||i.length===0){localStorage.removeItem(o);continue}const c=[];for(const u of i){if(u!=null&&u.renterId&&u.renterId!==e.id){c.push(u);continue}const d=Au((u==null?void 0:u.sentAt)??(u==null?void 0:u.sent_at)??(u==null?void 0:u.created_at)),h=`${(u==null?void 0:u.hostId)??""}|${d}|${(u==null?void 0:u.text)??(u==null?void 0:u.body)??""}`;if(!r.has(h))try{await VN({couchId:(u==null?void 0:u.couchId)??"legacy-couch",hostId:(u==null?void 0:u.hostId)??null,hostName:(u==null?void 0:u.hostEmail)??(u==null?void 0:u.hostName)??"Community Host",hostEmail:(u==null?void 0:u.hostEmail)??null,renterId:e.id,renterName:(u==null?void 0:u.renterName)??e.full_name??e.email??"Renter",body:(u==null?void 0:u.text)??(u==null?void 0:u.body)??"",sentAt:d,senderRole:(u==null?void 0:u.senderRole)??"renter",senderId:(u==null?void 0:u.senderId)??e.id,senderName:(u==null?void 0:u.senderName)??((u==null?void 0:u.senderRole)==="host"?(u==null?void 0:u.hostName)??"Host":(u==null?void 0:u.renterName)??e.full_name??e.email??"Renter")}),r.add(h),s+=1}catch(p){console.error("Failed to migrate legacy message",p)}}c.length?localStorage.setItem(o,JSON.stringify(c)):localStorage.removeItem(o)}return s},$W=async e=>{if(typeof window>"u")return{bookings:0,messages:0};if(RW(e.id))return{bookings:0,messages:0};let t=0,n=0,r=!0;try{t=await DW(e)}catch(s){r=!1,console.error("Legacy booking migration failed",s)}try{n=await LW(e)}catch(s){r=!1,console.error("Legacy message migration failed",s)}return r&&IW(e.id),{bookings:t,messages:n}},FW=e=>{if(!e)return"$0";const t=e.toString().trim();return t?t.startsWith("$")?t:`$${t}`:"$0"},UW=(e,t)=>{var c,u,d;const n=t.propertyType==="house"?"House":"Flat",r=e.full_name?`${e.full_name.split(" ")[0]||"Host"}'s ${n} couch`:`${n} couch`,s=t.title??(t.address?`${n} couch at ${t.address}`:null),o=t.uploadedAt?`Listing added on ${new Date(t.uploadedAt).toLocaleDateString()}`:null,a=t.checkInTime??((c=t.availability)==null?void 0:c.checkInTime)??null,i=a?`${e.full_name??"Your host"} welcomes you. Check-in after ${a}.`:`${e.full_name??"Your host"} welcomes you.`;return{id:t.listingId&&typeof t.listingId=="string"?t.listingId:void 0,hostId:e.id,hostName:e.full_name,hostEmail:e.email,title:s??r,imageUrl:t.imageUrl??null,pricePerNight:FW(t.pricePerNight??t.price),location:t.address??t.location??"Address shared after booking",description:t.description??o??i,availability:{start:((u=t.availability)==null?void 0:u.start)??null,end:((d=t.availability)==null?void 0:d.end)??null,checkInTime:a,country:t.country??null,city:t.city??null,addressLine:t.address??t.location??null}}},BW=async e=>{if(typeof window>"u")return{listings:0};if(!e.id)return{listings:0};if(OW(e.id))return{listings:0};const t=[];for(let s=0;s<localStorage.length;s++){const o=localStorage.key(s);o&&o.startsWith(kx)&&t.push(o)}if(!t.length)return Nx(e.id),{listings:0};let n=0,r=!0;for(const s of t)try{const o=localStorage.getItem(s);if(!o)continue;const a=JSON.parse(o);if(!a||typeof a!="object")continue;const i=a,c=(i==null?void 0:i.userId)??s.replace(kx,"");if(c&&c!==e.id)continue;const u=UW(e,i??{});await Dm(u)&&(n+=1,localStorage.removeItem(s))}catch(o){r=!1,console.error("Failed to migrate legacy listing",{key:s,error:o})}return r&&Nx(e.id),typeof window<"u"&&n>0&&window.dispatchEvent(new Event("listings-updated")),{listings:n}},WW=()=>{const{profile:e}=Nn(),{toast:t}=ur(),n=f.useRef(null);return f.useEffect(()=>{if(typeof window>"u")return;if(!(e!=null&&e.id)){n.current=null;return}if(n.current===e.id)return;n.current=e.id;let r=!0;return(async()=>{try{const o=await TW();if(!o.ok){if(!r)return;t({title:"Supabase setup required",description:o.issues.map(c=>`${c.table}: ${c.error}`).join(`
`),variant:"destructive"}),console.warn("Supabase table verification issues",o.issues);return}const a=await $W({id:e.id,full_name:e.full_name,email:e.email});if(!r)return;if(a.bookings||a.messages){const c=[];a.bookings&&c.push(`${a.bookings} booking request${a.bookings===1?"":"s"}`),a.messages&&c.push(`${a.messages} message${a.messages===1?"":"s"}`),t({title:"Legacy requests synced",description:`Moved ${c.join(" and ")} into Supabase.`})}const i=await BW({id:e.id,full_name:e.full_name,email:e.email});if(!r)return;i.listings&&t({title:"Legacy listing published",description:`Moved ${i.listings} offline listing${i.listings===1?"":"s"} into Supabase.`})}catch(o){if(!r)return;console.error("Legacy data sync failed",o),t({title:"Legacy sync failed",description:"We couldn't move your past data into Supabase. Please retry later.",variant:"destructive"})}})(),()=>{r=!1}},[e==null?void 0:e.id,e==null?void 0:e.full_name,e==null?void 0:e.email,e==null?void 0:e.user_role,t]),null},sp=async(e,t=15e3,n="Request timed out")=>{let r;const s=new Promise((o,a)=>{r=setTimeout(()=>a(new Error(n)),t)});try{return await Promise.race([e,s])}finally{clearTimeout(r)}},zW=({children:e})=>{const[t,n]=f.useState(null),[r,s]=f.useState(null),[o,a]=f.useState(!0),[i,c]=f.useState(null),u=async m=>{var w,v;if(!(m!=null&&m.user)){s(null),c(null),a(!1);return}try{a(!0),c(null);const y=await sp(tN(m.user.id),12e3,"Timed out loading profile");if(y)s(y);else{const x=await ey({id:m.user.id,email:m.user.email??"",full_name:((w=m.user.user_metadata)==null?void 0:w.full_name)??null,user_role:((v=m.user.user_metadata)==null?void 0:v.user_role)??"renter",avatar_url:null,bio:null,student_id_url:null,university:null,program_name:null,program_year:null,program_type:null});s(x)}}catch(y){console.error("Failed to load profile",y),s(null),c(y instanceof Error?y.message:"Unable to load profile.")}finally{a(!1)}};f.useEffect(()=>{let m=null,w=!0;return(async()=>{var y;try{const{data:x,error:g}=await sp(le.auth.getSession(),15e3,"Timed out loading auth session");if(!w)return;if(g)throw g;n(x.session??null),await u(x.session??null),m=((y=le.auth.onAuthStateChange((S,_)=>{w&&(n(_),u(_))}).data)==null?void 0:y.subscription)??null}catch(x){console.error("Failed to initialise auth session",x),w&&(n(null),s(null),c(x instanceof Error?x.message:"Unable to connect to Supabase."),a(!1))}})(),()=>{w=!1,m==null||m.unsubscribe()}},[]);const p={user:r,session:t,profile:r,loading:o,authError:i,signOut:async()=>{await le.auth.signOut(),n(null),s(null),c(null)},refreshUser:async()=>{const{data:m}=await sp(le.auth.getSession(),15e3,"Timed out refreshing auth session");n(m.session??null),await u(m.session??null)}};return l.jsx(F1.Provider,{value:p,children:e})},HW=async(e,t=5e3,n="Request timed out")=>{let r;const s=new Promise((o,a)=>{r=setTimeout(()=>a(new Error(n)),t)});try{return await Promise.race([e,s])}finally{clearTimeout(r)}},VW=({children:e})=>{const[t,n]=f.useState(null),[r,s]=f.useState(!0);f.useEffect(()=>{let a=!0;(async()=>{try{const{data:u,error:d}=await HW(le.auth.getSession(),6e3,"Timed out loading session");if(!a)return;if(d)throw d;n(u.session??null)}catch(u){console.error("Failed to load Supabase session",u),a&&n(null)}finally{a&&s(!1)}})();const{data:c}=le.auth.onAuthStateChange((u,d)=>{a&&(n(d),s(!1))});return()=>{a=!1,c.subscription.unsubscribe()}},[]);const o=f.useMemo(()=>({session:t,user:(t==null?void 0:t.user)??null,loading:r,signOut:()=>le.auth.signOut()}),[t,r]);return l.jsx(Zk.Provider,{value:o,children:e})},wr=({children:e})=>{const{user:t,loading:n,authError:r}=Nn();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):r?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 px-4 text-center",children:l.jsxs("div",{className:"max-w-md space-y-3 rounded-3xl border border-white/50 bg-white/90 p-6 shadow-lg",children:[l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Unable to reach Supabase"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,l.jsx("br",{}),"Check that ",l.jsx("code",{className:"font-mono",children:"VITE_SUPABASE_URL"})," and ",l.jsx("code",{className:"font-mono",children:"VITE_SUPABASE_ANON_KEY"})," are set in your ",l.jsx("code",{children:".env"})," file or that the Supabase service is reachable, then refresh the page."]})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(YD,{to:"/auth",replace:!0})};var qm=["Enter"," "],YW=["ArrowDown","PageUp","Home"],ZN=["ArrowUp","PageDown","End"],KW=[...YW,...ZN],GW={ltr:[...qm,"ArrowRight"],rtl:[...qm,"ArrowLeft"]},qW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jc="Menu",[Xl,QW,JW]=nf(jc),[ca,ej]=Kt(jc,[JW,ao,Of]),Ff=ao(),tj=Of(),[XW,ua]=ca(jc),[ZW,Pc]=ca(jc),nj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,i=Ff(t),[c,u]=f.useState(null),d=f.useRef(!1),h=at(o),p=_c(s);return f.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l.jsx(fv,{...i,children:l.jsx(XW,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(ZW,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};nj.displayName=jc;var e8="MenuAnchor",cy=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ff(n);return l.jsx(dc,{...s,...r,ref:t})});cy.displayName=e8;var uy="MenuPortal",[t8,rj]=ca(uy,{forceMount:void 0}),sj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ua(uy,t);return l.jsx(t8,{scope:t,forceMount:n,children:l.jsx(_t,{present:n||o.open,children:l.jsx(_i,{asChild:!0,container:s,children:r})})})};sj.displayName=uy;var Fn="MenuContent",[n8,dy]=ca(Fn),oj=f.forwardRef((e,t)=>{const n=rj(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ua(Fn,e.__scopeMenu),a=Pc(Fn,e.__scopeMenu);return l.jsx(Xl.Provider,{scope:e.__scopeMenu,children:l.jsx(_t,{present:r||o.open,children:l.jsx(Xl.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(r8,{...s,ref:t}):l.jsx(s8,{...s,ref:t})})})})}),r8=f.forwardRef((e,t)=>{const n=ua(Fn,e.__scopeMenu),r=f.useRef(null),s=Ce(t,r);return f.useEffect(()=>{const o=r.current;if(o)return yf(o)},[]),l.jsx(fy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),s8=f.forwardRef((e,t)=>{const n=ua(Fn,e.__scopeMenu);return l.jsx(fy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),o8=eo("MenuContent.ScrollLock"),fy=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:w,...v}=e,y=ua(Fn,n),x=Pc(Fn,n),g=Ff(n),b=tj(n),S=QW(n),[_,C]=f.useState(null),N=f.useRef(null),T=Ce(t,N,y.onContentChange),L=f.useRef(0),$=f.useRef(""),V=f.useRef(0),F=f.useRef(null),I=f.useRef("right"),j=f.useRef(0),z=w?wc:f.Fragment,A=w?{as:o8,allowPinchZoom:!0}:void 0,M=R=>{var H,ie;const W=$.current+R,J=S().filter(ye=>!ye.disabled),Y=document.activeElement,ce=(H=J.find(ye=>ye.ref.current===Y))==null?void 0:H.textValue,B=J.map(ye=>ye.textValue),D=v8(B,W,ce),U=(ie=J.find(ye=>ye.textValue===D))==null?void 0:ie.ref.current;(function ye(he){$.current=he,window.clearTimeout(L.current),he!==""&&(L.current=window.setTimeout(()=>ye(""),1e3))})(W),U&&setTimeout(()=>U.focus())};f.useEffect(()=>()=>window.clearTimeout(L.current),[]),vf();const E=f.useCallback(R=>{var J,Y;return I.current===((J=F.current)==null?void 0:J.side)&&w8(R,(Y=F.current)==null?void 0:Y.area)},[]);return l.jsx(n8,{scope:n,searchRef:$,onItemEnter:f.useCallback(R=>{E(R)&&R.preventDefault()},[E]),onItemLeave:f.useCallback(R=>{var W;E(R)||((W=N.current)==null||W.focus(),C(null))},[E]),onTriggerLeave:f.useCallback(R=>{E(R)&&R.preventDefault()},[E]),pointerGraceTimerRef:V,onPointerGraceIntentChange:f.useCallback(R=>{F.current=R},[]),children:l.jsx(z,{...A,children:l.jsx(yc,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,R=>{var W;R.preventDefault(),(W=N.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(aa,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:l.jsx(Lk,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:Q(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(df,{role:"menu","aria-orientation":"vertical","data-state":bj(y.open),"data-radix-menu-content":"",dir:x.dir,...g,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,R=>{const J=R.target.closest("[data-radix-menu-content]")===R.currentTarget,Y=R.ctrlKey||R.altKey||R.metaKey,ce=R.key.length===1;J&&(R.key==="Tab"&&R.preventDefault(),!Y&&ce&&M(R.key));const B=N.current;if(R.target!==B||!KW.includes(R.key))return;R.preventDefault();const U=S().filter(H=>!H.disabled).map(H=>H.ref.current);ZN.includes(R.key)&&U.reverse(),m8(U)}),onBlur:Q(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(L.current),$.current="")}),onPointerMove:Q(e.onPointerMove,Zl(R=>{const W=R.target,J=j.current!==R.clientX;if(R.currentTarget.contains(W)&&J){const Y=R.clientX>j.current?"right":"left";I.current=Y,j.current=R.clientX}}))})})})})})})});oj.displayName=Fn;var a8="MenuGroup",hy=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(fe.div,{role:"group",...r,ref:t})});hy.displayName=a8;var i8="MenuLabel",aj=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(fe.div,{...r,ref:t})});aj.displayName=i8;var Ld="MenuItem",jx="menu.itemSelect",Uf=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=f.useRef(null),a=Pc(Ld,e.__scopeMenu),i=dy(Ld,e.__scopeMenu),c=Ce(t,o),u=f.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const p=new CustomEvent(jx,{bubbles:!0,cancelable:!0});h.addEventListener(jx,m=>r==null?void 0:r(m),{once:!0}),Kg(h,p),p.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(ij,{...s,ref:c,disabled:n,onClick:Q(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:Q(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Q(e.onKeyDown,h=>{const p=i.searchRef.current!=="";n||p&&h.key===" "||qm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Uf.displayName=Ld;var ij=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=dy(Ld,n),i=tj(n),c=f.useRef(null),u=Ce(t,c),[d,h]=f.useState(!1),[p,m]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[o.children]),l.jsx(Xl.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:l.jsx($k,{asChild:!0,...i,focusable:!r,children:l.jsx(fe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:Q(e.onPointerMove,Zl(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Zl(w=>a.onItemLeave(w))),onFocus:Q(e.onFocus,()=>h(!0)),onBlur:Q(e.onBlur,()=>h(!1))})})})}),l8="MenuCheckboxItem",lj=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return l.jsx(hj,{scope:e.__scopeMenu,checked:n,children:l.jsx(Uf,{role:"menuitemcheckbox","aria-checked":$d(n)?"mixed":n,...s,ref:t,"data-state":my(n),onSelect:Q(s.onSelect,()=>r==null?void 0:r($d(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lj.displayName=l8;var cj="MenuRadioGroup",[c8,u8]=ca(cj,{value:void 0,onValueChange:()=>{}}),uj=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=at(r);return l.jsx(c8,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(hy,{...s,ref:t})})});uj.displayName=cj;var dj="MenuRadioItem",fj=f.forwardRef((e,t)=>{const{value:n,...r}=e,s=u8(dj,e.__scopeMenu),o=n===s.value;return l.jsx(hj,{scope:e.__scopeMenu,checked:o,children:l.jsx(Uf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":my(o),onSelect:Q(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});fj.displayName=dj;var py="MenuItemIndicator",[hj,d8]=ca(py,{checked:!1}),pj=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=d8(py,n);return l.jsx(_t,{present:r||$d(o.checked)||o.checked===!0,children:l.jsx(fe.span,{...s,ref:t,"data-state":my(o.checked)})})});pj.displayName=py;var f8="MenuSeparator",mj=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});mj.displayName=f8;var h8="MenuArrow",gj=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ff(n);return l.jsx(ff,{...s,...r,ref:t})});gj.displayName=h8;var p8="MenuSub",[Uz,vj]=ca(p8),il="MenuSubTrigger",yj=f.forwardRef((e,t)=>{const n=ua(il,e.__scopeMenu),r=Pc(il,e.__scopeMenu),s=vj(il,e.__scopeMenu),o=dy(il,e.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=i.current;return()=>{window.clearTimeout(h),c(null)}},[i,c]),l.jsx(cy,{asChild:!0,...u,children:l.jsx(ij,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":bj(n.open),...e,ref:tf(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Zl(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Q(e.onPointerLeave,Zl(h=>{var m,w;d();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,y=v==="right",x=y?-5:5,g=p[y?"left":"right"],b=p[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:g,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:g,y:p.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,h=>{var m;const p=o.searchRef.current!=="";e.disabled||p&&h.key===" "||GW[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});yj.displayName=il;var wj="MenuSubContent",xj=f.forwardRef((e,t)=>{const n=rj(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ua(Fn,e.__scopeMenu),a=Pc(Fn,e.__scopeMenu),i=vj(wj,e.__scopeMenu),c=f.useRef(null),u=Ce(t,c);return l.jsx(Xl.Provider,{scope:e.__scopeMenu,children:l.jsx(_t,{present:r||o.open,children:l.jsx(Xl.Slot,{scope:e.__scopeMenu,children:l.jsx(fy,{id:i.contentId,"aria-labelledby":i.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),p=qW[a.dir].includes(d.key);h&&p&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),d.preventDefault())})})})})})});xj.displayName=wj;function bj(e){return e?"open":"closed"}function $d(e){return e==="indeterminate"}function my(e){return $d(e)?"indeterminate":e?"checked":"unchecked"}function m8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function g8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function v8(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=g8(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function y8(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],c=t[a],u=i.x,d=i.y,h=c.x,p=c.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function w8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return y8(n,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x8=nj,b8=cy,S8=sj,_8=oj,E8=hy,C8=aj,k8=Uf,N8=lj,j8=uj,P8=fj,T8=pj,R8=mj,I8=gj,O8=yj,A8=xj,Bf="DropdownMenu",[M8,Bz]=Kt(Bf,[ej]),qt=ej(),[D8,Sj]=M8(Bf),_j=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,c=qt(t),u=f.useRef(null),[d,h]=os({prop:s,defaultProp:o??!1,onChange:a,caller:Bf});return l.jsx(D8,{scope:t,triggerId:Tr(),triggerRef:u,contentId:Tr(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),modal:i,children:l.jsx(x8,{...c,open:d,onOpenChange:h,dir:r,modal:i,children:n})})};_j.displayName=Bf;var Ej="DropdownMenuTrigger",Cj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=Sj(Ej,n),a=qt(n);return l.jsx(b8,{asChild:!0,...a,children:l.jsx(fe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:tf(t,o.triggerRef),onPointerDown:Q(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:Q(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});Cj.displayName=Ej;var L8="DropdownMenuPortal",kj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=qt(t);return l.jsx(S8,{...r,...n})};kj.displayName=L8;var Nj="DropdownMenuContent",jj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Sj(Nj,n),o=qt(n),a=f.useRef(!1);return l.jsx(_8,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,i=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jj.displayName=Nj;var $8="DropdownMenuGroup",F8=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(E8,{...s,...r,ref:t})});F8.displayName=$8;var U8="DropdownMenuLabel",Pj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(C8,{...s,...r,ref:t})});Pj.displayName=U8;var B8="DropdownMenuItem",Tj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(k8,{...s,...r,ref:t})});Tj.displayName=B8;var W8="DropdownMenuCheckboxItem",Rj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(N8,{...s,...r,ref:t})});Rj.displayName=W8;var z8="DropdownMenuRadioGroup",H8=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(j8,{...s,...r,ref:t})});H8.displayName=z8;var V8="DropdownMenuRadioItem",Ij=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(P8,{...s,...r,ref:t})});Ij.displayName=V8;var Y8="DropdownMenuItemIndicator",Oj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(T8,{...s,...r,ref:t})});Oj.displayName=Y8;var K8="DropdownMenuSeparator",Aj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(R8,{...s,...r,ref:t})});Aj.displayName=K8;var G8="DropdownMenuArrow",q8=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(I8,{...s,...r,ref:t})});q8.displayName=G8;var Q8="DropdownMenuSubTrigger",Mj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(O8,{...s,...r,ref:t})});Mj.displayName=Q8;var J8="DropdownMenuSubContent",Dj=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=qt(n);return l.jsx(A8,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dj.displayName=J8;var X8=_j,Z8=Cj,ez=kj,Lj=jj,$j=Pj,Fj=Tj,Uj=Rj,Bj=Ij,Wj=Oj,zj=Aj,Hj=Mj,Vj=Dj;const tz=X8,nz=Z8,rz=f.forwardRef(({className:e,inset:t,children:n,...r},s)=>l.jsxs(Hj,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Zg,{className:"ml-auto h-4 w-4"})]}));rz.displayName=Hj.displayName;const sz=f.forwardRef(({className:e,...t},n)=>l.jsx(Vj,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));sz.displayName=Vj.displayName;const Yj=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(ez,{children:l.jsx(Lj,{ref:r,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yj.displayName=Lj.displayName;const Qm=f.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(Fj,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Qm.displayName=Fj.displayName;const oz=f.forwardRef(({className:e,children:t,checked:n,...r},s)=>l.jsxs(Uj,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Wj,{children:l.jsx(Xg,{className:"h-4 w-4"})})}),t]}));oz.displayName=Uj.displayName;const az=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Bj,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Wj,{children:l.jsx(N_,{className:"h-2 w-2 fill-current"})})}),t]}));az.displayName=Bj.displayName;const iz=f.forwardRef(({className:e,inset:t,...n},r)=>l.jsx($j,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));iz.displayName=$j.displayName;const lz=f.forwardRef(({className:e,...t},n)=>l.jsx(zj,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));lz.displayName=zj.displayName;const cz=[{label:"Reservations",path:"/dashboard"},{label:"Listings",path:"/listings"},{label:"Wishlist",path:"/wishlist"},{label:"Messages",path:"/messages"},{label:"Profile",path:"/profile"}],uz=()=>{const e=dr(),t=ia(),{signOut:n,profile:r}=Nn(),s=(r==null?void 0:r.user_role)==="host",o=(a,i)=>{e("/listings",{state:{listingScope:a,triggerEdit:!1}})};return t.pathname==="/auth"||t.pathname==="/"?null:l.jsxs("div",{className:"pointer-events-none fixed right-4 top-4 z-40 flex flex-col items-end gap-3",children:[l.jsx("div",{className:"pointer-events-auto flex flex-wrap justify-end gap-2",children:cz.map(a=>a.path==="/listings"&&s?l.jsxs(tz,{children:[l.jsx(nz,{asChild:!0,children:l.jsxs(Se,{size:"sm",variant:t.pathname.startsWith(a.path)?"default":"outline",className:"rounded-full border-white/70 bg-white/90 text-slate-700 shadow",children:["Listings",l.jsx(af,{className:"ml-2 h-4 w-4"})]})}),l.jsxs(Yj,{align:"end",className:"min-w-[10rem]",children:[l.jsx(Qm,{onSelect:()=>o("all"),children:"All listings"}),l.jsx(Qm,{onSelect:()=>o("mine"),children:"Edit my listing"})]})]},`${a.path}-dropdown`):l.jsx(Se,{size:"sm",variant:t.pathname.startsWith(a.path)?"default":"outline",className:"rounded-full border-white/70 bg-white/90 text-slate-700 shadow",onClick:()=>e(a.path),children:a.label},a.path))}),l.jsx(Se,{onClick:()=>n(),variant:"destructive",size:"sm",className:"pointer-events-auto rounded-full bg-red-600 text-white shadow hover:bg-red-500",children:"Sign out"})]})},dz=e=>`email-verification-warning:${e}`,fz=()=>{const{session:e}=Nn(),{toast:t}=ur();return f.useEffect(()=>{const n=(e==null?void 0:e.user)??null;if(!n)return;const r=!!n.email_confirmed_at,s=dz(n.id);if(r){sessionStorage.removeItem(s);return}sessionStorage.getItem(s)||(t({title:"Verify your email",description:"Check your inbox for the verification link. New accounts must be confirmed within 24 hours or they will be removed.",variant:"default"}),sessionStorage.setItem(s,new Date().toISOString()))},[e,t]),null},hz=new WM,pz=()=>l.jsx(KM,{client:hz,children:l.jsx(VW,{children:l.jsxs(zW,{children:[l.jsx(WW,{}),l.jsxs(CM,{children:[l.jsx(cO,{}),l.jsx(BO,{}),l.jsx(fz,{}),l.jsxs(JD,{children:[l.jsx(uz,{}),l.jsxs(GD,{children:[l.jsx(Zt,{path:"/",element:l.jsx(v6,{})}),l.jsx(Zt,{path:"/auth",element:l.jsx(d6,{})}),l.jsx(Zt,{path:"/listings",element:l.jsx(wr,{children:l.jsx(W3,{})})}),l.jsx(Zt,{path:"/couch/:id",element:l.jsx(wr,{children:l.jsx(gB,{})})}),l.jsx(Zt,{path:"/renter-dashboard",element:l.jsx(wr,{children:l.jsx(uW,{})})}),l.jsx(Zt,{path:"/host-requests",element:l.jsx(wr,{children:l.jsx(SW,{})})}),l.jsx(Zt,{path:"/wishlist",element:l.jsx(wr,{children:l.jsx(vW,{})})}),l.jsx(Zt,{path:"/profile",element:l.jsx(wr,{children:l.jsx(gW,{})})}),l.jsx(Zt,{path:"/notes",element:l.jsx(wr,{children:l.jsx(EW,{})})}),l.jsx(Zt,{path:"/messages",element:l.jsx(wr,{children:l.jsx(CW,{})})}),l.jsx(Zt,{path:"/dashboard",element:l.jsx(wr,{children:l.jsx(Cx,{})})}),l.jsx(Zt,{path:"/bookings",element:l.jsx(wr,{children:l.jsx(Cx,{})})}),l.jsx(Zt,{path:"*",element:l.jsx(XD,{})})]})]})]})]})})});XS(document.getElementById("root")).render(l.jsx(pz,{}));export{Se as B,K as R,oa as a,Jo as b,Un as c,Jm as g,l as j,f as r};
